const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskCompleteTemplate-BeaZRag8.js","assets/proxy-D0-W0EEq.js","assets/AlertTemplate-B18dn5gS.js","assets/MetricsTemplate-CObsicX9.js","assets/AnnouncementTemplate-ad-MI--W.js","assets/DailyDigestTemplate-53DW3qA8.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jc={exports:{}},nl={},Zc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),Mf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),$f=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),Wf=Symbol.for("react.lazy"),ko=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=ko&&e[ko]||e["@@iterator"],typeof e=="function"?e:null)}var eu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tu=Object.assign,nu={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ru(){}ru.prototype=Bn.prototype;function pa(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}var ma=pa.prototype=new ru;ma.constructor=pa;tu(ma,Bn.prototype);ma.isPureReactComponent=!0;var bo=Array.isArray,su=Object.prototype.hasOwnProperty,xa={current:null},lu={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)su.call(t,r)&&!lu.hasOwnProperty(r)&&(l[r]=t[r]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];l.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)l[r]===void 0&&(l[r]=c[r]);return{$$typeof:Br,type:e,key:i,ref:a,props:l,_owner:xa.current}}function Qf(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Kf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var So=/\/+/g;function Ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kf(""+e.key):t.toString(36)}function ms(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Br:case Mf:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Ll(a,0):r,bo(l)?(n="",e!=null&&(n=e.replace(So,"$&/")+"/"),ms(l,t,n,"",function(u){return u})):l!=null&&(ga(l)&&(l=Qf(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(So,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",bo(e))for(var c=0;c<e.length;c++){i=e[c];var o=r+Ll(i,c);a+=ms(i,t,n,o,l)}else if(o=qf(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=r+Ll(i,c++),a+=ms(i,t,n,o,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qr(e,t,n){if(e==null)return e;var r=[],l=0;return ms(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Yf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},xs={transition:null},Gf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:xs,ReactCurrentOwner:xa};function au(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:qr,forEach:function(e,t,n){qr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qr(e,function(){t++}),t},toArray:function(e){return qr(e,function(t){return t})||[]},only:function(e){if(!ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Bn;W.Fragment=Df;W.Profiler=Ff;W.PureComponent=pa;W.StrictMode=zf;W.Suspense=Hf;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;W.act=au;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tu({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=xa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)su.call(t,o)&&!lu.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Br,type:e.type,key:l,ref:i,props:r,_owner:a}};W.createContext=function(e){return e={$$typeof:$f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bf,_context:e},e.Consumer=e};W.createElement=iu;W.createFactory=function(e){var t=iu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Uf,render:e}};W.isValidElement=ga;W.lazy=function(e){return{$$typeof:Wf,_payload:{_status:-1,_result:e},_init:Yf}};W.memo=function(e,t){return{$$typeof:Vf,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};W.unstable_act=au;W.useCallback=function(e,t){return Ce.current.useCallback(e,t)};W.useContext=function(e){return Ce.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ce.current.useEffect(e,t)};W.useId=function(){return Ce.current.useId()};W.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ce.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};W.useRef=function(e){return Ce.current.useRef(e)};W.useState=function(e){return Ce.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Ce.current.useTransition()};W.version="18.3.1";Zc.exports=W;var y=Zc.exports;const Xf=Of(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=y,Zf=Symbol.for("react.element"),eh=Symbol.for("react.fragment"),th=Object.prototype.hasOwnProperty,nh=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rh={key:!0,ref:!0,__self:!0,__source:!0};function ou(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)th.call(t,r)&&!rh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Zf,type:e,key:i,ref:a,props:l,_owner:nh.current}}nl.Fragment=eh;nl.jsx=ou;nl.jsxs=ou;Jc.exports=nl;var s=Jc.exports,hi={},cu={exports:{}},De={},uu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var U=L.length;L.push(z);e:for(;0<U;){var J=U-1>>>1,P=L[J];if(0<l(P,z))L[J]=z,L[U]=P,U=J;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],U=L.pop();if(U!==z){L[0]=U;e:for(var J=0,P=L.length,Z=P>>>1;J<Z;){var X=2*(J+1)-1,pe=L[X],V=X+1,T=L[V];if(0>l(pe,U))V<P&&0>l(T,pe)?(L[J]=T,L[V]=U,J=V):(L[J]=pe,L[X]=U,J=X);else if(V<P&&0>l(T,U))L[J]=T,L[V]=U,J=V;else break e}}return z}function l(L,z){var U=L.sortIndex-z.sortIndex;return U!==0?U:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var o=[],u=[],p=1,m=null,d=3,v=!1,w=!1,g=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,t(o,z);else break;z=n(u)}}function N(L){if(g=!1,h(L),!w)if(n(o)!==null)w=!0,G(S);else{var z=n(u);z!==null&&E(N,z.startTime-L)}}function S(L,z){w=!1,g&&(g=!1,x(k),k=-1),v=!0;var U=d;try{for(h(z),m=n(o);m!==null&&(!(m.expirationTime>z)||L&&!H());){var J=m.callback;if(typeof J=="function"){m.callback=null,d=m.priorityLevel;var P=J(m.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?m.callback=P:m===n(o)&&r(o),h(z)}else r(o);m=n(o)}if(m!==null)var Z=!0;else{var X=n(u);X!==null&&E(N,X.startTime-z),Z=!1}return Z}finally{m=null,d=U,v=!1}}var I=!1,j=null,k=-1,b=5,A=-1;function H(){return!(e.unstable_now()-A<b)}function M(){if(j!==null){var L=e.unstable_now();A=L;var z=!0;try{z=j(!0,L)}finally{z?B():(I=!1,j=null)}}else I=!1}var B;if(typeof f=="function")B=function(){f(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,F=C.port2;C.port1.onmessage=M,B=function(){F.postMessage(null)}}else B=function(){R(M,0)};function G(L){j=L,I||(I=!0,B())}function E(L,z){k=R(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,G(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var U=d;d=z;try{return L()}finally{d=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=d;d=L;try{return z()}finally{d=U}},e.unstable_scheduleCallback=function(L,z,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,L){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=U+P,L={id:p++,callback:z,priorityLevel:L,startTime:U,expirationTime:P,sortIndex:-1},U>J?(L.sortIndex=U,t(u,L),n(o)===null&&L===n(u)&&(g?(x(k),k=-1):g=!0,E(N,U-J))):(L.sortIndex=P,t(o,L),w||v||(w=!0,G(S))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var z=d;return function(){var U=d;d=z;try{return L.apply(this,arguments)}finally{d=U}}}})(du);uu.exports=du;var sh=uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=y,Me=sh;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fu=new Set,yr={};function un(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(yr[e]=t,e=0;e<t.length;e++)fu.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=Object.prototype.hasOwnProperty,ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Co={},Eo={};function ah(e){return pi.call(Eo,e)?!0:pi.call(Co,e)?!1:ih.test(e)?Eo[e]=!0:(Co[e]=!0,!1)}function oh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ch(e,t,n,r){if(t===null||typeof t>"u"||oh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function va(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,va);ve[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,va);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,va);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function wa(e,t,n,r){var l=ve.hasOwnProperty(t)?ve[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ch(t,n,l,r)&&(n=null),r||l===null?ah(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qr=Symbol.for("react.element"),pn=Symbol.for("react.portal"),mn=Symbol.for("react.fragment"),ja=Symbol.for("react.strict_mode"),mi=Symbol.for("react.profiler"),hu=Symbol.for("react.provider"),pu=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),xi=Symbol.for("react.suspense"),gi=Symbol.for("react.suspense_list"),ka=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),mu=Symbol.for("react.offscreen"),To=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=To&&e[To]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Il;function rr(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Al=!1;function Rl(e,t){if(!e||Al)return"";Al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,c=i.length-1;1<=a&&0<=c&&l[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(l[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||l[a]!==i[c]){var o=`
`+l[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=c);break}}}finally{Al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rr(e):""}function uh(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function yi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mn:return"Fragment";case pn:return"Portal";case mi:return"Profiler";case ja:return"StrictMode";case xi:return"Suspense";case gi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pu:return(e.displayName||"Context")+".Consumer";case hu:return(e._context.displayName||"Context")+".Provider";case Na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ka:return t=e.displayName||null,t!==null?t:yi(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return yi(e(t))}catch{}}return null}function dh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yi(t);case 8:return t===ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fh(e){var t=xu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kr(e){e._valueTracker||(e._valueTracker=fh(e))}function gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vi(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _o(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yu(e,t){t=t.checked,t!=null&&wa(e,"checked",t,!1)}function wi(e,t){yu(e,t);var n=Bt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ji(e,t.type,n):t.hasOwnProperty("defaultValue")&&ji(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Po(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ji(e,t,n){(t!=="number"||Ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sr=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ni(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(sr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function vu(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Io(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ki(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yr,ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hh=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){hh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});function Nu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function ku(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Nu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var ph=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bi(e,t){if(t){if(ph[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Si(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ci=null;function ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,En=null,Tn=null;function Ao(e){if(e=Hr(e)){if(typeof Ei!="function")throw Error(_(280));var t=e.stateNode;t&&(t=al(t),Ei(e.stateNode,e.type,t))}}function bu(e){En?Tn?Tn.push(e):Tn=[e]:En=e}function Su(){if(En){var e=En,t=Tn;if(Tn=En=null,Ao(e),t)for(e=0;e<t.length;e++)Ao(t[e])}}function Cu(e,t){return e(t)}function Eu(){}var Ol=!1;function Tu(e,t,n){if(Ol)return e(t,n);Ol=!0;try{return Cu(e,t,n)}finally{Ol=!1,(En!==null||Tn!==null)&&(Eu(),Su())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var r=al(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Ti=!1;if(gt)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Ti=!1}function mh(e,t,n,r,l,i,a,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var cr=!1,Ls=null,Is=!1,_i=null,xh={onError:function(e){cr=!0,Ls=e}};function gh(e,t,n,r,l,i,a,c,o){cr=!1,Ls=null,mh.apply(xh,arguments)}function yh(e,t,n,r,l,i,a,c,o){if(gh.apply(this,arguments),cr){if(cr){var u=Ls;cr=!1,Ls=null}else throw Error(_(198));Is||(Is=!0,_i=u)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ro(e){if(dn(e)!==e)throw Error(_(188))}function vh(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Ro(l),e;if(i===r)return Ro(l),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,c=l.child;c;){if(c===n){a=!0,n=l,r=i;break}if(c===r){a=!0,r=l,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=l;break}if(c===r){a=!0,r=i,n=l;break}c=c.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Pu(e){return e=vh(e),e!==null?Lu(e):null}function Lu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lu(e);if(t!==null)return t;e=e.sibling}return null}var Iu=Me.unstable_scheduleCallback,Oo=Me.unstable_cancelCallback,wh=Me.unstable_shouldYield,jh=Me.unstable_requestPaint,ce=Me.unstable_now,Nh=Me.unstable_getCurrentPriorityLevel,Sa=Me.unstable_ImmediatePriority,Au=Me.unstable_UserBlockingPriority,As=Me.unstable_NormalPriority,kh=Me.unstable_LowPriority,Ru=Me.unstable_IdlePriority,rl=null,it=null;function bh(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Eh,Sh=Math.log,Ch=Math.LN2;function Eh(e){return e>>>=0,e===0?32:31-(Sh(e)/Ch|0)|0}var Gr=64,Xr=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~l;c!==0?r=lr(c):(i&=a,i!==0&&(r=lr(i)))}else a=n&~l,a!==0?r=lr(a):i!==0&&(r=lr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),l=1<<n,r|=e[n],t&=~l;return r}function Th(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ze(i),c=1<<a,o=l[a];o===-1?(!(c&n)||c&r)&&(l[a]=Th(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function Pi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ou(){var e=Gr;return Gr<<=1,!(Gr&4194240)&&(Gr=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function Ph(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ze(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function Mu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Du,Ea,zu,Fu,Bu,Li=!1,Jr=[],Lt=null,It=null,At=null,jr=new Map,Nr=new Map,Et=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Qn(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Hr(t),t!==null&&Ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ih(e,t,n,r,l){switch(t){case"focusin":return Lt=Qn(Lt,e,t,n,r,l),!0;case"dragenter":return It=Qn(It,e,t,n,r,l),!0;case"mouseover":return At=Qn(At,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return jr.set(i,Qn(jr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Nr.set(i,Qn(Nr.get(i)||null,e,t,n,r,l)),!0}return!1}function $u(e){var t=Gt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=_u(n),t!==null){e.blockedOn=t,Bu(e.priority,function(){zu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ii(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ci=r,n.target.dispatchEvent(r),Ci=null}else return t=Hr(n),t!==null&&Ea(t),e.blockedOn=n,!1;t.shift()}return!0}function Do(e,t,n){gs(e)&&n.delete(t)}function Ah(){Li=!1,Lt!==null&&gs(Lt)&&(Lt=null),It!==null&&gs(It)&&(It=null),At!==null&&gs(At)&&(At=null),jr.forEach(Do),Nr.forEach(Do)}function Kn(e,t){e.blockedOn===t&&(e.blockedOn=null,Li||(Li=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Ah)))}function kr(e){function t(l){return Kn(l,e)}if(0<Jr.length){Kn(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lt!==null&&Kn(Lt,e),It!==null&&Kn(It,e),At!==null&&Kn(At,e),jr.forEach(t),Nr.forEach(t),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)$u(n),n.blockedOn===null&&Et.shift()}var _n=jt.ReactCurrentBatchConfig,Os=!0;function Rh(e,t,n,r){var l=Y,i=_n.transition;_n.transition=null;try{Y=1,Ta(e,t,n,r)}finally{Y=l,_n.transition=i}}function Oh(e,t,n,r){var l=Y,i=_n.transition;_n.transition=null;try{Y=4,Ta(e,t,n,r)}finally{Y=l,_n.transition=i}}function Ta(e,t,n,r){if(Os){var l=Ii(e,t,n,r);if(l===null)ql(e,t,r,Ms,n),Mo(e,r);else if(Ih(l,e,t,n,r))r.stopPropagation();else if(Mo(e,r),t&4&&-1<Lh.indexOf(e)){for(;l!==null;){var i=Hr(l);if(i!==null&&Du(i),i=Ii(e,t,n,r),i===null&&ql(e,t,r,Ms,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Ms=null;function Ii(e,t,n,r){if(Ms=null,e=ba(r),e=Gt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case Sa:return 1;case Au:return 4;case As:case kh:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var _t=null,_a=null,ys=null;function Hu(){if(ys)return ys;var e,t=_a,n=t.length,r,l="value"in _t?_t.value:_t.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return ys=l.slice(e,1<r?1-r:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function zo(){return!1}function ze(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zr:zo,this.isPropagationStopped=zo,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=ze($n),Ur=ie({},$n,{view:0,detail:0}),Mh=ze(Ur),Dl,zl,Yn,sl=ie({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Dl=e.screenX-Yn.screenX,zl=e.screenY-Yn.screenY):zl=Dl=0,Yn=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Fo=ze(sl),Dh=ie({},sl,{dataTransfer:0}),zh=ze(Dh),Fh=ie({},Ur,{relatedTarget:0}),Fl=ze(Fh),Bh=ie({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),$h=ze(Bh),Uh=ie({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hh=ze(Uh),Vh=ie({},$n,{data:0}),Bo=ze(Vh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qh[e])?!!t[e]:!1}function La(){return Kh}var Yh=ie({},Ur,{key:function(e){if(e.key){var t=Wh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=ze(Yh),Xh=ie({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=ze(Xh),Jh=ie({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),Zh=ze(Jh),ep=ie({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=ze(ep),np=ie({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=ze(np),sp=[9,13,27,32],Ia=gt&&"CompositionEvent"in window,ur=null;gt&&"documentMode"in document&&(ur=document.documentMode);var lp=gt&&"TextEvent"in window&&!ur,Vu=gt&&(!Ia||ur&&8<ur&&11>=ur),Uo=" ",Ho=!1;function Wu(e,t){switch(e){case"keyup":return sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function ip(e,t){switch(e){case"compositionend":return qu(t);case"keypress":return t.which!==32?null:(Ho=!0,Uo);case"textInput":return e=t.data,e===Uo&&Ho?null:e;default:return null}}function ap(e,t){if(xn)return e==="compositionend"||!Ia&&Wu(e,t)?(e=Hu(),ys=_a=_t=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Qu(e,t,n,r){bu(r),t=Ds(t,"onChange"),0<t.length&&(n=new Pa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,br=null;function cp(e){sd(e,0)}function ll(e){var t=vn(e);if(gu(t))return e}function up(e,t){if(e==="change")return t}var Ku=!1;if(gt){var Bl;if(gt){var $l="oninput"in document;if(!$l){var Wo=document.createElement("div");Wo.setAttribute("oninput","return;"),$l=typeof Wo.oninput=="function"}Bl=$l}else Bl=!1;Ku=Bl&&(!document.documentMode||9<document.documentMode)}function qo(){dr&&(dr.detachEvent("onpropertychange",Yu),br=dr=null)}function Yu(e){if(e.propertyName==="value"&&ll(br)){var t=[];Qu(t,br,e,ba(e)),Tu(cp,t)}}function dp(e,t,n){e==="focusin"?(qo(),dr=t,br=n,dr.attachEvent("onpropertychange",Yu)):e==="focusout"&&qo()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(br)}function hp(e,t){if(e==="click")return ll(t)}function pp(e,t){if(e==="input"||e==="change")return ll(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:mp;function Sr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!pi.call(t,l)||!tt(e[l],t[l]))return!1}return!0}function Qo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ko(e,t){var n=Qo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qo(n)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xp(e){var t=Xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gu(n.ownerDocument.documentElement,n)){if(r!==null&&Aa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Ko(n,i);var a=Ko(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=gt&&"documentMode"in document&&11>=document.documentMode,gn=null,Ai=null,fr=null,Ri=!1;function Yo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ri||gn==null||gn!==Ps(r)||(r=gn,"selectionStart"in r&&Aa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fr&&Sr(fr,r)||(fr=r,r=Ds(Ai,"onSelect"),0<r.length&&(t=new Pa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gn)))}function es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yn={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ul={},Ju={};gt&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function il(e){if(Ul[e])return Ul[e];if(!yn[e])return e;var t=yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ju)return Ul[e]=t[n];return e}var Zu=il("animationend"),ed=il("animationiteration"),td=il("animationstart"),nd=il("transitionend"),rd=new Map,Go="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){rd.set(e,t),un(t,[e])}for(var Hl=0;Hl<Go.length;Hl++){var Vl=Go[Hl],yp=Vl.toLowerCase(),vp=Vl[0].toUpperCase()+Vl.slice(1);Ht(yp,"on"+vp)}Ht(Zu,"onAnimationEnd");Ht(ed,"onAnimationIteration");Ht(td,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(nd,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ir));function Xo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yh(r,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==i&&l.isPropagationStopped())break e;Xo(l,c,u),i=o}else for(a=0;a<r.length;a++){if(c=r[a],o=c.instance,u=c.currentTarget,c=c.listener,o!==i&&l.isPropagationStopped())break e;Xo(l,c,u),i=o}}}if(Is)throw e=_i,Is=!1,_i=null,e}function te(e,t){var n=t[Fi];n===void 0&&(n=t[Fi]=new Set);var r=e+"__bubble";n.has(r)||(ld(t,e,2,!1),n.add(r))}function Wl(e,t,n){var r=0;t&&(r|=4),ld(n,e,r,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[ts]){e[ts]=!0,fu.forEach(function(n){n!=="selectionchange"&&(wp.has(n)||Wl(n,!1,e),Wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,Wl("selectionchange",!1,t))}}function ld(e,t,n,r){switch(Uu(t)){case 1:var l=Rh;break;case 4:l=Oh;break;default:l=Ta}n=l.bind(null,t,n,e),l=void 0,!Ti||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;a=a.return}for(;c!==null;){if(a=Gt(c),a===null)return;if(o=a.tag,o===5||o===6){r=i=a;continue e}c=c.parentNode}}r=r.return}Tu(function(){var u=i,p=ba(n),m=[];e:{var d=rd.get(e);if(d!==void 0){var v=Pa,w=e;switch(e){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":v=Gh;break;case"focusin":w="focus",v=Fl;break;case"focusout":w="blur",v=Fl;break;case"beforeblur":case"afterblur":v=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Zh;break;case Zu:case ed:case td:v=$h;break;case nd:v=tp;break;case"scroll":v=Mh;break;case"wheel":v=rp;break;case"copy":case"cut":case"paste":v=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$o}var g=(t&4)!==0,R=!g&&e==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var f=u,h;f!==null;){h=f;var N=h.stateNode;if(h.tag===5&&N!==null&&(h=N,x!==null&&(N=wr(f,x),N!=null&&g.push(Er(f,N,h)))),R)break;f=f.return}0<g.length&&(d=new v(d,w,null,n,p),m.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&n!==Ci&&(w=n.relatedTarget||n.fromElement)&&(Gt(w)||w[yt]))break e;if((v||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Gt(w):null,w!==null&&(R=dn(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(g=Fo,N="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=$o,N="onPointerLeave",x="onPointerEnter",f="pointer"),R=v==null?d:vn(v),h=w==null?d:vn(w),d=new g(N,f+"leave",v,n,p),d.target=R,d.relatedTarget=h,N=null,Gt(p)===u&&(g=new g(x,f+"enter",w,n,p),g.target=h,g.relatedTarget=R,N=g),R=N,v&&w)t:{for(g=v,x=w,f=0,h=g;h;h=fn(h))f++;for(h=0,N=x;N;N=fn(N))h++;for(;0<f-h;)g=fn(g),f--;for(;0<h-f;)x=fn(x),h--;for(;f--;){if(g===x||x!==null&&g===x.alternate)break t;g=fn(g),x=fn(x)}g=null}else g=null;v!==null&&Jo(m,d,v,g,!1),w!==null&&R!==null&&Jo(m,R,w,g,!0)}}e:{if(d=u?vn(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var S=up;else if(Vo(d))if(Ku)S=pp;else{S=fp;var I=dp}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=hp);if(S&&(S=S(e,u))){Qu(m,S,n,p);break e}I&&I(e,d,u),e==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&ji(d,"number",d.value)}switch(I=u?vn(u):window,e){case"focusin":(Vo(I)||I.contentEditable==="true")&&(gn=I,Ai=u,fr=null);break;case"focusout":fr=Ai=gn=null;break;case"mousedown":Ri=!0;break;case"contextmenu":case"mouseup":case"dragend":Ri=!1,Yo(m,n,p);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":Yo(m,n,p)}var j;if(Ia)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xn?Wu(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Vu&&n.locale!=="ko"&&(xn||k!=="onCompositionStart"?k==="onCompositionEnd"&&xn&&(j=Hu()):(_t=p,_a="value"in _t?_t.value:_t.textContent,xn=!0)),I=Ds(u,k),0<I.length&&(k=new Bo(k,e,null,n,p),m.push({event:k,listeners:I}),j?k.data=j:(j=qu(n),j!==null&&(k.data=j)))),(j=lp?ip(e,n):ap(e,n))&&(u=Ds(u,"onBeforeInput"),0<u.length&&(p=new Bo("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=j))}sd(m,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=wr(e,n),i!=null&&r.unshift(Er(e,i,l)),i=wr(e,t),i!=null&&r.push(Er(e,i,l))),e=e.return}return r}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jo(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var c=n,o=c.alternate,u=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&u!==null&&(c=u,l?(o=wr(n,i),o!=null&&a.unshift(Er(n,o,c))):l||(o=wr(n,i),o!=null&&a.push(Er(n,o,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var jp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function Zo(e){return(typeof e=="string"?e:""+e).replace(jp,`
`).replace(Np,"")}function ns(e,t,n){if(t=Zo(t),Zo(e)!==t&&n)throw Error(_(425))}function zs(){}var Oi=null,Mi=null;function Di(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zi=typeof setTimeout=="function"?setTimeout:void 0,kp=typeof clearTimeout=="function"?clearTimeout:void 0,ec=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof ec<"u"?function(e){return ec.resolve(null).then(e).catch(Sp)}:zi;function Sp(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),kr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);kr(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),lt="__reactFiber$"+Un,Tr="__reactProps$"+Un,yt="__reactContainer$"+Un,Fi="__reactEvents$"+Un,Cp="__reactListeners$"+Un,Ep="__reactHandles$"+Un;function Gt(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tc(e);e!==null;){if(n=e[lt])return n;e=tc(e)}return t}e=n,n=e.parentNode}return null}function Hr(e){return e=e[lt]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function al(e){return e[Tr]||null}var Bi=[],wn=-1;function Vt(e){return{current:e}}function ne(e){0>wn||(e.current=Bi[wn],Bi[wn]=null,wn--)}function ee(e,t){wn++,Bi[wn]=e.current,e.current=t}var $t={},ke=Vt($t),Pe=Vt(!1),sn=$t;function An(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Le(e){return e=e.childContextTypes,e!=null}function Fs(){ne(Pe),ne(ke)}function nc(e,t,n){if(ke.current!==$t)throw Error(_(168));ee(ke,t),ee(Pe,n)}function id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,dh(e)||"Unknown",l));return ie({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,sn=ke.current,ee(ke,e),ee(Pe,Pe.current),!0}function rc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=id(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,ne(Pe),ne(ke),ee(ke,e)):ne(Pe),ee(Pe,n)}var ft=null,ol=!1,Kl=!1;function ad(e){ft===null?ft=[e]:ft.push(e)}function Tp(e){ol=!0,ad(e)}function Wt(){if(!Kl&&ft!==null){Kl=!0;var e=0,t=Y;try{var n=ft;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,ol=!1}catch(l){throw ft!==null&&(ft=ft.slice(e+1)),Iu(Sa,Wt),l}finally{Y=t,Kl=!1}}return null}var jn=[],Nn=0,$s=null,Us=0,Fe=[],Be=0,ln=null,ht=1,pt="";function Kt(e,t){jn[Nn++]=Us,jn[Nn++]=$s,$s=e,Us=t}function od(e,t,n){Fe[Be++]=ht,Fe[Be++]=pt,Fe[Be++]=ln,ln=e;var r=ht;e=pt;var l=32-Ze(r)-1;r&=~(1<<l),n+=1;var i=32-Ze(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,ht=1<<32-Ze(t)+l|n<<l|r,pt=i+e}else ht=1<<i|n<<l|r,pt=e}function Ra(e){e.return!==null&&(Kt(e,1),od(e,1,0))}function Oa(e){for(;e===$s;)$s=jn[--Nn],jn[Nn]=null,Us=jn[--Nn],jn[Nn]=null;for(;e===ln;)ln=Fe[--Be],Fe[Be]=null,pt=Fe[--Be],Fe[Be]=null,ht=Fe[--Be],Fe[Be]=null}var Oe=null,Re=null,re=!1,Je=null;function cd(e,t){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Re=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:ht,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Re=null,!0):!1;default:return!1}}function $i(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ui(e){if(re){var t=Re;if(t){var n=t;if(!sc(e,t)){if($i(e))throw Error(_(418));t=Rt(n.nextSibling);var r=Oe;t&&sc(e,t)?cd(r,n):(e.flags=e.flags&-4097|2,re=!1,Oe=e)}}else{if($i(e))throw Error(_(418));e.flags=e.flags&-4097|2,re=!1,Oe=e}}}function lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function rs(e){if(e!==Oe)return!1;if(!re)return lc(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Di(e.type,e.memoizedProps)),t&&(t=Re)){if($i(e))throw ud(),Error(_(418));for(;t;)cd(e,t),t=Rt(t.nextSibling)}if(lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Re=Rt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Oe?Rt(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=Re;e;)e=Rt(e.nextSibling)}function Rn(){Re=Oe=null,re=!1}function Ma(e){Je===null?Je=[e]:Je.push(e)}var _p=jt.ReactCurrentBatchConfig;function Gn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=l.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ic(e){var t=e._init;return t(e._payload)}function dd(e){function t(x,f){if(e){var h=x.deletions;h===null?(x.deletions=[f],x.flags|=16):h.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function r(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function l(x,f){return x=zt(x,f),x.index=0,x.sibling=null,x}function i(x,f,h){return x.index=h,e?(h=x.alternate,h!==null?(h=h.index,h<f?(x.flags|=2,f):h):(x.flags|=2,f)):(x.flags|=1048576,f)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,f,h,N){return f===null||f.tag!==6?(f=ti(h,x.mode,N),f.return=x,f):(f=l(f,h),f.return=x,f)}function o(x,f,h,N){var S=h.type;return S===mn?p(x,f,h.props.children,N,h.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&ic(S)===f.type)?(N=l(f,h.props),N.ref=Gn(x,f,h),N.return=x,N):(N=Cs(h.type,h.key,h.props,null,x.mode,N),N.ref=Gn(x,f,h),N.return=x,N)}function u(x,f,h,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=ni(h,x.mode,N),f.return=x,f):(f=l(f,h.children||[]),f.return=x,f)}function p(x,f,h,N,S){return f===null||f.tag!==7?(f=nn(h,x.mode,N,S),f.return=x,f):(f=l(f,h),f.return=x,f)}function m(x,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ti(""+f,x.mode,h),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Qr:return h=Cs(f.type,f.key,f.props,null,x.mode,h),h.ref=Gn(x,null,f),h.return=x,h;case pn:return f=ni(f,x.mode,h),f.return=x,f;case St:var N=f._init;return m(x,N(f._payload),h)}if(sr(f)||Wn(f))return f=nn(f,x.mode,h,null),f.return=x,f;ss(x,f)}return null}function d(x,f,h,N){var S=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:c(x,f,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:return h.key===S?o(x,f,h,N):null;case pn:return h.key===S?u(x,f,h,N):null;case St:return S=h._init,d(x,f,S(h._payload),N)}if(sr(h)||Wn(h))return S!==null?null:p(x,f,h,N,null);ss(x,h)}return null}function v(x,f,h,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(h)||null,c(f,x,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Qr:return x=x.get(N.key===null?h:N.key)||null,o(f,x,N,S);case pn:return x=x.get(N.key===null?h:N.key)||null,u(f,x,N,S);case St:var I=N._init;return v(x,f,h,I(N._payload),S)}if(sr(N)||Wn(N))return x=x.get(h)||null,p(f,x,N,S,null);ss(f,N)}return null}function w(x,f,h,N){for(var S=null,I=null,j=f,k=f=0,b=null;j!==null&&k<h.length;k++){j.index>k?(b=j,j=null):b=j.sibling;var A=d(x,j,h[k],N);if(A===null){j===null&&(j=b);break}e&&j&&A.alternate===null&&t(x,j),f=i(A,f,k),I===null?S=A:I.sibling=A,I=A,j=b}if(k===h.length)return n(x,j),re&&Kt(x,k),S;if(j===null){for(;k<h.length;k++)j=m(x,h[k],N),j!==null&&(f=i(j,f,k),I===null?S=j:I.sibling=j,I=j);return re&&Kt(x,k),S}for(j=r(x,j);k<h.length;k++)b=v(j,x,k,h[k],N),b!==null&&(e&&b.alternate!==null&&j.delete(b.key===null?k:b.key),f=i(b,f,k),I===null?S=b:I.sibling=b,I=b);return e&&j.forEach(function(H){return t(x,H)}),re&&Kt(x,k),S}function g(x,f,h,N){var S=Wn(h);if(typeof S!="function")throw Error(_(150));if(h=S.call(h),h==null)throw Error(_(151));for(var I=S=null,j=f,k=f=0,b=null,A=h.next();j!==null&&!A.done;k++,A=h.next()){j.index>k?(b=j,j=null):b=j.sibling;var H=d(x,j,A.value,N);if(H===null){j===null&&(j=b);break}e&&j&&H.alternate===null&&t(x,j),f=i(H,f,k),I===null?S=H:I.sibling=H,I=H,j=b}if(A.done)return n(x,j),re&&Kt(x,k),S;if(j===null){for(;!A.done;k++,A=h.next())A=m(x,A.value,N),A!==null&&(f=i(A,f,k),I===null?S=A:I.sibling=A,I=A);return re&&Kt(x,k),S}for(j=r(x,j);!A.done;k++,A=h.next())A=v(j,x,k,A.value,N),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?k:A.key),f=i(A,f,k),I===null?S=A:I.sibling=A,I=A);return e&&j.forEach(function(M){return t(x,M)}),re&&Kt(x,k),S}function R(x,f,h,N){if(typeof h=="object"&&h!==null&&h.type===mn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:e:{for(var S=h.key,I=f;I!==null;){if(I.key===S){if(S=h.type,S===mn){if(I.tag===7){n(x,I.sibling),f=l(I,h.props.children),f.return=x,x=f;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&ic(S)===I.type){n(x,I.sibling),f=l(I,h.props),f.ref=Gn(x,I,h),f.return=x,x=f;break e}n(x,I);break}else t(x,I);I=I.sibling}h.type===mn?(f=nn(h.props.children,x.mode,N,h.key),f.return=x,x=f):(N=Cs(h.type,h.key,h.props,null,x.mode,N),N.ref=Gn(x,f,h),N.return=x,x=N)}return a(x);case pn:e:{for(I=h.key;f!==null;){if(f.key===I)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(x,f.sibling),f=l(f,h.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=ni(h,x.mode,N),f.return=x,x=f}return a(x);case St:return I=h._init,R(x,f,I(h._payload),N)}if(sr(h))return w(x,f,h,N);if(Wn(h))return g(x,f,h,N);ss(x,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(x,f.sibling),f=l(f,h),f.return=x,x=f):(n(x,f),f=ti(h,x.mode,N),f.return=x,x=f),a(x)):n(x,f)}return R}var On=dd(!0),fd=dd(!1),Hs=Vt(null),Vs=null,kn=null,Da=null;function za(){Da=kn=Vs=null}function Fa(e){var t=Hs.current;ne(Hs),e._currentValue=t}function Hi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pn(e,t){Vs=e,Da=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(Da!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Vs===null)throw Error(_(308));kn=e,Vs.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Xt=null;function Ba(e){Xt===null?Xt=[e]:Xt.push(e)}function hd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ba(t)):(n.next=l.next,l.next=n),t.interleaved=n,vt(e,r)}function vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ba(r)):(t.next=l.next,l.next=t),r.interleaved=t,vt(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}function ac(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var l=e.updateQueue;Ct=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,u=o.next;o.next=null,a===null?i=u:a.next=u,a=o;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=o))}if(i!==null){var m=l.baseState;a=0,p=u=o=null,c=i;do{var d=c.lane,v=c.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,g=c;switch(d=t,v=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){m=w.call(v,m,d);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,d=typeof w=="function"?w.call(v,m,d):w,d==null)break e;m=ie({},m,d);break e;case 2:Ct=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,d=l.effects,d===null?l.effects=[c]:d.push(c))}else v={eventTime:v,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=v,o=m):p=p.next=v,a|=d;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;d=c,c=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(!0);if(p===null&&(o=m),l.baseState=o,l.firstBaseUpdate=u,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);on|=a,e.lanes=a,e.memoizedState=m}}function oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Vr={},at=Vt(Vr),_r=Vt(Vr),Pr=Vt(Vr);function Jt(e){if(e===Vr)throw Error(_(174));return e}function Ua(e,t){switch(ee(Pr,t),ee(_r,e),ee(at,Vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ki(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ki(t,e)}ne(at),ee(at,t)}function Mn(){ne(at),ne(_r),ne(Pr)}function md(e){Jt(Pr.current);var t=Jt(at.current),n=ki(t,e.type);t!==n&&(ee(_r,e),ee(at,n))}function Ha(e){_r.current===e&&(ne(at),ne(_r))}var se=Vt(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function Va(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var js=jt.ReactCurrentDispatcher,Gl=jt.ReactCurrentBatchConfig,an=0,le=null,fe=null,me=null,Qs=!1,hr=!1,Lr=0,Pp=0;function we(){throw Error(_(321))}function Wa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function qa(e,t,n,r,l,i){if(an=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,js.current=e===null||e.memoizedState===null?Rp:Op,e=n(r,l),hr){i=0;do{if(hr=!1,Lr=0,25<=i)throw Error(_(301));i+=1,me=fe=null,t.updateQueue=null,js.current=Mp,e=n(r,l)}while(hr)}if(js.current=Ks,t=fe!==null&&fe.next!==null,an=0,me=fe=le=null,Qs=!1,t)throw Error(_(300));return e}function Qa(){var e=Lr!==0;return Lr=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?le.memoizedState=me=e:me=me.next=e,me}function We(){if(fe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?le.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(_(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?le.memoizedState=me=e:me=me.next=e}return me}function Ir(e,t){return typeof t=="function"?t(e):t}function Xl(e){var t=We(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=fe,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var c=a=null,o=null,u=i;do{var p=u.lane;if((an&p)===p)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,a=r):o=o.next=m,le.lanes|=p,on|=p}u=u.next}while(u!==null&&u!==i);o===null?a=r:o.next=c,tt(r,t.memoizedState)||(_e=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,le.lanes|=i,on|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jl(e){var t=We(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);tt(i,t.memoizedState)||(_e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xd(){}function gd(e,t){var n=le,r=We(),l=t(),i=!tt(r.memoizedState,l);if(i&&(r.memoizedState=l,_e=!0),r=r.queue,Ka(wd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Ar(9,vd.bind(null,n,r,l,t),void 0,null),xe===null)throw Error(_(349));an&30||yd(n,t,l)}return l}function yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vd(e,t,n,r){t.value=n,t.getSnapshot=r,jd(t)&&Nd(e)}function wd(e,t,n){return n(function(){jd(t)&&Nd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function Nd(e){var t=vt(e,1);t!==null&&et(t,e,1,-1)}function cc(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=Ap.bind(null,le,e),[t.memoizedState,e]}function Ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kd(){return We().memoizedState}function Ns(e,t,n,r){var l=st();le.flags|=e,l.memoizedState=Ar(1|t,n,void 0,r===void 0?null:r)}function cl(e,t,n,r){var l=We();r=r===void 0?null:r;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,r!==null&&Wa(r,a.deps)){l.memoizedState=Ar(t,n,i,r);return}}le.flags|=e,l.memoizedState=Ar(1|t,n,i,r)}function uc(e,t){return Ns(8390656,8,e,t)}function Ka(e,t){return cl(2048,8,e,t)}function bd(e,t){return cl(4,2,e,t)}function Sd(e,t){return cl(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,n){return n=n!=null?n.concat([e]):null,cl(4,4,Cd.bind(null,t,e),n)}function Ya(){}function Td(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _d(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pd(e,t,n){return an&21?(tt(n,t)||(n=Ou(),le.lanes|=n,on|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=n)}function Lp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Gl.transition;Gl.transition={};try{e(!1),t()}finally{Y=n,Gl.transition=r}}function Ld(){return We().memoizedState}function Ip(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Id(e))Ad(t,n);else if(n=hd(e,t,n,r),n!==null){var l=Se();et(n,e,r,l),Rd(n,t,r)}}function Ap(e,t,n){var r=Dt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Id(e))Ad(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(l.hasEagerState=!0,l.eagerState=c,tt(c,a)){var o=t.interleaved;o===null?(l.next=l,Ba(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=hd(e,t,l,r),n!==null&&(l=Se(),et(n,e,r,l),Rd(n,t,r))}}function Id(e){var t=e.alternate;return e===le||t!==null&&t===le}function Ad(e,t){hr=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}var Ks={readContext:Ve,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Rp={readContext:Ve,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:uc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4194308,4,Cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ip.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:Ya,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=Lp.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,l=st();if(re){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),xe===null)throw Error(_(349));an&30||yd(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,uc(wd.bind(null,r,i,e),[e]),r.flags|=2048,Ar(9,vd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=xe.identifierPrefix;if(re){var n=pt,r=ht;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Op={readContext:Ve,useCallback:Td,useContext:Ve,useEffect:Ka,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:_d,useReducer:Xl,useRef:kd,useState:function(){return Xl(Ir)},useDebugValue:Ya,useDeferredValue:function(e){var t=We();return Pd(t,fe.memoizedState,e)},useTransition:function(){var e=Xl(Ir)[0],t=We().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:gd,useId:Ld,unstable_isNewReconciler:!1},Mp={readContext:Ve,useCallback:Td,useContext:Ve,useEffect:Ka,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:_d,useReducer:Jl,useRef:kd,useState:function(){return Jl(Ir)},useDebugValue:Ya,useDeferredValue:function(e){var t=We();return fe===null?t.memoizedState=e:Pd(t,fe.memoizedState,e)},useTransition:function(){var e=Jl(Ir)[0],t=We().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:gd,useId:Ld,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ul={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),l=Dt(e),i=mt(r,l);i.payload=t,n!=null&&(i.callback=n),t=Ot(e,i,l),t!==null&&(et(t,e,l,r),ws(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),l=Dt(e),i=mt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ot(e,i,l),t!==null&&(et(t,e,l,r),ws(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Dt(e),l=mt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Ot(e,l,r),t!==null&&(et(t,e,r,n),ws(t,e,r))}};function dc(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,r)||!Sr(l,i):!0}function Od(e,t,n){var r=!1,l=$t,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(l=Le(t)?sn:ke.current,r=t.contextTypes,i=(r=r!=null)?An(e,l):$t),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ul,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function fc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ul.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},$a(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ve(i):(i=Le(t)?sn:ke.current,l.context=An(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vi(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ul.enqueueReplaceState(l,l.state,null),Ws(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var n="",r=t;do n+=uh(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Md(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,na=r),qi(e,t)},n}function Dd(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){qi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qi(e,t),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function hc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Xp.bind(null,e,t,n),t.then(e,e))}function pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,Ot(n,t,1))),n.lanes|=1),e)}var zp=jt.ReactCurrentOwner,_e=!1;function be(e,t,n,r){t.child=e===null?fd(t,null,n,r):On(t,e.child,n,r)}function xc(e,t,n,r,l){n=n.render;var i=t.ref;return Pn(t,l),r=qa(e,t,n,r,i,l),n=Qa(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wt(e,t,l)):(re&&n&&Ra(t),t.flags|=1,be(e,t,r,l),t.child)}function gc(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ro(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zd(e,t,i,r,l)):(e=Cs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(a,r)&&e.ref===t.ref)return wt(e,t,l)}return t.flags|=1,e=zt(i,r),e.ref=t.ref,e.return=t,t.child=e}function zd(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Sr(i,r)&&e.ref===t.ref)if(_e=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,wt(e,t,l)}return Qi(e,t,n,r,l)}function Fd(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Sn,Ae),Ae|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Sn,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Sn,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Sn,Ae),Ae|=r;return be(e,t,l,n),t.child}function Bd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qi(e,t,n,r,l){var i=Le(n)?sn:ke.current;return i=An(t,i),Pn(t,l),n=qa(e,t,n,r,i,l),r=Qa(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wt(e,t,l)):(re&&r&&Ra(t),t.flags|=1,be(e,t,n,l),t.child)}function yc(e,t,n,r,l){if(Le(n)){var i=!0;Bs(t)}else i=!1;if(Pn(t,l),t.stateNode===null)ks(e,t),Od(t,n,r),Wi(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var o=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Le(n)?sn:ke.current,u=An(t,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||o!==u)&&fc(t,a,r,u),Ct=!1;var d=t.memoizedState;a.state=d,Ws(t,r,a,l),o=t.memoizedState,c!==r||d!==o||Pe.current||Ct?(typeof p=="function"&&(Vi(t,n,p,r),o=t.memoizedState),(c=Ct||dc(t,n,c,r,d,o,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),a.props=r,a.state=o,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,pd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ye(t.type,c),a.props=u,m=t.pendingProps,d=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=Ve(o):(o=Le(n)?sn:ke.current,o=An(t,o));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||d!==o)&&fc(t,a,r,o),Ct=!1,d=t.memoizedState,a.state=d,Ws(t,r,a,l);var w=t.memoizedState;c!==m||d!==w||Pe.current||Ct?(typeof v=="function"&&(Vi(t,n,v,r),w=t.memoizedState),(u=Ct||dc(t,n,u,r,d,w,o)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=o,r=u):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ki(e,t,n,r,i,l)}function Ki(e,t,n,r,l,i){Bd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&rc(t,n,!1),wt(e,t,i);r=t.stateNode,zp.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=On(t,e.child,null,i),t.child=On(t,null,c,i)):be(e,t,c,i),t.memoizedState=r.state,l&&rc(t,n,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nc(e,t.context,!1),Ua(e,t.containerInfo)}function vc(e,t,n,r,l){return Rn(),Ma(l),t.flags|=256,be(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var r=t.pendingProps,l=se.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ee(se,l&1),e===null)return Ui(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=hl(a,r,0,null),e=nn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gi(n),t.memoizedState=Yi,e):Ga(t,a));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return Fp(e,t,a,r,c,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=zt(l,o),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?i=zt(c,i):(i=nn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Gi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Yi,r}return i=e.child,e=i.sibling,r=zt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ga(e,t){return t=hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ls(e,t,n,r){return r!==null&&Ma(r),On(t,e.child,null,n),e=Ga(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Zl(Error(_(422))),ls(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=hl({mode:"visible",children:r.children},l,0,null),i=nn(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&On(t,e.child,null,a),t.child.memoizedState=Gi(a),t.memoizedState=Yi,i);if(!(t.mode&1))return ls(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(_(419)),r=Zl(i,r,void 0),ls(e,t,a,r)}if(c=(a&e.childLanes)!==0,_e||c){if(r=xe,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,vt(e,l),et(r,e,l,-1))}return no(),r=Zl(Error(_(421))),ls(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jp.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Re=Rt(l.nextSibling),Oe=t,re=!0,Je=null,e!==null&&(Fe[Be++]=ht,Fe[Be++]=pt,Fe[Be++]=ln,ht=e.id,pt=e.overflow,ln=t),t=Ga(t,r.children),t.flags|=4096,t)}function wc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hi(e.return,t,n)}function ei(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Hd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(be(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wc(e,n,t);else if(e.tag===19)wc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(se,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&qs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ei(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&qs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ei(t,!0,n,null,i);break;case"together":ei(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bp(e,t,n){switch(t.tag){case 3:$d(t),Rn();break;case 5:md(t);break;case 1:Le(t.type)&&Bs(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ee(Hs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(ee(se,se.current&1),e=wt(e,t,n),e!==null?e.sibling:null);ee(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ee(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n)}return wt(e,t,n)}var Vd,Xi,Wd,qd;Vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xi=function(){};Wd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Jt(at.current);var i=null;switch(n){case"input":l=vi(e,l),r=vi(e,r),i=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":l=Ni(e,l),r=Ni(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zs)}bi(n,r);var a;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var c=l[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var o=r[u];if(c=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(i||(i=[]),i.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&te("scroll",e),i||c===o||(i=[])):(i=i||[]).push(u,o))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xn(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $p(e,t,n){var r=t.pendingProps;switch(Oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Le(t.type)&&Fs(),je(t),null;case 3:return r=t.stateNode,Mn(),ne(Pe),ne(ke),Va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(la(Je),Je=null))),Xi(e,t),je(t),null;case 5:Ha(t);var l=Jt(Pr.current);if(n=t.type,e!==null&&t.stateNode!=null)Wd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return je(t),null}if(e=Jt(at.current),rs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lt]=t,r[Tr]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(l=0;l<ir.length;l++)te(ir[l],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":_o(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Lo(r,i),te("invalid",r)}bi(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,c,e),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,c,e),l=["children",""+c]):yr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&te("scroll",r)}switch(n){case"input":Kr(r),Po(r,i,!0);break;case"textarea":Kr(r),Io(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[lt]=t,e[Tr]=r,Vd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Si(n,r),n){case"dialog":te("cancel",e),te("close",e),l=r;break;case"iframe":case"object":case"embed":te("load",e),l=r;break;case"video":case"audio":for(l=0;l<ir.length;l++)te(ir[l],e);l=r;break;case"source":te("error",e),l=r;break;case"img":case"image":case"link":te("error",e),te("load",e),l=r;break;case"details":te("toggle",e),l=r;break;case"input":_o(e,r),l=vi(e,r),te("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),te("invalid",e);break;case"textarea":Lo(e,r),l=Ni(e,r),te("invalid",e);break;default:l=r}bi(n,l),c=l;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?ku(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ju(e,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&vr(e,o):typeof o=="number"&&vr(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yr.hasOwnProperty(i)?o!=null&&i==="onScroll"&&te("scroll",e):o!=null&&wa(e,i,o,a))}switch(n){case"input":Kr(e),Po(e,r,!1);break;case"textarea":Kr(e),Io(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Jt(Pr.current),Jt(at.current),rs(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:ns(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return je(t),null;case 13:if(ne(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Re!==null&&t.mode&1&&!(t.flags&128))ud(),Rn(),t.flags|=98560,i=!1;else if(i=rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[lt]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else Je!==null&&(la(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?he===0&&(he=3):no())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Mn(),Xi(e,t),e===null&&Cr(t.stateNode.containerInfo),je(t),null;case 10:return Fa(t.type._context),je(t),null;case 17:return Le(t.type)&&Fs(),je(t),null;case 19:if(ne(se),i=t.memoizedState,i===null)return je(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Xn(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=qs(e),a!==null){for(t.flags|=128,Xn(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>zn&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304)}else{if(!r)if(e=qs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return je(t),null}else 2*ce()-i.renderingStartTime>zn&&n!==1073741824&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=se.current,ee(se,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return to(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Up(e,t){switch(Oa(t),t.tag){case 1:return Le(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(),ne(Pe),ne(ke),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ha(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return Mn(),null;case 10:return Fa(t.type._context),null;case 22:case 23:return to(),null;case 24:return null;default:return null}}var is=!1,Ne=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,D=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Ji(e,t,n){try{n()}catch(r){ae(e,t,r)}}var jc=!1;function Vp(e,t){if(Oi=Os,e=Xu(),Aa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,u=0,p=0,m=e,d=null;t:for(;;){for(var v;m!==n||l!==0&&m.nodeType!==3||(c=a+l),m!==i||r!==0&&m.nodeType!==3||(o=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)d=m,m=v;for(;;){if(m===e)break t;if(d===n&&++u===l&&(c=a),d===i&&++p===r&&(o=a),(v=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=v}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mi={focusedElem:e,selectionRange:n},Os=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,R=w.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ye(t.type,g),R);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(N){ae(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return w=jc,jc=!1,w}function pr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ji(t,n,i)}l=l.next}while(l!==r)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Tr],delete t[Fi],delete t[Cp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zs));else if(r!==4&&(e=e.child,e!==null))for(ea(e,t,n),e=e.sibling;e!==null;)ea(e,t,n),e=e.sibling}function ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ta(e,t,n),e=e.sibling;e!==null;)ta(e,t,n),e=e.sibling}var ge=null,Ge=!1;function kt(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:Ne||bn(n,t);case 6:var r=ge,l=Ge;ge=null,kt(e,t,n),ge=r,Ge=l,ge!==null&&(Ge?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Ge?(e=ge,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),kr(e)):Ql(ge,n.stateNode));break;case 4:r=ge,l=Ge,ge=n.stateNode.containerInfo,Ge=!0,kt(e,t,n),ge=r,Ge=l;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ji(n,t,a),l=l.next}while(l!==r)}kt(e,t,n);break;case 1:if(!Ne&&(bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ae(n,t,c)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,kt(e,t,n),Ne=r):kt(e,t,n);break;default:kt(e,t,n)}}function kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hp),t.forEach(function(r){var l=Zp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:ge=c.stateNode,Ge=!1;break e;case 3:ge=c.stateNode.containerInfo,Ge=!0;break e;case 4:ge=c.stateNode.containerInfo,Ge=!0;break e}c=c.return}if(ge===null)throw Error(_(160));Yd(i,a,l),ge=null,Ge=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(u){ae(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),nt(e),r&4){try{pr(3,e,e.return),dl(3,e)}catch(g){ae(e,e.return,g)}try{pr(5,e,e.return)}catch(g){ae(e,e.return,g)}}break;case 1:Ke(t,e),nt(e),r&512&&n!==null&&bn(n,n.return);break;case 5:if(Ke(t,e),nt(e),r&512&&n!==null&&bn(n,n.return),e.flags&32){var l=e.stateNode;try{vr(l,"")}catch(g){ae(e,e.return,g)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&yu(l,i),Si(c,a);var u=Si(c,i);for(a=0;a<o.length;a+=2){var p=o[a],m=o[a+1];p==="style"?ku(l,m):p==="dangerouslySetInnerHTML"?ju(l,m):p==="children"?vr(l,m):wa(l,p,m,u)}switch(c){case"input":wi(l,i);break;case"textarea":vu(l,i);break;case"select":var d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Cn(l,!!i.multiple,v,!1):d!==!!i.multiple&&(i.defaultValue!=null?Cn(l,!!i.multiple,i.defaultValue,!0):Cn(l,!!i.multiple,i.multiple?[]:"",!1))}l[Tr]=i}catch(g){ae(e,e.return,g)}}break;case 6:if(Ke(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(g){ae(e,e.return,g)}}break;case 3:if(Ke(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(g){ae(e,e.return,g)}break;case 4:Ke(t,e),nt(e);break;case 13:Ke(t,e),nt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Za=ce())),r&4&&kc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||p,Ke(t,e),Ne=u):Ke(t,e),nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(D=e,p=e.child;p!==null;){for(m=D=p;D!==null;){switch(d=D,v=d.child,d.tag){case 0:case 11:case 14:case 15:pr(4,d,d.return);break;case 1:bn(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){ae(r,n,g)}}break;case 5:bn(d,d.return);break;case 22:if(d.memoizedState!==null){Sc(m);continue}}v!==null?(v.return=d,D=v):Sc(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{l=m.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Nu("display",a))}catch(g){ae(e,e.return,g)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){ae(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ke(t,e),nt(e),r&4&&kc(e);break;case 21:break;default:Ke(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(vr(l,""),r.flags&=-33);var i=Nc(e);ta(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,c=Nc(e);ea(e,c,a);break;default:throw Error(_(161))}}catch(o){ae(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,n){D=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||is;if(!a){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Ne;c=is;var u=Ne;if(is=a,(Ne=o)&&!u)for(D=l;D!==null;)a=D,o=a.child,a.tag===22&&a.memoizedState!==null?Cc(l):o!==null?(o.return=a,D=o):Cc(l);for(;i!==null;)D=i,Xd(i),i=i.sibling;D=l,is=c,Ne=u}bc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,D=i):bc(e)}}function bc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&oc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oc(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&kr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Ne||t.flags&512&&Zi(t)}catch(d){ae(t,t.return,d)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Sc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Cc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(o){ae(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(o){ae(t,l,o)}}var i=t.return;try{Zi(t)}catch(o){ae(t,i,o)}break;case 5:var a=t.return;try{Zi(t)}catch(o){ae(t,a,o)}}}catch(o){ae(t,t.return,o)}if(t===e){D=null;break}var c=t.sibling;if(c!==null){c.return=t.return,D=c;break}D=t.return}}var qp=Math.ceil,Ys=jt.ReactCurrentDispatcher,Xa=jt.ReactCurrentOwner,He=jt.ReactCurrentBatchConfig,K=0,xe=null,ue=null,ye=0,Ae=0,Sn=Vt(0),he=0,Rr=null,on=0,fl=0,Ja=0,mr=null,Te=null,Za=0,zn=1/0,dt=null,Gs=!1,na=null,Mt=null,as=!1,Pt=null,Xs=0,xr=0,ra=null,bs=-1,Ss=0;function Se(){return K&6?ce():bs!==-1?bs:bs=ce()}function Dt(e){return e.mode&1?K&2&&ye!==0?ye&-ye:_p.transition!==null?(Ss===0&&(Ss=Ou()),Ss):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Uu(e.type)),e):1}function et(e,t,n,r){if(50<xr)throw xr=0,ra=null,Error(_(185));$r(e,n,r),(!(K&2)||e!==xe)&&(e===xe&&(!(K&2)&&(fl|=n),he===4&&Tt(e,ye)),Ie(e,r),n===1&&K===0&&!(t.mode&1)&&(zn=ce()+500,ol&&Wt()))}function Ie(e,t){var n=e.callbackNode;_h(e,t);var r=Rs(e,e===xe?ye:0);if(r===0)n!==null&&Oo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oo(n),t===1)e.tag===0?Tp(Ec.bind(null,e)):ad(Ec.bind(null,e)),bp(function(){!(K&6)&&Wt()}),n=null;else{switch(Mu(r)){case 1:n=Sa;break;case 4:n=Au;break;case 16:n=As;break;case 536870912:n=Ru;break;default:n=As}n=lf(n,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jd(e,t){if(bs=-1,Ss=0,K&6)throw Error(_(327));var n=e.callbackNode;if(Ln()&&e.callbackNode!==n)return null;var r=Rs(e,e===xe?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Js(e,r);else{t=r;var l=K;K|=2;var i=ef();(xe!==e||ye!==t)&&(dt=null,zn=ce()+500,tn(e,t));do try{Yp();break}catch(c){Zd(e,c)}while(!0);za(),Ys.current=i,K=l,ue!==null?t=0:(xe=null,ye=0,t=he)}if(t!==0){if(t===2&&(l=Pi(e),l!==0&&(r=l,t=sa(e,l))),t===1)throw n=Rr,tn(e,0),Tt(e,r),Ie(e,ce()),n;if(t===6)Tt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Qp(l)&&(t=Js(e,r),t===2&&(i=Pi(e),i!==0&&(r=i,t=sa(e,i))),t===1))throw n=Rr,tn(e,0),Tt(e,r),Ie(e,ce()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Yt(e,Te,dt);break;case 3:if(Tt(e,r),(r&130023424)===r&&(t=Za+500-ce(),10<t)){if(Rs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=zi(Yt.bind(null,e,Te,dt),t);break}Yt(e,Te,dt);break;case 4:if(Tt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Ze(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qp(r/1960))-r,10<r){e.timeoutHandle=zi(Yt.bind(null,e,Te,dt),r);break}Yt(e,Te,dt);break;case 5:Yt(e,Te,dt);break;default:throw Error(_(329))}}}return Ie(e,ce()),e.callbackNode===n?Jd.bind(null,e):null}function sa(e,t){var n=mr;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Js(e,t),e!==2&&(t=Te,Te=n,t!==null&&la(t)),e}function la(e){Te===null?Te=e:Te.push.apply(Te,e)}function Qp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!tt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~Ja,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function Ec(e){if(K&6)throw Error(_(327));Ln();var t=Rs(e,0);if(!(t&1))return Ie(e,ce()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var r=Pi(e);r!==0&&(t=r,n=sa(e,r))}if(n===1)throw n=Rr,tn(e,0),Tt(e,t),Ie(e,ce()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yt(e,Te,dt),Ie(e,ce()),null}function eo(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(zn=ce()+500,ol&&Wt())}}function cn(e){Pt!==null&&Pt.tag===0&&!(K&6)&&Ln();var t=K;K|=1;var n=He.transition,r=Y;try{if(He.transition=null,Y=1,e)return e()}finally{Y=r,He.transition=n,K=t,!(K&6)&&Wt()}}function to(){Ae=Sn.current,ne(Sn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kp(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(Oa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:Mn(),ne(Pe),ne(ke),Va();break;case 5:Ha(r);break;case 4:Mn();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Fa(r.type._context);break;case 22:case 23:to()}n=n.return}if(xe=e,ue=e=zt(e.current,null),ye=Ae=t,he=0,Rr=null,Ja=fl=on=0,Te=mr=null,Xt!==null){for(t=0;t<Xt.length;t++)if(n=Xt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}Xt=null}return e}function Zd(e,t){do{var n=ue;try{if(za(),js.current=Ks,Qs){for(var r=le.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Qs=!1}if(an=0,me=fe=le=null,hr=!1,Lr=0,Xa.current=null,n===null||n.return===null){he=1,Rr=t,ue=null;break}e:{var i=e,a=n.return,c=n,o=t;if(t=ye,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=pc(a);if(v!==null){v.flags&=-257,mc(v,a,c,i,t),v.mode&1&&hc(i,u,t),t=v,o=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(o),t.updateQueue=g}else w.add(o);break e}else{if(!(t&1)){hc(i,u,t),no();break e}o=Error(_(426))}}else if(re&&c.mode&1){var R=pc(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),mc(R,a,c,i,t),Ma(Dn(o,c));break e}}i=o=Dn(o,c),he!==4&&(he=2),mr===null?mr=[i]:mr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Md(i,o,t);ac(i,x);break e;case 1:c=o;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mt===null||!Mt.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Dd(i,c,t);ac(i,N);break e}}i=i.return}while(i!==null)}nf(n)}catch(S){t=S,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function ef(){var e=Ys.current;return Ys.current=Ks,e===null?Ks:e}function no(){(he===0||he===3||he===2)&&(he=4),xe===null||!(on&268435455)&&!(fl&268435455)||Tt(xe,ye)}function Js(e,t){var n=K;K|=2;var r=ef();(xe!==e||ye!==t)&&(dt=null,tn(e,t));do try{Kp();break}catch(l){Zd(e,l)}while(!0);if(za(),K=n,Ys.current=r,ue!==null)throw Error(_(261));return xe=null,ye=0,he}function Kp(){for(;ue!==null;)tf(ue)}function Yp(){for(;ue!==null&&!wh();)tf(ue)}function tf(e){var t=sf(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?nf(e):ue=t,Xa.current=null}function nf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Up(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ue=null;return}}else if(n=$p(n,t,Ae),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);he===0&&(he=5)}function Yt(e,t,n){var r=Y,l=He.transition;try{He.transition=null,Y=1,Gp(e,t,n,r)}finally{He.transition=l,Y=r}return null}function Gp(e,t,n,r){do Ln();while(Pt!==null);if(K&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ph(e,i),e===xe&&(ue=xe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||as||(as=!0,lf(As,function(){return Ln(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=He.transition,He.transition=null;var a=Y;Y=1;var c=K;K|=4,Xa.current=null,Vp(e,n),Gd(n,e),xp(Mi),Os=!!Oi,Mi=Oi=null,e.current=n,Wp(n),jh(),K=c,Y=a,He.transition=i}else e.current=n;if(as&&(as=!1,Pt=e,Xs=l),i=e.pendingLanes,i===0&&(Mt=null),bh(n.stateNode),Ie(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Gs)throw Gs=!1,e=na,na=null,e;return Xs&1&&e.tag!==0&&Ln(),i=e.pendingLanes,i&1?e===ra?xr++:(xr=0,ra=e):xr=0,Wt(),null}function Ln(){if(Pt!==null){var e=Mu(Xs),t=He.transition,n=Y;try{if(He.transition=null,Y=16>e?16:e,Pt===null)var r=!1;else{if(e=Pt,Pt=null,Xs=0,K&6)throw Error(_(331));var l=K;for(K|=4,D=e.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(D=u;D!==null;){var p=D;switch(p.tag){case 0:case 11:case 15:pr(8,p,i)}var m=p.child;if(m!==null)m.return=p,D=m;else for(;D!==null;){p=D;var d=p.sibling,v=p.return;if(Qd(p),p===u){D=null;break}if(d!==null){d.return=v,D=d;break}D=v}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var R=g.sibling;g.sibling=null,g=R}while(g!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pr(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,D=x;break e}D=i.return}}var f=e.current;for(D=f;D!==null;){a=D;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,D=h;else e:for(a=f;D!==null;){if(c=D,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:dl(9,c)}}catch(S){ae(c,c.return,S)}if(c===a){D=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,D=N;break e}D=c.return}}if(K=l,Wt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(rl,e)}catch{}r=!0}return r}finally{Y=n,He.transition=t}}return!1}function Tc(e,t,n){t=Dn(n,t),t=Md(e,t,1),e=Ot(e,t,1),t=Se(),e!==null&&($r(e,1,t),Ie(e,t))}function ae(e,t,n){if(e.tag===3)Tc(e,e,n);else for(;t!==null;){if(t.tag===3){Tc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){e=Dn(n,e),e=Dd(t,e,1),t=Ot(t,e,1),e=Se(),t!==null&&($r(t,1,e),Ie(t,e));break}}t=t.return}}function Xp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(ye&n)===n&&(he===4||he===3&&(ye&130023424)===ye&&500>ce()-Za?tn(e,0):Ja|=n),Ie(e,t)}function rf(e,t){t===0&&(e.mode&1?(t=Xr,Xr<<=1,!(Xr&130023424)&&(Xr=4194304)):t=1);var n=Se();e=vt(e,t),e!==null&&($r(e,t,n),Ie(e,n))}function Jp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rf(e,n)}function Zp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),rf(e,n)}var sf;sf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)_e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _e=!1,Bp(e,t,n);_e=!!(e.flags&131072)}else _e=!1,re&&t.flags&1048576&&od(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ks(e,t),e=t.pendingProps;var l=An(t,ke.current);Pn(t,n),l=qa(null,t,r,e,l,n);var i=Qa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,Bs(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,$a(t),l.updater=ul,t.stateNode=l,l._reactInternals=t,Wi(t,r,e,n),t=Ki(null,t,r,!0,i,n)):(t.tag=0,re&&i&&Ra(t),be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=tm(r),e=Ye(r,e),l){case 0:t=Qi(null,t,r,e,n);break e;case 1:t=yc(null,t,r,e,n);break e;case 11:t=xc(null,t,r,e,n);break e;case 14:t=gc(null,t,r,Ye(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),Qi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),yc(e,t,r,l,n);case 3:e:{if($d(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,l=i.element,pd(e,t),Ws(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Dn(Error(_(423)),t),t=vc(e,t,r,n,l);break e}else if(r!==l){l=Dn(Error(_(424)),t),t=vc(e,t,r,n,l);break e}else for(Re=Rt(t.stateNode.containerInfo.firstChild),Oe=t,re=!0,Je=null,n=fd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===l){t=wt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return md(t),e===null&&Ui(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Di(r,l)?a=null:i!==null&&Di(r,i)&&(t.flags|=32),Bd(e,t),be(e,t,a,n),t.child;case 6:return e===null&&Ui(t),null;case 13:return Ud(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=On(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),xc(e,t,r,l,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,ee(Hs,r._currentValue),r._currentValue=a,i!==null)if(tt(i.value,a)){if(i.children===l.children&&!Pe.current){t=wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=mt(-1,n&-n),o.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?o.next=o:(o.next=p.next,p.next=o),u.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Hi(i.return,n,t),c.lanes|=n;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(_(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Hi(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Pn(t,n),l=Ve(l),r=r(l),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,l=Ye(r,t.pendingProps),l=Ye(r.type,l),gc(e,t,r,l,n);case 15:return zd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),ks(e,t),t.tag=1,Le(r)?(e=!0,Bs(t)):e=!1,Pn(t,n),Od(t,r,l),Wi(t,r,l,n),Ki(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Fd(e,t,n)}throw Error(_(156,t.tag))};function lf(e,t){return Iu(e,t)}function em(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,n,r){return new em(e,t,n,r)}function ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tm(e){if(typeof e=="function")return ro(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Na)return 11;if(e===ka)return 14}return 2}function zt(e,t){var n=e.alternate;return n===null?(n=Ue(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")ro(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case mn:return nn(n.children,l,i,t);case ja:a=8,l|=8;break;case mi:return e=Ue(12,n,t,l|2),e.elementType=mi,e.lanes=i,e;case xi:return e=Ue(13,n,t,l),e.elementType=xi,e.lanes=i,e;case gi:return e=Ue(19,n,t,l),e.elementType=gi,e.lanes=i,e;case mu:return hl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hu:a=10;break e;case pu:a=9;break e;case Na:a=11;break e;case ka:a=14;break e;case St:a=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Ue(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function nn(e,t,n,r){return e=Ue(7,e,r,t),e.lanes=n,e}function hl(e,t,n,r){return e=Ue(22,e,r,t),e.elementType=mu,e.lanes=n,e.stateNode={isHidden:!1},e}function ti(e,t,n){return e=Ue(6,e,null,t),e.lanes=n,e}function ni(e,t,n){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function so(e,t,n,r,l,i,a,c,o){return e=new nm(e,t,n,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ue(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(i),e}function rm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function af(e){if(!e)return $t;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Le(n))return id(e,n,t)}return t}function of(e,t,n,r,l,i,a,c,o){return e=so(n,r,!0,e,l,i,a,c,o),e.context=af(null),n=e.current,r=Se(),l=Dt(n),i=mt(r,l),i.callback=t??null,Ot(n,i,l),e.current.lanes=l,$r(e,l,r),Ie(e,r),e}function pl(e,t,n,r){var l=t.current,i=Se(),a=Dt(l);return n=af(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ot(l,t,a),e!==null&&(et(e,l,a,i),ws(e,l,a)),a}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _c(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lo(e,t){_c(e,t),(e=e.alternate)&&_c(e,t)}function sm(){return null}var cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function io(e){this._internalRoot=e}ml.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));pl(e,t,null,null)};ml.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){pl(null,e,null,null)}),t[yt]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Et.length&&t!==0&&t<Et[n].priority;n++);Et.splice(n,0,e),n===0&&$u(e)}};function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pc(){}function lm(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var u=Zs(a);i.call(u)}}var a=of(t,r,e,0,null,!1,!1,"",Pc);return e._reactRootContainer=a,e[yt]=a.current,Cr(e.nodeType===8?e.parentNode:e),cn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var u=Zs(o);c.call(u)}}var o=so(e,0,!1,null,null,!1,!1,"",Pc);return e._reactRootContainer=o,e[yt]=o.current,Cr(e.nodeType===8?e.parentNode:e),cn(function(){pl(t,o,n,r)}),o}function gl(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var c=l;l=function(){var o=Zs(a);c.call(o)}}pl(t,a,e,l)}else a=lm(n,t,e,l,r);return Zs(a)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lr(t.pendingLanes);n!==0&&(Ca(t,n|1),Ie(t,ce()),!(K&6)&&(zn=ce()+500,Wt()))}break;case 13:cn(function(){var r=vt(e,1);if(r!==null){var l=Se();et(r,e,1,l)}}),lo(e,1)}};Ea=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var n=Se();et(t,e,134217728,n)}lo(e,134217728)}};zu=function(e){if(e.tag===13){var t=Dt(e),n=vt(e,t);if(n!==null){var r=Se();et(n,e,t,r)}lo(e,t)}};Fu=function(){return Y};Bu=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ei=function(e,t,n){switch(t){case"input":if(wi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=al(r);if(!l)throw Error(_(90));gu(r),wi(r,l)}}}break;case"textarea":vu(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};Cu=eo;Eu=cn;var im={usingClientEntryPoint:!1,Events:[Hr,vn,al,bu,Su,eo]},Jn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},am={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pu(e),e===null?null:e.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{rl=os.inject(am),it=os}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ao(t))throw Error(_(200));return rm(e,t,null,n)};De.createRoot=function(e,t){if(!ao(e))throw Error(_(299));var n=!1,r="",l=cf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=so(e,1,!1,null,null,n,!1,r,l),e[yt]=t.current,Cr(e.nodeType===8?e.parentNode:e),new io(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Pu(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return cn(e)};De.hydrate=function(e,t,n){if(!xl(t))throw Error(_(200));return gl(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!ao(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=cf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=of(t,null,e,1,n??null,l,!1,i,a),e[yt]=t.current,Cr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ml(t)};De.render=function(e,t,n){if(!xl(t))throw Error(_(200));return gl(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!xl(e))throw Error(_(40));return e._reactRootContainer?(cn(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};De.unstable_batchedUpdates=eo;De.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return gl(e,t,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),cu.exports=De;var om=cu.exports,Lc=om;hi.createRoot=Lc.createRoot,hi.hydrateRoot=Lc.hydrateRoot;const ct=Object.create(null);ct.open="0";ct.close="1";ct.ping="2";ct.pong="3";ct.message="4";ct.upgrade="5";ct.noop="6";const Es=Object.create(null);Object.keys(ct).forEach(e=>{Es[ct[e]]=e});const ia={type:"error",data:"parser error"},df=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ff=typeof ArrayBuffer=="function",hf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,oo=({type:e,data:t},n,r)=>df&&t instanceof Blob?n?r(t):Ic(t,r):ff&&(t instanceof ArrayBuffer||hf(t))?n?r(t):Ic(new Blob([t]),r):r(ct[e]+(t||"")),Ic=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Ac(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ri;function cm(e,t){if(df&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ac).then(t);if(ff&&(e.data instanceof ArrayBuffer||hf(e.data)))return t(Ac(e.data));oo(e,!1,n=>{ri||(ri=new TextEncoder),t(ri.encode(n))})}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ar=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Rc.length;e++)ar[Rc.charCodeAt(e)]=e;const um=e=>{let t=e.length*.75,n=e.length,r,l=0,i,a,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),p=new Uint8Array(u);for(r=0;r<n;r+=4)i=ar[e.charCodeAt(r)],a=ar[e.charCodeAt(r+1)],c=ar[e.charCodeAt(r+2)],o=ar[e.charCodeAt(r+3)],p[l++]=i<<2|a>>4,p[l++]=(a&15)<<4|c>>2,p[l++]=(c&3)<<6|o&63;return u},dm=typeof ArrayBuffer=="function",co=(e,t)=>{if(typeof e!="string")return{type:"message",data:pf(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:fm(e.substring(1),t)}:Es[n]?e.length>1?{type:Es[n],data:e.substring(1)}:{type:Es[n]}:ia},fm=(e,t)=>{if(dm){const n=um(e);return pf(n,t)}else return{base64:!0,data:e}},pf=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mf="",hm=(e,t)=>{const n=e.length,r=new Array(n);let l=0;e.forEach((i,a)=>{oo(i,!1,c=>{r[a]=c,++l===n&&t(r.join(mf))})})},pm=(e,t)=>{const n=e.split(mf),r=[];for(let l=0;l<n.length;l++){const i=co(n[l],t);if(r.push(i),i.type==="error")break}return r};function mm(){return new TransformStream({transform(e,t){cm(e,n=>{const r=n.length;let l;if(r<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,r);else if(r<65536){l=new Uint8Array(3);const i=new DataView(l.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{l=new Uint8Array(9);const i=new DataView(l.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(n)})}})}let si;function cs(e){return e.reduce((t,n)=>t+n.length,0)}function us(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let l=0;l<t;l++)n[l]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function xm(e,t){si||(si=new TextDecoder);const n=[];let r=0,l=-1,i=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(r===0){if(cs(n)<1)break;const o=us(n,1);i=(o[0]&128)===128,l=o[0]&127,l<126?r=3:l===126?r=1:r=2}else if(r===1){if(cs(n)<2)break;const o=us(n,2);l=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),r=3}else if(r===2){if(cs(n)<8)break;const o=us(n,8),u=new DataView(o.buffer,o.byteOffset,o.length),p=u.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(ia);break}l=p*Math.pow(2,32)+u.getUint32(4),r=3}else{if(cs(n)<l)break;const o=us(n,l);c.enqueue(co(i?o:si.decode(o),t)),r=0}if(l===0||l>e){c.enqueue(ia);break}}}})}const xf=4;function de(e){if(e)return gm(e)}function gm(e){for(var t in de.prototype)e[t]=de.prototype[t];return e}de.prototype.on=de.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};de.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};de.prototype.off=de.prototype.removeListener=de.prototype.removeAllListeners=de.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,l=0;l<n.length;l++)if(r=n[l],r===t||r.fn===t){n.splice(l,1);break}return n.length===0&&delete this._callbacks["$"+e],this};de.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,l=n.length;r<l;++r)n[r].apply(this,t)}return this};de.prototype.emitReserved=de.prototype.emit;de.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};de.prototype.hasListeners=function(e){return!!this.listeners(e).length};const yl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),$e=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ym="arraybuffer";function gf(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const vm=$e.setTimeout,wm=$e.clearTimeout;function vl(e,t){t.useNativeTimers?(e.setTimeoutFn=vm.bind($e),e.clearTimeoutFn=wm.bind($e)):(e.setTimeoutFn=$e.setTimeout.bind($e),e.clearTimeoutFn=$e.clearTimeout.bind($e))}const jm=1.33;function Nm(e){return typeof e=="string"?km(e):Math.ceil((e.byteLength||e.size)*jm)}function km(e){let t=0,n=0;for(let r=0,l=e.length;r<l;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function yf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function bm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Sm(e){let t={},n=e.split("&");for(let r=0,l=n.length;r<l;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Cm extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class uo extends de{constructor(t){super(),this.writable=!1,vl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Cm(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=co(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=bm(t);return n.length?"?"+n:""}}class Em extends uo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};pm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=yf()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let vf=!1;try{vf=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Tm=vf;function _m(){}class Pm extends Em{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(l,i)=>{this.onError("xhr post error",l,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ot extends de{constructor(t,n,r){super(),this.createRequest=t,vl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=gf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&r.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var l;r.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=ot.requestsCount++,ot.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=_m,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ot.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ot.requestsCount=0;ot.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Oc);else if(typeof addEventListener=="function"){const e="onpagehide"in $e?"pagehide":"unload";addEventListener(e,Oc,!1)}}function Oc(){for(let e in ot.requests)ot.requests.hasOwnProperty(e)&&ot.requests[e].abort()}const Lm=function(){const e=wf({xdomain:!1});return e&&e.responseType!==null}();class Im extends Pm{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Lm&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ot(wf,this.uri(),t)}}function wf(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Tm))return new XMLHttpRequest}catch{}if(!t)try{return new $e[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Am extends uo{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=jf?{}:gf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],l=n===t.length-1;oo(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}l&&yl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=yf()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const li=$e.WebSocket||$e.MozWebSocket;class Rm extends Am{createSocket(t,n,r){return jf?new li(t,n,r):n?new li(t,n):new li(t)}doWrite(t,n){this.ws.send(n)}}class Om extends uo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=xm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),l=mm();l.readable.pipeTo(t.writable),this._writer=l.writable.getWriter();const i=()=>{r.read().then(({done:c,value:o})=>{c||(this.onPacket(o),i())}).catch(c=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],l=n===t.length-1;this._writer.write(r).then(()=>{l&&yl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Mm={websocket:Rm,webtransport:Om,polling:Im},Dm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function aa(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let l=Dm.exec(e||""),i={},a=14;for(;a--;)i[zm[a]]=l[a]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Fm(i,i.path),i.queryKey=Bm(i,i.query),i}function Fm(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Bm(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,l,i){l&&(n[l]=i)}),n}const oa=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ts=[];oa&&addEventListener("offline",()=>{Ts.forEach(e=>e())},!1);class Ft extends de{constructor(t,n){if(super(),this.binaryType=ym,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=aa(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=aa(n.host).host);vl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const l=r.prototype.name;this.transports.push(l),this._transportsByName[l]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Sm(this.opts.query)),oa&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ts.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=xf,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ft.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ft.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const l=this.writeBuffer[r].data;if(l&&(n+=Nm(l)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,yl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,l){if(typeof n=="function"&&(l=n,n=void 0),typeof r=="function"&&(l=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ft.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),oa&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ts.indexOf(this._offlineEventListener);r!==-1&&Ts.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ft.protocol=xf;class $m extends Ft{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ft.priorWebsocketSuccess=!1;const l=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ft.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,p(),n.close(),n=null)}const a=m=>{const d=new Error("probe error: "+m);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function c(){a("transport closed")}function o(){a("socket closed")}function u(m){n&&m.name!==n.name&&i()}const p=()=>{n.removeListener("open",l),n.removeListener("error",a),n.removeListener("close",c),this.off("close",o),this.off("upgrading",u)};n.once("open",l),n.once("error",a),n.once("close",c),this.once("close",o),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Um=class extends $m{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(l=>Mm[l]).filter(l=>!!l)),super(t,r)}};function Hm(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=aa(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Vm=typeof ArrayBuffer=="function",Wm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Nf=Object.prototype.toString,qm=typeof Blob=="function"||typeof Blob<"u"&&Nf.call(Blob)==="[object BlobConstructor]",Qm=typeof File=="function"||typeof File<"u"&&Nf.call(File)==="[object FileConstructor]";function fo(e){return Vm&&(e instanceof ArrayBuffer||Wm(e))||qm&&e instanceof Blob||Qm&&e instanceof File}function _s(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(_s(e[n]))return!0;return!1}if(fo(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return _s(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&_s(e[n]))return!0;return!1}function Km(e){const t=[],n=e.data,r=e;return r.data=ca(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ca(e,t){if(!e)return e;if(fo(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ca(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ca(e[r],t));return n}return e}function Ym(e,t){return e.data=ua(e.data,t),delete e.attachments,e}function ua(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ua(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ua(e[n],t));return e}const Gm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(q||(q={}));class Xm{constructor(t){this.replacer=t}encode(t){return(t.type===q.EVENT||t.type===q.ACK)&&_s(t)?this.encodeAsBinary({type:t.type===q.EVENT?q.BINARY_EVENT:q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===q.BINARY_EVENT||t.type===q.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Km(t),r=this.encodeAsString(n.packet),l=n.buffers;return l.unshift(r),l}}class ho extends de{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===q.BINARY_EVENT;r||n.type===q.BINARY_ACK?(n.type=r?q.EVENT:q.ACK,this.reconstructor=new Jm(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fo(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(q[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===q.BINARY_EVENT||r.type===q.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(i,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const l=t.charAt(n+1);if(l!==""&&Number(l)==l){const i=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(ho.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case q.CONNECT:return Mc(n);case q.DISCONNECT:return n===void 0;case q.CONNECT_ERROR:return typeof n=="string"||Mc(n);case q.EVENT:case q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Gm.indexOf(n[0])===-1);case q.ACK:case q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jm{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Ym(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Mc(e){return Object.prototype.toString.call(e)==="[object Object]"}const Zm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ho,Encoder:Xm,get PacketType(){return q}},Symbol.toStringTag,{value:"Module"}));function Xe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const e0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kf extends de{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xe(t,"open",this.onopen.bind(this)),Xe(t,"packet",this.onpacket.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,l,i;if(e0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:q.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,m=n.pop();this._registerAckCallback(p,m),a.id=p}const c=(l=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||l===void 0?void 0:l.writable,o=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var r;const l=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(l===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},l),a=(...c)=>{this.io.clearTimeoutFn(i),n.apply(this,c)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,l)=>{const i=(a,c)=>a?l(a):r(c);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...i)=>(this._queue[0],l!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(l)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case q.EVENT:case q.BINARY_EVENT:this.onevent(t);break;case q.ACK:case q.BINARY_ACK:this.onack(t);break;case q.DISCONNECT:this.ondisconnect();break;case q.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...l){r||(r=!0,n.packet({type:q.ACK,id:t,data:l}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Hn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Hn.prototype.reset=function(){this.attempts=0};Hn.prototype.setMin=function(e){this.ms=e};Hn.prototype.setMax=function(e){this.max=e};Hn.prototype.setJitter=function(e){this.jitter=e};class da extends de{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,vl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const l=n.parser||Zm;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Um(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const l=Xe(n,"open",function(){r.onopen(),t&&t()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},a=Xe(n,"error",i);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{l(),i(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(l),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xe(t,"ping",this.onping.bind(this)),Xe(t,"data",this.ondata.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this)),Xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){yl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new kf(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Zn={};function gr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Hm(e,t.path||"/socket.io"),r=n.source,l=n.id,i=n.path,a=Zn[l]&&i in Zn[l].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let o;return c?o=new da(r,t):(Zn[l]||(Zn[l]=new da(r,t)),o=Zn[l]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(gr,{Manager:da,Socket:kf,io:gr,connect:gr});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:o,...u},p)=>y.createElement("svg",{ref:p,...t0,width:l,height:l,stroke:r,strokeWidth:a?Number(i)*24/Number(l):i,className:["lucide",`lucide-${n0(e)}`,c].join(" "),...u},[...t.map(([m,d])=>y.createElement(m,d)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=O("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=O("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=O("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=O("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=O("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=O("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=O("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=O("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=O("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=O("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=O("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=O("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=O("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=O("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=O("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=O("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=O("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=O("Grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=O("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=O("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=O("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=O("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=O("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=O("MonitorOff",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=O("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=O("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=O("ParkingCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=O("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=O("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=O("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=O("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=O("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=O("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=O("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=O("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=O("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=O("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=O("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=O("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=O("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=O("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=O("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=O("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=O("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function kl({config:e}){const[t,n]=y.useState(new Date);y.useEffect(()=>{const i=setInterval(()=>n(new Date),1e3);return()=>clearInterval(i)},[]);const r=()=>{const i={hour:"2-digit",minute:"2-digit",...e.showSeconds&&{second:"2-digit"},hour12:e.format==="12h",...e.timezone&&{timeZone:e.timezone}};return t.toLocaleTimeString("en-GB",i)},l=()=>t.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric",...e.timezone&&{timeZone:e.timezone}});return s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx("div",{className:"text-[12vw] font-light tracking-tight text-white leading-none",children:r()}),e.showDate!==!1&&s.jsx("div",{className:"text-[2.5vw] text-gray-400 mt-4",children:l()})]})}function bl({config:e}){const[t,n]=y.useState(!1),[r,l]=y.useState(""),i=y.useRef(null),a=e.go2rtcHost||`${window.location.hostname}:1984`,c=e.mode||"jpeg",o=e.refreshInterval||2e3;y.useEffect(()=>{if(c==="jpeg"){const m=()=>{const v=`http://${a}/api/frame.jpeg?src=${encodeURIComponent(e.src)}&t=${Date.now()}`;l(v)};m();const d=setInterval(m,o);return()=>clearInterval(d)}},[e.src,a,c,o]);const u=()=>{n(!0)},p=()=>{n(!1)};if(c==="mse"||c==="webrtc"){const m=`http://${a}/stream.html?src=${encodeURIComponent(e.src)}&mode=${c}`;return s.jsxs("div",{className:"relative w-full h-full bg-black",children:[s.jsx("iframe",{src:m,className:"w-full h-full border-0",allow:"autoplay"}),e.showLabel&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:s.jsx("span",{className:"text-white text-lg font-medium",children:e.src})})]})}return s.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[t?s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(po,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("div",{children:"Camera unavailable"}),s.jsx("div",{className:"text-sm mt-1",children:e.src})]}):s.jsx("img",{ref:i,src:r,alt:e.src,className:"max-w-full max-h-full object-contain",onError:u,onLoad:p}),e.showLabel&&!t&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pf,{className:"w-4 h-4 text-red-500 animate-pulse"}),s.jsx("span",{className:"text-white font-medium",children:e.src})]})})]})}function Sl({config:e}){const[t,n]=y.useState(null),[r,l]=y.useState(0),[i,a]=y.useState(new Set),c=e.go2rtcHost||`${window.location.hostname}:1984`,o=e.columns||2,u=e.refreshInterval||3e3,p=e.rotateInterval||1e4;y.useEffect(()=>{if(e.autoRotate&&t===null){const v=setInterval(()=>{l(w=>(w+1)%e.cameras.length)},p);return()=>clearInterval(v)}},[e.autoRotate,e.cameras.length,t,p]);const m=v=>{a(w=>new Set(w).add(v))},d=v=>`http://${c}/api/frame.jpeg?src=${encodeURIComponent(v)}&t=${Math.floor(Date.now()/u)}`;if(t)return s.jsxs("div",{className:"relative w-full h-full bg-black cursor-pointer",onClick:()=>n(null),children:[s.jsx(ai,{src:d(t),camera:t,onError:()=>m(t),hasError:i.has(t),showLabel:!0}),s.jsx("div",{className:"absolute top-4 right-4 text-white/50 text-sm",children:"Click to exit full screen"})]});if(e.autoRotate){const v=e.cameras[r];return s.jsxs("div",{className:"relative w-full h-full bg-black",children:[s.jsx(ai,{src:d(v),camera:v,onError:()=>m(v),hasError:i.has(v),showLabel:!0}),s.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:e.cameras.map((w,g)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition ${g===r?"bg-accent":"bg-white/30"}`},w))}),s.jsx("div",{className:"absolute bottom-4 right-4",children:s.jsx("button",{onClick:w=>{w.stopPropagation(),n(v)},className:"p-2 bg-black/50 rounded-lg hover:bg-black/70 transition",children:s.jsx(v0,{className:"w-5 h-5 text-white"})})})]})}return s.jsx("div",{className:"w-full h-full grid gap-1 bg-black p-1",style:{gridTemplateColumns:`repeat(${o}, 1fr)`},children:e.cameras.map(v=>s.jsx("div",{className:"relative bg-dark-900 cursor-pointer hover:ring-2 ring-accent transition",onClick:()=>n(v),children:s.jsx(ai,{src:d(v),camera:v,onError:()=>m(v),hasError:i.has(v),showLabel:!0})},v))})}function ai({src:e,camera:t,onError:n,hasError:r,showLabel:l}){const[i,a]=y.useState(0);return y.useEffect(()=>{const c=setInterval(()=>a(o=>o+1),3e3);return()=>clearInterval(c)},[]),r?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx(po,{className:"w-8 h-8 mx-auto mb-1 opacity-50"}),s.jsx("div",{className:"text-xs",children:t})]})}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:e,alt:t,className:"absolute inset-0 w-full h-full object-cover",onError:n},i),l&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Pf,{className:"w-3 h-3 text-red-500 animate-pulse"}),s.jsx("span",{className:"text-white text-xs font-medium truncate",children:t})]})})]})}const Vc={0:{icon:Uc,description:"Clear sky"},1:{icon:Uc,description:"Mainly clear"},2:{icon:Zt,description:"Partly cloudy"},3:{icon:Zt,description:"Overcast"},45:{icon:Zt,description:"Foggy"},48:{icon:Zt,description:"Depositing rime fog"},51:{icon:rt,description:"Light drizzle"},53:{icon:rt,description:"Moderate drizzle"},55:{icon:rt,description:"Dense drizzle"},61:{icon:rt,description:"Slight rain"},63:{icon:rt,description:"Moderate rain"},65:{icon:rt,description:"Heavy rain"},71:{icon:ii,description:"Slight snow"},73:{icon:ii,description:"Moderate snow"},75:{icon:ii,description:"Heavy snow"},80:{icon:rt,description:"Rain showers"},81:{icon:rt,description:"Moderate showers"},82:{icon:rt,description:"Violent showers"},95:{icon:rt,description:"Thunderstorm"}};function Cl({config:e}){var m;const[t,n]=y.useState(null),[r,l]=y.useState(!0),[i,a]=y.useState(null),c=e.latitude||55.4583,o=e.longitude||-4.6292,u=e.location||"Ayr, Scotland";if(y.useEffect(()=>{const d=async()=>{var w;try{const g=`https://api.open-meteo.com/v1/forecast?latitude=${c}&longitude=${o}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m`,x=await(await fetch(g)).json();x.current&&n({temperature:Math.round(x.current.temperature_2m),feelsLike:Math.round(x.current.apparent_temperature),humidity:x.current.relative_humidity_2m,windSpeed:Math.round(x.current.wind_speed_10m),weatherCode:x.current.weather_code,description:((w=Vc[x.current.weather_code])==null?void 0:w.description)||"Unknown"}),l(!1)}catch{a("Failed to fetch weather"),l(!1)}};d();const v=setInterval(d,3e5);return()=>clearInterval(v)},[c,o]),r)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"Loading weather..."})});if(i||!t)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:i||"No weather data"})});const p=((m=Vc[t.weatherCode])==null?void 0:m.icon)||Zt;return s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsx(p,{className:"w-24 h-24 text-accent"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[8vw] font-light leading-none text-white",children:[t.temperature,""]}),s.jsx("div",{className:"text-xl text-gray-400",children:t.description})]})]}),s.jsx("div",{className:"text-2xl text-gray-500 mb-8",children:u}),s.jsxs("div",{className:"flex gap-8 text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P0,{className:"w-5 h-5"}),s.jsxs("span",{children:["Feels ",t.feelsLike,""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d0,{className:"w-5 h-5"}),s.jsxs("span",{children:[t.humidity,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I0,{className:"w-5 h-5"}),s.jsxs("span",{children:[t.windSpeed," km/h"]})]})]})]})}function El({config:e}){const[t,n]=y.useState(e.stats||[]),[r,l]=y.useState({}),i=e.columns||3,a=e.refreshInterval||3e4;y.useEffect(()=>{if(!e.apiUrl)return;const u=async()=>{try{const d=await(await fetch(e.apiUrl)).json();Array.isArray(d)?n(d):d.stats&&n(d.stats)}catch(m){console.error("Failed to fetch stats:",m)}};u();const p=setInterval(u,a);return()=>clearInterval(p)},[e.apiUrl,a]),y.useEffect(()=>{t.forEach((u,p)=>{if(typeof u.value=="number"){const m=`${p}-${u.label}`,d=r[m]||0,v=u.value;if(d!==v){const g=(v-d)/30;let R=0;const x=()=>{R++,R<=30?(l(f=>({...f,[m]:Math.round(d+g*R)})),requestAnimationFrame(x)):l(f=>({...f,[m]:v}))};requestAnimationFrame(x)}}})},[t]);const c=(u,p)=>{if(typeof u.value=="number"){const m=`${p}-${u.label}`;return r[m]??u.value}return u.value},o=u=>u?u>0?s.jsx(Nl,{className:"w-5 h-5 text-green-500"}):s.jsx(Tf,{className:"w-5 h-5 text-red-500"}):s.jsx(w0,{className:"w-5 h-5 text-gray-500"});return s.jsxs("div",{className:"flex flex-col h-full p-8",children:[e.title&&s.jsx("h2",{className:"text-2xl font-semibold text-white mb-8",children:e.title}),s.jsx("div",{className:"grid gap-6 flex-1",style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:t.map((u,p)=>s.jsxs("div",{className:"bg-dark-700/50 rounded-2xl p-6 flex flex-col",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-2",children:u.label}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-4xl font-semibold",style:{color:u.color||"#00d4ff"},children:c(u,p)}),u.unit&&s.jsx("span",{className:"text-xl text-gray-500",children:u.unit})]}),u.change!==void 0&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[o(u.change),s.jsxs("span",{className:u.change>0?"text-green-500":u.change<0?"text-red-500":"text-gray-500",children:[u.change>0?"+":"",u.change,"%"]})]})]},`${p}-${u.label}`))})]})}function Tl({config:e}){const[t,n]=y.useState(null),[r,l]=y.useState(!0),i=e.capacity||100,a=e.warningThreshold||80,c=e.criticalThreshold||95,o=e.refreshInterval||1e4;if(y.useEffect(()=>{const g=async()=>{if(e.apiUrl)try{const f=await(await fetch(e.apiUrl)).json();n({current:f.current||f.occupied||0,capacity:f.capacity||i,available:f.available||f.capacity-f.current||0,percentage:f.percentage||Math.round(f.current/f.capacity*100)||0})}catch(x){console.error("Failed to fetch occupancy:",x)}else{const x=Math.floor(Math.random()*i*.9);n({current:x,capacity:i,available:i-x,percentage:Math.round(x/i*100)})}l(!1)};g();const R=setInterval(g,o);return()=>clearInterval(R)},[e.apiUrl,i,o]),r||!t)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"Loading occupancy..."})});const p=t.percentage>=c?{color:"#ef4444",label:"FULL",icon:xt}:t.percentage>=a?{color:"#f59e0b",label:"FILLING",icon:xt}:{color:"#10b981",label:"AVAILABLE",icon:el},m=p.icon,d=120,v=2*Math.PI*d,w=v-t.percentage/100*v;return s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.siteName&&s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(go,{className:"w-8 h-8 text-accent"}),s.jsx("h2",{className:"text-3xl font-semibold text-white",children:e.siteName})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsxs("svg",{width:"280",height:"280",className:"transform -rotate-90",children:[s.jsx("circle",{cx:"140",cy:"140",r:d,fill:"none",stroke:"#1f2937",strokeWidth:"20"}),s.jsx("circle",{cx:"140",cy:"140",r:d,fill:"none",stroke:p.color,strokeWidth:"20",strokeLinecap:"round",strokeDasharray:v,strokeDashoffset:w,className:"transition-all duration-1000 ease-out"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"text-6xl font-bold text-white",children:t.available}),s.jsx("div",{className:"text-xl text-gray-400",children:"spaces"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 rounded-full text-lg font-semibold mb-8",style:{backgroundColor:`${p.color}20`,color:p.color},children:[s.jsx(m,{className:"w-6 h-6"}),p.label]}),s.jsxs("div",{className:"flex gap-12 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-semibold text-white",children:[s.jsx(xo,{className:"w-8 h-8"}),t.current]}),s.jsx("div",{className:"text-gray-500 mt-1",children:"Occupied"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-semibold text-white",children:t.capacity}),s.jsx("div",{className:"text-gray-500 mt-1",children:"Capacity"})]}),e.showPercentage!==!1&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-3xl font-semibold",style:{color:p.color},children:[t.percentage,"%"]}),s.jsx("div",{className:"text-gray-500 mt-1",children:"Full"})]})]})]})}function _l({config:e}){const t=e.refreshInterval?Math.floor(Date.now()/e.refreshInterval):0;return s.jsx("iframe",{src:e.url,title:e.title||"Embedded Content",className:"w-full h-full border-0",allow:"autoplay; fullscreen"},t)}function R0({data:e,label:t="Hourly Activity",color:n="#06b6d4",height:r=60}){const l=new Date().getHours(),i=y.useMemo(()=>{const o=new Map(e.map(d=>[d.hour,d.count])),u=[];for(let d=0;d<24;d++)u.push({hour:d,count:o.get(d)||0});const p=(l-11+24)%24,m=[];for(let d=0;d<12;d++){const v=(p+d)%24;m.push(u[v])}return m},[e,l]),a=Math.max(...i.map(o=>o.count),1),c=i.reduce((o,u)=>o+u.count,0);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Nl,{className:"w-3 h-3"}),s.jsx("span",{children:t})]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[c," movements (12h)"]})]}),s.jsx("div",{className:"flex items-end gap-[2px] rounded-lg bg-dark-700/50 p-2",style:{height:r},children:i.map((o,u)=>{const p=a>0?o.count/a*100:0,m=o.hour===l;return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[s.jsx("div",{className:"w-full rounded-t transition-all duration-300 hover:opacity-80",style:{height:`${Math.max(p,2)}%`,backgroundColor:m?"#22d3ee":n,opacity:m?1:.7,boxShadow:m?"0 0 8px #22d3ee60":"none"}}),s.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:s.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap",children:[String(o.hour).padStart(2,"0"),":00 - ",o.count," movements"]})}),u%3===0&&s.jsx("div",{className:"text-[9px] text-gray-500 mt-1",children:String(o.hour).padStart(2,"0")})]},o.hour)})})]})}function O0({sites:e,height:t=80}){const n=new Date().getHours(),r=y.useMemo(()=>{const o=new Map;e.forEach(d=>{d.stats.hourlyActivity.forEach(({hour:v,count:w})=>{o.set(v,(o.get(v)||0)+w)})});const u=[];for(let d=0;d<24;d++)u.push({hour:d,count:o.get(d)||0});const p=(n-11+24)%24,m=[];for(let d=0;d<12;d++){const v=(p+d)%24;m.push(u[v])}return m},[e,n]),l=Math.max(...r.map(o=>o.count),1),i=r.reduce((o,u)=>o+u.count,0),a=Math.round(i/12),c=r.reduce((o,u)=>u.count>o.count?u:o,r[0]);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(Nl,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"font-medium",children:"Activity Trends (12h)"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:[i," total"]}),s.jsxs("span",{children:["~",a,"/hr avg"]})]})]}),s.jsx("div",{className:"flex items-end gap-1 rounded-xl bg-dark-700/30 p-3",style:{height:t},children:r.map((o,u)=>{const p=l>0?o.count/l*100:0,m=o.hour===n,d=o.hour===c.hour&&o.count>0,v=l>0?o.count/l:0,w=m?"#22d3ee":d?"#fbbf24":`rgba(6, 182, 212, ${.4+v*.6})`;return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[s.jsx("div",{className:"w-full rounded-t-sm transition-all duration-300",style:{height:`${Math.max(p,3)}%`,backgroundColor:w,boxShadow:m?"0 0 10px #22d3ee60":d?"0 0 8px #fbbf2440":"none"}}),s.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:s.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1.5 rounded-lg shadow-lg whitespace-nowrap border border-dark-500",children:[s.jsxs("div",{className:"font-medium",children:[String(o.hour).padStart(2,"0"),":00"]}),s.jsxs("div",{className:"text-gray-400",children:[o.count," movements"]}),d&&s.jsx("div",{className:"text-amber-400",children:" Peak hour"})]})}),u%2===0&&s.jsx("div",{className:`text-[10px] mt-1 ${m?"text-cyan-400 font-medium":"text-gray-500"}`,children:String(o.hour).padStart(2,"0")})]},o.hour)})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-[10px] text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-sm bg-cyan-400"}),s.jsx("span",{children:"Current"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-sm bg-amber-400"}),s.jsx("span",{children:"Peak"})]})]})]})}const M0=(e,t=.5,n)=>e==="custom"&&n?()=>{const r=new Audio(n);r.volume=t,r.play().catch(l=>console.warn("Failed to play custom alert:",l))}:()=>{try{const r=new(window.AudioContext||window.webkitAudioContext),l=r.createGain();l.connect(r.destination),l.gain.value=t;const i=(a,c,o,u="sine")=>{const p=r.createOscillator();p.type=u,p.frequency.value=a,p.connect(l),p.start(r.currentTime+c),p.stop(r.currentTime+c+o)};switch(e){case"chime":i(880,0,.15),i(1108.73,.15,.2);break;case"alert":i(523.25,0,.1),i(659.25,.1,.1),i(783.99,.2,.15);break;case"urgent":i(880,0,.1,"square"),i(880,.15,.1,"square"),i(1046.5,.3,.15,"square");break;case"bell":i(1396.91,0,.3),i(698.46,.05,.25);break;case"none":default:break}setTimeout(()=>r.close(),1e3)}catch(r){console.warn("Web Audio API not supported or failed:",r)}};function jo({config:e}){var U,J,P,Z,X,pe,V;const[t,n]=y.useState(null),[r,l]=y.useState([]),[i,a]=y.useState([]),[c,o]=y.useState(!0),[u,p]=y.useState(null),[m,d]=y.useState(null),[v,w]=y.useState(!1),g=y.useRef(0),R=y.useRef(0),x=y.useRef(!0),f=e.posApiUrl||"http://localhost:3000",h=e.siteIds||["kyle-rise","KCS01"],N=e.refreshInterval||3e4,S=e.eventLimit||8,I=e.showEnforcement!==!1,j=e.showHealth!==!1,k={enabled:((U=e.alertSound)==null?void 0:U.enabled)!==!1,threshold:((J=e.alertSound)==null?void 0:J.threshold)??3,soundType:((P=e.alertSound)==null?void 0:P.soundType)||"chime",customSoundUrl:((Z=e.alertSound)==null?void 0:Z.customSoundUrl)||"",volume:((X=e.alertSound)==null?void 0:X.volume)??.5,repeatInterval:((pe=e.alertSound)==null?void 0:pe.repeatInterval)??6e4,playOnIncrease:((V=e.alertSound)==null?void 0:V.playOnIncrease)!==!1},b=y.useCallback(()=>{if(v||!k.enabled||k.soundType==="none")return;const T=Date.now();if(T-R.current<k.repeatInterval)return;R.current=T,M0(k.soundType,k.volume,k.customSoundUrl)()},[v,k]),A=y.useCallback(T=>{if(x.current){x.current=!1,g.current=T;return}const Q=g.current,Nt=T>=k.threshold,qe=T>Q;g.current=T,Nt&&(k.playOnIncrease?qe&&b():b())},[k,b]),H=y.useCallback(async()=>{try{const[T,Q,Nt]=await Promise.all([fetch(`${f}/api/operations/dashboard`),fetch(`${f}/api/operations/events?limit=${S}`),I?fetch(`${f}/enforcement/queue?limit=5`):Promise.resolve({ok:!0,json:()=>Promise.resolve({items:[],total:0})})]);if(T.ok){const qe=await T.json();qe.sites=qe.sites.filter(Qe=>h.includes(Qe.siteId)),n(qe)}if(Q.ok){const Qe=(await Q.json()).events.filter(qt=>h.includes(qt.siteId));l(Qe.slice(0,S))}if(I&&Nt.ok){const qe=await Nt.json(),Qe=qe.items||[];a(Qe);const qt=qe.total??Qe.length;A(qt)}p(new Date),d(null)}catch(T){console.error("Failed to fetch dashboard data:",T),d("Unable to connect to POS API")}finally{o(!1)}},[f,h,S,I,A]);y.useEffect(()=>{H();const T=setInterval(H,N);return()=>clearInterval(T)},[H,N]);const M=T=>new Date(T).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),B=T=>{const Q=new Date,Nt=new Date(T),qe=Q.getTime()-Nt.getTime(),Qe=Math.floor(qe/6e4);if(Qe<1)return"Just now";if(Qe<60)return`${Qe}m ago`;const qt=Math.floor(Qe/60);return qt<24?`${qt}h ago`:`${Math.floor(qt/24)}d ago`},C=T=>{switch(T){case"healthy":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444"}},F=T=>{switch(T){case"healthy":return s.jsx(el,{className:"w-5 h-5"});case"warning":return s.jsx(xt,{className:"w-5 h-5"});case"critical":return s.jsx(xt,{className:"w-5 h-5"})}};if(c)return s.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:s.jsxs("div",{className:"text-gray-500 flex items-center gap-3",children:[s.jsx(Mr,{className:"w-6 h-6 animate-spin"}),s.jsx("span",{className:"text-xl",children:"Loading Operations Dashboard..."})]})});if(m)return s.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:s.jsxs("div",{className:"text-red-400 flex items-center gap-3",children:[s.jsx(xt,{className:"w-8 h-8"}),s.jsx("span",{className:"text-xl",children:m})]})});const G=(t==null?void 0:t.sites.reduce((T,Q)=>T+Q.stats.today.entries,0))||0,E=(t==null?void 0:t.sites.reduce((T,Q)=>T+Q.stats.today.exits,0))||0,L=G-E,z=(t==null?void 0:t.summary.systemStatus)||"healthy";return s.jsxs("div",{className:"h-full bg-dark-900 text-white p-6 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Fn,{className:"w-8 h-8 text-accent"}),s.jsx("h1",{className:"text-2xl font-bold",children:e.title||"Operations Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[k.enabled&&k.soundType!=="none"&&s.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${v?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:v?"Click to unmute alerts":"Click to mute alerts",children:[v?s.jsx(If,{className:"w-4 h-4"}):s.jsx(Lf,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:v?"Muted":`Alert: ${k.threshold}+`})]}),j&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium",style:{backgroundColor:`${C(z)}20`,color:C(z)},children:[F(z),s.jsxs("span",{children:["System ",z.toUpperCase()]})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[s.jsx(Ut,{className:"w-4 h-4"}),"Updated ",M(u.toISOString())]})]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4",children:[s.jsxs("div",{className:"col-span-4 space-y-4",children:[t==null?void 0:t.sites.map(T=>s.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(go,{className:"w-6 h-6 text-accent"}),s.jsx("h3",{className:"text-lg font-semibold",children:T.siteName})]}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C(T.health.status)}})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-400",children:[s.jsx(zc,{className:"w-4 h-4"}),s.jsx("span",{className:"text-3xl font-bold",children:T.stats.today.entries})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Entries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-400",children:[s.jsx(Dc,{className:"w-4 h-4"}),s.jsx("span",{className:"text-3xl font-bold",children:T.stats.today.exits})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Exits"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-accent",children:T.stats.today.entries-T.stats.today.exits}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"On Site"})]})]}),T.stats.hourlyActivity&&T.stats.hourlyActivity.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-dark-700",children:s.jsx(R0,{data:T.stats.hourlyActivity,label:"Site Activity",color:"#06b6d4",height:50})}),T.cameras.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[s.jsx(bf,{className:"w-4 h-4"}),"Cameras"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.cameras.map(Q=>s.jsxs("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-dark-700",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.status==="online"?"#10b981":Q.status==="warning"?"#f59e0b":"#ef4444"}}),s.jsx("span",{className:"truncate max-w-[100px]",children:Q.name})]},Q.cameraId))})]})]},T.siteId)),s.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ef,{className:"w-6 h-6 text-accent"}),s.jsx("h3",{className:"text-lg font-semibold",children:"System Summary"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-accent",children:L}),s.jsx("div",{className:"text-sm text-gray-500",children:"Current Occupancy"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-white",children:G+E}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Movements"})]})]}),t&&t.sites.length>0&&s.jsx("div",{className:"pt-4 border-t border-dark-700",children:s.jsx(O0,{sites:t.sites,height:70})})]})]}),s.jsxs("div",{className:"col-span-5 bg-dark-800 rounded-2xl p-5 border border-dark-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xo,{className:"w-6 h-6 text-accent"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Recent ANPR Events"})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," events"]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"space-y-2",children:r.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No recent events for selected sites"}):r.map(T=>s.jsxs("div",{className:"flex items-center gap-4 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx("div",{className:`p-2 rounded-lg ${T.direction==="ENTRY"?"bg-green-500/20 text-green-400":T.direction==="EXIT"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:T.direction==="ENTRY"?s.jsx(zc,{className:"w-5 h-5"}):s.jsx(Dc,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono font-bold text-lg",children:T.vrm==="unknown"?"---":T.vrm}),s.jsx("span",{className:"text-xs text-gray-500 truncate",children:T.siteName})]}),s.jsx("div",{className:"text-xs text-gray-500",children:T.cameraName})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium",children:M(T.timestamp)}),s.jsx("div",{className:"text-xs text-gray-500",children:B(T.timestamp)})]})]},T.id))})})]}),s.jsxs("div",{className:"col-span-3 space-y-4",children:[I&&s.jsxs("div",{className:`bg-dark-800 rounded-2xl p-5 border ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=k.threshold?"border-orange-500 shadow-lg shadow-orange-500/20":"border-dark-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jl,{className:`w-6 h-6 ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=k.threshold?"text-orange-500 animate-pulse":"text-orange-400"}`}),s.jsx("h3",{className:"text-lg font-semibold",children:"Enforcement Queue"})]}),s.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:((t==null?void 0:t.summary.reviewQueueCount)||0)>=k.threshold?"#ef444440":i.length>0?"#f59e0b20":"#10b98120",color:((t==null?void 0:t.summary.reviewQueueCount)||0)>=k.threshold?"#ef4444":i.length>0?"#f59e0b":"#10b981"},children:[(t==null?void 0:t.summary.reviewQueueCount)||0," pending"]})]}),s.jsx("div",{className:"space-y-2",children:i.length===0?s.jsxs("div",{className:"text-center text-gray-500 py-6",children:[s.jsx(el,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),"Queue is clear"]}):i.slice(0,4).map(T=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono font-bold",children:T.vrm}),s.jsx("div",{className:"text-xs text-gray-500",children:T.siteId})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-orange-400",children:[T.durationMinutes,"min"]}),s.jsx("div",{className:"text-xs text-gray-500",children:B(T.timestamp)})]})]},T.id))})]}),j&&t&&s.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Fn,{className:"w-6 h-6 text-accent"}),s.jsx("h3",{className:"text-lg font-semibold",children:"System Health"})]}),s.jsxs("div",{className:"space-y-3",children:[t.sites.map(T=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C(T.health.status)}}),s.jsx("span",{className:"text-sm",children:T.siteName})]}),s.jsx("div",{className:"text-xs text-gray-500",children:T.health.lastSync?B(T.health.lastSync):"No sync"})]},T.siteId)),s.jsx("div",{className:"pt-2 border-t border-dark-700",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Active Alarms"}),s.jsx("span",{className:"font-medium",style:{color:t.summary.totalActiveAlarms>0?"#f59e0b":"#10b981"},children:t.summary.totalActiveAlarms})]})})]})]})]})]})]})}const ds={blue:"",mentor:"",pepper:"",professor:"",wonda:"",archie:"",atlas:"",cipher:"",friday:"",jarvis:"",lexis:"",wong:"",loki:"",quill:"",scout:"",vision:""},Wc={blue:"Monday.com Specialist",mentor:"HR & Talent Development",pepper:"Admin & Comms",professor:"Agent Trainer",wonda:"Designer",archie:"Technical Documentation",atlas:"BPA & Parking Expert",cipher:"Security & Compliance",friday:"Lead Developer",jarvis:"Project Lead",lexis:"Legal Research",wong:"Tech Writer",loki:"Content Writer",quill:"Social Media",scout:"Market Research",vision:"SEO Analyst"},oi={blue:"#3B82F6",mentor:"#F59E0B",pepper:"#8B5CF6",professor:"#10B981",wonda:"#EC4899",archie:"#6366F1",atlas:"#22C55E",cipher:"#EF4444",friday:"#F97316",jarvis:"#0EA5E9",lexis:"#8B5CF6",wong:"#6366F1",loki:"#F472B6",quill:"#A78BFA",scout:"#34D399",vision:"#60A5FA"},D0=["critical","high","medium","low"],Qt={critical:"#EF4444",high:"#F97316",medium:"#F59E0B",low:"#22C55E"};function Af({config:e}){const t=e.hqApiUrl||"http://localhost:3800",n=e.refreshInterval||3e4,r=e.maxItems||15,l=e.showMondayStatus!==!1,i=e.autoScroll!==!1;e.autoScrollInterval;const a=e.title||"Team Activity",c=e.compact||!1,o=e.filterByAgents||[],u=e.filterByPriority||[],p=e.excludeAgents||[],m=e.excludePriorities||[],d=e.showFilterControls||!1,[v,w]=y.useState([]),[g,R]=y.useState([]),[x,f]=y.useState(!0),[h,N]=y.useState(null),[S,I]=y.useState(!0),[j,k]=y.useState(null),[b,A]=y.useState(0),[H,M]=y.useState(null),[B,C]=y.useState(null),F=y.useRef(null);y.useRef();const G=y.useCallback(async()=>{try{const[P,Z]=await Promise.all([fetch(`${t}/api/tasks`),fetch(`${t}/api/agents`)]);if(!P.ok||!Z.ok)throw new Error("Failed to fetch data");const X=await P.json(),pe=await Z.json();let V=X.filter(T=>T.status==="done"&&T.completedAt).sort((T,Q)=>new Date(Q.completedAt).getTime()-new Date(T.completedAt).getTime());o.length>0&&(V=V.filter(T=>T.assignedTo&&o.includes(T.assignedTo))),p.length>0&&(V=V.filter(T=>!T.assignedTo||!p.includes(T.assignedTo))),u.length>0&&(V=V.filter(T=>{var Q;return u.includes(((Q=T.priority)==null?void 0:Q.toLowerCase())||"medium")})),m.length>0&&(V=V.filter(T=>{var Q;return!m.includes(((Q=T.priority)==null?void 0:Q.toLowerCase())||"medium")})),H&&(V=V.filter(T=>T.assignedTo===H)),B&&(V=V.filter(T=>{var Q;return(((Q=T.priority)==null?void 0:Q.toLowerCase())||"medium")===B})),V=V.slice(0,r),w(V),R(pe),N(new Date),k(null),I(!1)}catch(P){console.error("Failed to fetch HQ data:",P),k("Failed to connect to HQ"),I(!1)}},[t,r,o,u,p,m,H,B]);y.useEffect(()=>{G();const P=setInterval(G,n);return()=>clearInterval(P)},[G,n]),y.useEffect(()=>{if(!i||!F.current)return;const Z=setInterval(()=>{if(F.current){const X=F.current.scrollHeight-F.current.clientHeight;if(X<=0)return;A(pe=>{const V=pe+1;return V>=X?(setTimeout(()=>A(0),2e3),X):V})}},50);return()=>clearInterval(Z)},[i,v]),y.useEffect(()=>{F.current&&(F.current.scrollTop=b)},[b]);const E=P=>{const Z=new Date(P),pe=new Date().getTime()-Z.getTime(),V=Math.floor(pe/6e4),T=Math.floor(V/60),Q=Math.floor(T/24);return V<1?"Just now":V<60?`${V}m ago`:T<24?`${T}h ago`:Q===1?"Yesterday":`${Q}d ago`},L=P=>new Date(P).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),z=g.filter(P=>P.status==="working"),U=g.filter(P=>P.status==="idle"),J=v.filter(P=>{const Z=new Date(P.completedAt||P.updatedAt),X=new Date;return Z.toDateString()===X.toDateString()});return S?s.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:s.jsx("div",{className:"animate-spin",children:s.jsx(Mr,{className:"w-8 h-8 text-cyan-400"})})}):s.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-cyan-400 to-emerald-400 rounded-full"}),s.jsx("h1",{className:"text-2xl font-light tracking-wider text-cyan-400",children:a.split(" ").map((P,Z)=>s.jsxs("span",{className:Z===1?"font-semibold":"",children:[P," "]},Z))}),(o.length>0||u.length>0||H||B)&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"|"}),(o.length>0||H)&&s.jsxs("span",{className:"flex items-center gap-1 text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded-full",children:[s.jsx(L0,{className:"w-3 h-3"}),H?s.jsx("span",{className:"capitalize",children:H}):s.jsx("span",{children:o.join(", ")})]}),(u.length>0||B)&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Qt[B||u[0]]||"#F59E0B"}20`,color:Qt[B||u[0]]||"#F59E0B"},children:[s.jsx(zr,{className:"w-3 h-3"}),B||u.join(", ")]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[l&&s.jsx("div",{className:"flex items-center gap-2 text-sm",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-gray-400",children:"Monday.com"}),s.jsx("span",{className:"text-emerald-400",children:"Synced"})]}):s.jsxs(s.Fragment,{children:[s.jsx(u0,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-gray-400",children:"Monday.com"}),s.jsx("span",{className:"text-red-400",children:"Offline"})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-mono text-emerald-400",children:new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})]})]})]}),d&&s.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 bg-gray-800/30 border-b border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Agent:"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>M(null),className:`px-2 py-1 text-xs rounded transition-colors ${H?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),g.slice(0,8).map(P=>s.jsxs("button",{onClick:()=>M(H===P.id?null:P.id),className:`px-2 py-1 text-xs rounded transition-colors flex items-center gap-1 ${H===P.id?"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:Wc[P.id]||P.role,children:[s.jsx("span",{children:ds[P.id]||""}),s.jsx("span",{className:"capitalize hidden sm:inline",children:P.id})]},P.id))]})]}),s.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Priority:"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>C(null),className:`px-2 py-1 text-xs rounded transition-colors ${B?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),D0.map(P=>s.jsx("button",{onClick:()=>C(B===P?null:P),className:`px-2 py-1 text-xs rounded capitalize transition-colors ${B===P?"border":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,style:B===P?{backgroundColor:`${Qt[P]}30`,color:Qt[P],borderColor:`${Qt[P]}80`}:{},children:P},P))]})]}),(H||B)&&s.jsxs("button",{onClick:()=>{M(null),C(null)},className:"ml-auto text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[s.jsx("span",{children:"Clear filters"}),s.jsx("span",{className:"text-cyan-400",children:""})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(Fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Recent Completions"})]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[J.length," today"]})]}),s.jsxs("div",{ref:F,className:"flex-1 overflow-y-auto px-4 py-4 space-y-3 scrollbar-hide",style:{scrollBehavior:"auto"},children:[v.map((P,Z)=>{const X=P.assignedTo||"unknown",pe=ds[X]||"",V=Wc[X]||"Agent",T=oi[X]||"#64748B",Q=P.completedAt?L(P.completedAt):L(P.updatedAt),Nt=P.completedAt?E(P.completedAt):E(P.updatedAt);return s.jsxs("div",{className:"flex gap-3 animate-fadeIn",style:{animationDelay:`${Z*.1}s`,opacity:0,animation:"fadeIn 0.5s ease forwards"},children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-xs font-mono text-gray-500 mb-2",children:Q}),s.jsx("div",{className:"w-3 h-3 rounded-full ring-2 ring-gray-700",style:{backgroundColor:T}}),Z<v.length-1&&s.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-gray-700 to-transparent mt-2"})]}),s.jsxs("div",{className:"flex-1 bg-gray-800/50 rounded-lg p-4 border-l-2 hover:bg-gray-800/80 transition-colors",style:{borderLeftColor:T},children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-100 line-clamp-1",children:P.title}),s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[P.priority&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Qt[P.priority.toLowerCase()]||"#64748B"}20`,color:Qt[P.priority.toLowerCase()]||"#64748B"},children:P.priority}),s.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded-full",children:[s.jsx(l0,{className:"w-3 h-3"}),"Done"]})]})]}),!c&&P.output&&s.jsxs("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:[P.output.split("##")[0].substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-lg",children:pe}),s.jsx("span",{className:"text-gray-300 capitalize",children:X}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("span",{className:"text-gray-500",children:V}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:Nt})]})]})]},P.id)}),v.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[s.jsx(y0,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"No completed tasks yet"})]})]})]}),s.jsxs("div",{className:"w-72 flex flex-col bg-gray-800/30",children:[s.jsx("div",{className:"p-4 border-b border-gray-800",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-3xl font-bold font-mono text-emerald-400",children:J.length}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Completed Today"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-3xl font-bold font-mono text-cyan-400",children:z.length}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active Agents"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(_f,{className:"w-4 h-4"}),"Team Status"]}),s.jsxs("div",{className:"px-3 space-y-2",children:[z.map(P=>{const Z=ds[P.id]||P.avatar,X=oi[P.id]||"#64748B",pe=v.find(V=>V.id===P.currentTask);return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/50",children:[s.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${X}30`},children:Z}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-gray-200 capitalize",children:P.name||P.id}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:(pe==null?void 0:pe.title)||"Working..."})]}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"})]},P.id)}),U.slice(0,5).map(P=>{const Z=ds[P.id]||P.avatar,X=oi[P.id]||"#64748B";return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/30 opacity-60",children:[s.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${X}20`},children:Z}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-gray-400 capitalize",children:P.name||P.id}),s.jsx("div",{className:"text-xs text-gray-600",children:"Idle"})]}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"})]},P.id)})]})]}),s.jsxs("div",{className:"p-3 border-t border-gray-800 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"ParkWise"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400"}),"Local Connect"]})]}),h&&s.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Last sync: ",E(h.toISOString())]})]})]})]}),s.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-10px); }
          to { opacity: 1; transform: translateX(0); }
        }
        
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 1;
        }
        .line-clamp-2 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
        }
      `})]})}function Rf({config:e}){const[t,n]=y.useState(!1),r=e.level||"info",l=e.animate!==!1,i=e.fullscreen||r==="critical";y.useEffect(()=>{if(r==="critical"&&l){const u=setInterval(()=>{n(p=>!p)},500);return()=>clearInterval(u)}},[r,l]),y.useEffect(()=>{if(e.sound&&(r==="critical"||r==="error"))try{new Audio("/alert.mp3").play().catch(()=>{})}catch{}},[e.sound,r]);const a=()=>{switch(r){case"success":return{bg:"bg-green-600",text:"text-white",border:"border-green-400"};case"warning":return{bg:"bg-yellow-600",text:"text-white",border:"border-yellow-400"};case"error":return{bg:"bg-red-600",text:"text-white",border:"border-red-400"};case"critical":return{bg:t?"bg-red-700":"bg-red-900",text:"text-white",border:"border-red-500"};default:return{bg:"bg-accent-dim",text:"text-white",border:"border-accent"}}},c=()=>{switch(r){case"success":return s.jsx(el,{className:"w-12 h-12"});case"warning":return s.jsx(xt,{className:"w-12 h-12"});case"error":return s.jsx(A0,{className:"w-12 h-12"});case"critical":return s.jsx(xt,{className:"w-12 h-12 animate-pulse"});default:return s.jsx(Sf,{className:"w-12 h-12"})}},o=a();return i?s.jsxs("div",{className:`w-full h-full ${o.bg} ${o.text} flex flex-col items-center justify-center p-12 transition-colors duration-300`,children:[e.icon!==!1&&s.jsx("div",{className:"mb-8",children:c()}),e.title&&s.jsx("h1",{className:"text-5xl font-bold mb-6 text-center",children:e.title}),s.jsx("p",{className:"text-3xl text-center max-w-4xl leading-relaxed",children:e.message})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900",children:s.jsx("div",{className:`${o.bg} ${o.text} border-2 ${o.border} rounded-2xl p-8 max-w-3xl mx-8 shadow-2xl`,children:s.jsxs("div",{className:"flex items-center gap-6",children:[e.icon!==!1&&c(),s.jsxs("div",{children:[e.title&&s.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),s.jsx("p",{className:"text-xl",children:e.message})]})]})})})}function Pl({config:e}){const{layout:t,panels:n}=e,r=()=>{switch(t){case"split-h":return"flex flex-row";case"split-v":return"flex flex-col";case"grid-2x2":return"grid grid-cols-2 grid-rows-2";case"sidebar-left":return"flex flex-row";case"sidebar-right":return"flex flex-row";case"pip":return"relative";case"control-room":return"grid grid-cols-3 grid-rows-2";case"dashboard-cameras":return"flex flex-row";default:return"flex flex-row"}},l=(i,a)=>t==="pip"?i===0?{position:"absolute",inset:0}:{position:"absolute",bottom:20,right:20,width:"30%",height:"30%",zIndex:10,borderRadius:12,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}:t==="control-room"?i===0?{gridColumn:"1",gridRow:"1 / 3"}:{}:t==="dashboard-cameras"?i===0?{width:"40%",flexShrink:0}:{flex:1}:t==="sidebar-left"&&i===0?{width:a.size||300,flexShrink:0}:t==="sidebar-right"&&i===n.length-1?{width:a.size||300,flexShrink:0}:{flex:a.size||1};return s.jsx("div",{className:`w-full h-full ${r()}`,children:n.map((i,a)=>s.jsx("div",{className:"overflow-hidden bg-dark-900",style:l(a,i),children:s.jsx(z0,{widget:i.widget,config:i.config||{}})},a))})}function z0({widget:e,config:t}){switch(e){case"clock":return s.jsx(kl,{config:t});case"weather":return s.jsx(Cl,{config:t});case"camera":return s.jsx(bl,{config:t});case"camera-grid":return s.jsx(Sl,{config:t});case"stats":return s.jsx(El,{config:t});case"occupancy":return s.jsx(Tl,{config:t});case"iframe":return s.jsx(_l,{config:t});case"operations-dashboard":return s.jsx(jo,{config:t});case"team-activity":return s.jsx(Af,{config:t});case"alert":return s.jsx(Rf,{config:t});case"layout":return s.jsx(Pl,{config:t});default:return s.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function F0({config:e}){const[t,n]=y.useState(0),[r,l]=y.useState(!1),[i,a]=y.useState(0),c=e.defaultDuration||30,o=e.transition||"fade",u=e.shuffle?$0([...e.items]):e.items;y.useEffect(()=>{if(u.length<=1)return;const v=(u[t].duration||c)*1e3,w=setTimeout(()=>{l(!0),setTimeout(()=>{n(g=>(g+1)%u.length),a(g=>(g+1)%u.length),l(!1)},500)},v);return()=>clearTimeout(w)},[t,u,c]);const p=u[i];if(!p)return null;const m=()=>o==="none"?"":o==="fade"?r?"opacity-0":"opacity-100":o==="slide"?r?"translate-x-full":"translate-x-0":"";return s.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[s.jsx("div",{className:`w-full h-full transition-all duration-500 ${m()}`,children:s.jsx(B0,{widget:p.widget,config:p.config||{}})}),u.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:u.map((d,v)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${v===i?"bg-accent w-6":"bg-white/30"}`},v))})]})}function B0({widget:e,config:t}){switch(e){case"clock":return s.jsx(kl,{config:t});case"weather":return s.jsx(Cl,{config:t});case"camera":return s.jsx(bl,{config:t});case"camera-grid":return s.jsx(Sl,{config:t});case"stats":return s.jsx(El,{config:t});case"occupancy":return s.jsx(Tl,{config:t});case"iframe":return s.jsx(_l,{config:t});case"layout":return s.jsx(Pl,{config:t});default:return s.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function $0(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function U0(e){let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return`hsl(${Math.abs(t%360)}, 70%, 50%)`}function H0({config:e}){const[t,n]=y.useState(new Date),[r,l]=y.useState(!0),i=new URLSearchParams(window.location.search),a=(e==null?void 0:e.screenId)||i.get("screen")||i.get("id")||"unknown",c=(e==null?void 0:e.screenName)||i.get("name")||a,o=U0(a);y.useEffect(()=>{const p=setInterval(()=>n(new Date),1e3);return()=>clearInterval(p)},[]);const u=["#c0c0c0","#c0c000","#00c0c0","#00c000","#c000c0","#c00000","#0000c0","#000000"];return s.jsxs("div",{className:"w-full h-full bg-[#1a1a2e] flex flex-col overflow-hidden",children:[s.jsx("div",{className:"flex h-16 shrink-0",children:u.map((p,m)=>s.jsx("div",{className:"flex-1",style:{backgroundColor:p}},m))}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:[s.jsx("div",{className:"px-8 py-4 rounded-2xl mb-8",style:{backgroundColor:o+"30",borderColor:o,borderWidth:3},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vn,{className:"w-12 h-12",style:{color:o}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-bold tracking-wider",style:{color:o},children:a.toUpperCase()}),c!==a&&s.jsx("p",{className:"text-xl text-gray-400 mt-1",children:c})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center mb-8",children:[s.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[s.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Time"}),s.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),s.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[s.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Date"}),s.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})]}),s.jsx("div",{className:"flex items-center gap-3 text-lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(wo,{className:"w-6 h-6 text-green-400"}),s.jsx("span",{className:"text-green-400",children:"Connected to Signage Server"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vo,{className:"w-6 h-6 text-red-400 animate-pulse"}),s.jsx("span",{className:"text-red-400",children:"Disconnected"})]})}),s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-gray-600 text-sm",children:[s.jsx(Ef,{className:"w-4 h-4"}),s.jsx("span",{children:window.location.host})]})]}),s.jsx("div",{className:"h-8 shrink-0",style:{backgroundColor:o}}),s.jsx("div",{className:"absolute bottom-12 right-8 text-gray-700 text-sm font-mono",children:"SKYNET SIGNAGE v0.1"})]})}const No={rangers:{name:"Rangers FC",colors:{primary:"#0066CC",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/rangers/rss.xml",hashtag:"#RangersFC"},celtic:{name:"Celtic FC",colors:{primary:"#16A34A",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/celtic/rss.xml",hashtag:"#CelticFC"},"ayr-united":{name:"Ayr United",colors:{primary:"#000000",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/ayr-united/rss.xml",hashtag:"#AyrUnited"}};async function qc(e){var t;try{const n=No[e],r=`/api/proxy/rss?url=${encodeURIComponent(n.rssUrl)}`,l=await fetch(r);return l.ok&&((t=(await l.json()).items)==null?void 0:t.slice(0,5))||ci(e)}catch(n){return console.error("Failed to fetch news:",n),ci(e)}}function ci(e){const t=No[e].name;return[{title:`${t} latest transfer news and updates`,link:"#",pubDate:new Date().toISOString()},{title:`Match preview: ${t} prepare for weekend fixture`,link:"#",pubDate:new Date().toISOString()},{title:"Manager discusses squad depth and upcoming challenges",link:"#",pubDate:new Date().toISOString()}]}function V0(e){const t=e==="rangers"?["Celtic","Aberdeen","Hearts","Hibernian","Dundee United"]:e==="celtic"?["Rangers","Aberdeen","Hearts","Hibernian","Dundee United"]:["Partick Thistle","Queen of the South","Dunfermline","Raith Rovers","Morton"],n=new Date;return[{date:new Date(n.getTime()-4*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[0],venue:"H",competition:"Scottish Premiership",result:"2-1"},{date:new Date(n.getTime()+3*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[1],venue:"A",competition:"Scottish Premiership",isNext:!0},{date:new Date(n.getTime()+10*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[2],venue:"H",competition:"Scottish Cup"}]}function W0({config:e}){var m;const t=e.team||"rangers",n=No[t],[r,l]=y.useState([]),[i]=y.useState(V0(t)),[a,c]=y.useState(0),[o,u]=y.useState(!0);y.useEffect(()=>{qc(t).then(v=>{l(v),u(!1)});const d=setInterval(()=>{qc(t).then(l)},(e.refreshInterval||300)*1e3);return()=>clearInterval(d)},[t,e.refreshInterval]),y.useEffect(()=>{if(r.length===0)return;const d=setInterval(()=>{c(v=>(v+1)%r.length)},8e3);return()=>clearInterval(d)},[r.length]);const p=i.find(d=>d.isNext);return s.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden",style:{background:`linear-gradient(135deg, ${n.colors.primary} 0%, ${n.colors.primary}dd 100%)`,color:n.colors.secondary},children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-5xl",children:n.badge}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:n.name}),s.jsx("p",{className:"text-sm opacity-75",children:n.hashtag})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm opacity-75",children:"SCOTTISH PREMIERSHIP"}),s.jsx("div",{className:"text-2xl font-bold",children:"2nd"})]})]}),s.jsxs("div",{className:"flex-1 flex",children:[p&&s.jsxs("div",{className:"flex-1 p-6 border-r border-white/20 flex flex-col justify-center",children:[s.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-2",children:"Next Match"}),s.jsxs("div",{className:"text-4xl font-bold mb-2",children:[p.venue==="H"?"vs":"@"," ",p.opponent]}),s.jsx("div",{className:"text-xl opacity-90",children:p.date}),s.jsx("div",{className:"text-sm opacity-75 mt-1",children:p.competition}),s.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2 w-fit",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm",children:"Ibrox Stadium"})]})]}),s.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[s.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-3",children:"Fixtures & Results"}),s.jsx("div",{className:"space-y-3",children:i.map((d,v)=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${d.isNext?"bg-white/20 ring-2 ring-white/50":"bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:d.venue}),s.jsx("span",{className:"font-medium",children:d.opponent})]}),s.jsx("div",{className:"text-right",children:d.result?s.jsx("span",{className:`font-bold ${d.result.startsWith("W")||d.result.split("-")[0]>d.result.split("-")[1]?"text-green-300":d.result.split("-")[0]<d.result.split("-")[1]?"text-red-300":""}`,children:d.result}):s.jsx("span",{className:"text-sm opacity-75",children:d.date})})]},v))})]})]}),s.jsx("div",{className:"bg-black/30 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"bg-white text-black px-3 py-1 rounded font-bold text-sm shrink-0",children:"NEWS"}),s.jsx("div",{className:"overflow-hidden flex-1",children:o?s.jsx("span",{className:"opacity-75",children:"Loading latest news..."}):r.length>0?s.jsx("span",{className:"block truncate text-lg",children:(m=r[a])==null?void 0:m.title}):s.jsx("span",{className:"opacity-75",children:"No news available"})})]})})]})}const er={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},soup:{title:"Homemade Soup",icon:"",items:[{name:"Regular",price:2.5},{name:"Large",price:2.9},{name:"+ Buttered Roll",price:.5}]},chips:{title:"Chips",icon:"",items:[{name:"Chips",price:3,large:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Salt + Pepper",price:3.5,large:4.5},{name:"Cajun",price:3.5,large:4.5},{name:"+ Cheese",price:4,large:5},{name:"+ Curry Sauce",price:4,large:5},{name:"Loaded",price:4.5,large:5.5,popular:!0}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"Served with side salad",items:[{name:"Plain",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Egg Mayo",price:4.8},{name:"Chicken",price:5.3},{name:"Tuna",price:5.3},{name:"Chicken Curry",price:6.3,popular:!0},{name:"Cheese & Bacon",price:5.8}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4},{name:"Espresso",price:1.8},{name:"+ Flavour Shot",price:.5}]}},ui=[{name:"Chicken Curry + Rice",price:5.8,tag:"Most Popular",emoji:""},{name:"Steak Pie + Chips",price:5.3,tag:"Scottish Classic",emoji:""},{name:"Loaded Chips",price:5.5,tag:"Comfort Food",emoji:""},{name:"Homemade Soup + Roll",price:3.4,tag:"Warm Up",emoji:""}],oe={title:"clamp(28px, 3.5vw, 72px)",subtitle:"clamp(10px, 1vw, 20px)",sectionTitle:"clamp(14px, 1.5vw, 30px)",sectionIcon:"clamp(18px, 1.8vw, 36px)",item:"clamp(11px, 1.15vw, 22px)",price:"clamp(11px, 1.15vw, 22px)",small:"clamp(9px, 0.85vw, 16px)",tiny:"clamp(8px, 0.7vw, 14px)",gap:"clamp(8px, 1vw, 20px)",padding:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"};function tr({data:e}){return s.jsxs("div",{className:"h-full relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(10px)",borderRadius:oe.radius,padding:oe.padding,border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[s.jsxs("div",{className:"flex items-center border-b border-amber-400/30",style:{gap:"clamp(6px, 0.6vw, 12px)",paddingBottom:"clamp(8px, 0.8vw, 16px)",marginBottom:"clamp(10px, 1vw, 20px)"},children:[s.jsx("span",{style:{fontSize:oe.sectionIcon},children:e.icon}),s.jsx("h2",{className:"font-bold tracking-wide",style:{fontSize:oe.sectionTitle,background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 10px rgba(251,191,36,0.3)"},children:e.title})]}),e.subtitle&&s.jsx("p",{className:"text-gray-400 italic",style:{fontSize:oe.tiny,marginBottom:"clamp(6px, 0.6vw, 12px)",marginTop:"clamp(-6px, -0.5vw, -10px)"},children:e.subtitle}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(6px, 0.6vw, 14px)"},children:e.items.map((t,n)=>s.jsxs("div",{className:"flex justify-between items-center",style:{padding:"clamp(2px, 0.2vw, 4px) 0",borderBottom:n<e.items.length-1?"1px dotted rgba(255,255,255,0.1)":"none"},children:[s.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[s.jsx("span",{className:"text-white/90 font-medium",style:{fontSize:oe.item},children:t.name}),t.popular&&s.jsx("span",{className:"text-orange-400 animate-pulse",style:{fontSize:oe.tiny},children:""})]}),s.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[s.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:oe.price,color:"#34d399",textShadow:"0 0 20px rgba(52,211,153,0.3)"},children:["",t.price.toFixed(2)]}),t.large&&s.jsxs("span",{className:"text-gray-500 tabular-nums",style:{fontSize:oe.small},children:["/ ",t.large.toFixed(2)]})]})]},n))})]})}function q0({config:e}){const[t,n]=y.useState(new Date),[r,l]=y.useState(0);y.useEffect(()=>{const c=setInterval(()=>n(new Date),1e3);return()=>clearInterval(c)},[]),y.useEffect(()=>{const c=setInterval(()=>{l(o=>(o+1)%ui.length)},5e3);return()=>clearInterval(c)},[]);const i=t.getHours()>=11&&t.getHours()<14,a=ui[r];return s.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},children:[s.jsx("div",{className:"absolute rounded-full blur-3xl opacity-30 animate-pulse",style:{top:"-10%",left:"-5%",width:"40vw",height:"40vw",background:"radial-gradient(circle, rgba(251,191,36,0.4) 0%, transparent 70%)"}}),s.jsx("div",{className:"absolute rounded-full blur-3xl opacity-20",style:{bottom:"-15%",right:"-10%",width:"50vw",height:"50vw",background:"radial-gradient(circle, rgba(52,211,153,0.3) 0%, transparent 70%)",animation:"pulse 4s ease-in-out infinite alternate"}}),s.jsx("div",{className:"absolute rounded-full blur-2xl opacity-10",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",height:"30vw",background:"radial-gradient(ellipse, rgba(139,92,246,0.2) 0%, transparent 60%)"}}),s.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:oe.padding},children:[s.jsxs("div",{className:"text-center",style:{marginBottom:oe.gap},children:[s.jsx("h1",{className:"font-bold tracking-tight",style:{fontSize:oe.title,background:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"shimmer 3s linear infinite",filter:"drop-shadow(0 4px 20px rgba(251,191,36,0.4))"},children:"Young's Food Emporium"}),s.jsxs("div",{className:"flex items-center justify-center text-gray-400",style:{gap:"clamp(12px, 2vw, 32px)",marginTop:"clamp(4px, 0.5vw, 12px)",fontSize:oe.subtitle},children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-500",children:""})," 01292 652 043"]}),s.jsx("span",{className:"text-amber-500/50",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-500",children:""})," @youngsfoodemporium"]}),s.jsx("span",{className:"text-amber-500/50",children:""}),s.jsx("span",{className:"text-amber-400 font-semibold tabular-nums",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx("div",{style:{marginBottom:oe.gap},children:s.jsxs("div",{className:"relative overflow-hidden",style:{background:i?"linear-gradient(135deg, rgba(249,115,22,0.2) 0%, rgba(239,68,68,0.15) 50%, rgba(249,115,22,0.2) 100%)":"linear-gradient(135deg, rgba(251,191,36,0.15) 0%, rgba(245,158,11,0.1) 50%, rgba(251,191,36,0.15) 100%)",border:i?"1px solid rgba(249,115,22,0.3)":"1px solid rgba(251,191,36,0.3)",borderRadius:oe.radius,padding:"clamp(10px, 1.2vw, 24px)"},children:[s.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",animation:"shimmer 2s ease-in-out infinite"}}),s.jsxs("div",{className:"relative flex items-center justify-center flex-wrap",style:{gap:"clamp(12px, 2vw, 32px)"},children:[s.jsx("span",{className:"uppercase tracking-[0.2em] font-medium",style:{fontSize:oe.tiny,color:i?"#fb923c":"#fbbf24"},children:i?" Lunch Special":" Today's Recommendation"}),s.jsxs("div",{className:"flex items-center",style:{gap:"clamp(8px, 1vw, 16px)"},children:[s.jsx("span",{style:{fontSize:"clamp(16px, 1.8vw, 36px)"},children:a.emoji}),s.jsx("span",{className:"font-bold text-white",style:{fontSize:"clamp(14px, 1.5vw, 30px)"},children:a.name})]}),s.jsxs("span",{className:"font-black tabular-nums",style:{fontSize:"clamp(16px, 1.8vw, 36px)",color:"#34d399",textShadow:"0 0 30px rgba(52,211,153,0.5)"},children:["",a.price.toFixed(2)]}),s.jsx("span",{className:"rounded-full font-medium",style:{fontSize:oe.tiny,padding:"clamp(3px, 0.3vw, 6px) clamp(10px, 1vw, 20px)",background:"rgba(251,191,36,0.2)",color:"#fcd34d",border:"1px solid rgba(251,191,36,0.3)"},children:a.tag})]}),s.jsx("div",{className:"flex justify-center",style:{gap:"clamp(4px, 0.4vw, 8px)",marginTop:"clamp(8px, 0.8vw, 16px)"},children:ui.map((c,o)=>s.jsx("div",{className:"rounded-full transition-all duration-300",style:{width:o===r?"clamp(16px, 1.5vw, 28px)":"clamp(6px, 0.5vw, 10px)",height:"clamp(6px, 0.5vw, 10px)",background:o===r?"#fbbf24":"rgba(255,255,255,0.2)"}},o))})]})}),s.jsxs("div",{className:"flex-1 grid grid-cols-4 min-h-0",style:{gap:oe.gap},children:[s.jsxs("div",{className:"flex flex-col",style:{gap:oe.gap},children:[s.jsx("div",{className:"flex-[2]",children:s.jsx(tr,{data:er.hotDrinks})}),s.jsx("div",{className:"flex-1",children:s.jsx(tr,{data:er.soup})})]}),s.jsx("div",{children:s.jsx(tr,{data:er.bakedPotato})}),s.jsx("div",{children:s.jsx(tr,{data:er.chips})}),s.jsx("div",{children:s.jsx(tr,{data:er.hotMeals})})]}),s.jsx("div",{className:"text-center",style:{marginTop:oe.gap,paddingTop:"clamp(8px, 0.8vw, 16px)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs("p",{style:{fontSize:oe.subtitle},children:[s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("span",{className:"text-amber-400 font-medium",children:" Phone ahead for collection "}),s.jsx("span",{className:"text-gray-600 mx-2",children:""}),s.jsx("span",{className:"text-gray-500",children:"Fresh"}),s.jsx("span",{className:"text-gray-600 mx-1",children:""}),s.jsx("span",{className:"text-gray-500",children:"Homemade"}),s.jsx("span",{className:"text-gray-600 mx-1",children:""}),s.jsx("span",{className:"text-gray-500",children:"Delicious"})]})})]}),s.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: -200% center; }
          100% { background-position: 200% center; }
        }
      `})]})}const $={heading:"clamp(20px, 2.5vw, 50px)",large:"clamp(14px, 1.5vw, 30px)",body:"clamp(12px, 1.2vw, 24px)",small:"clamp(10px, 1vw, 20px)",tiny:"clamp(8px, 0.8vw, 16px)",iconSmall:"clamp(14px, 1.4vw, 28px)",gap:"clamp(8px, 1vw, 20px)",gapSmall:"clamp(4px, 0.5vw, 10px)",gapTiny:"clamp(2px, 0.25vw, 5px)",pad:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"},Qc={gold:"#fbbf24",emerald:"#34d399"},Kc={goldText:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",darkBg:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},Q0={noiseTexture:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`},di=["Ewan","Megan","Guest"],ha={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3,popular:!0},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"With side salad",items:[{name:"Plain Jacket",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3,popular:!0},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Tuna Mayo",price:5.3},{name:"Chicken Curry",price:6.3},{name:"Cheese & Bacon",price:5.8}]},chips:{title:"Chips",icon:"",items:[{name:"Chips (Reg)",price:3},{name:"Chips (Large)",price:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Cajun Chips",price:3.5,large:4.5},{name:"Chips + Cheese",price:4,large:5},{name:"Loaded Chips",price:4.5,large:5.5,popular:!0}]},soup:{title:"Soup",icon:"",items:[{name:"Soup (Regular)",price:2.5},{name:"Soup (Large)",price:2.9},{name:"Soup + Roll",price:3.4,popular:!0}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4}]}},Yc=Object.keys(ha);function K0({config:e}){const[t,n]=y.useState(di[0]),[r,l]=y.useState(Yc[0]),[i,a]=y.useState([]),[c,o]=y.useState(!0),[u,p]=y.useState(null),[m,d]=y.useState(new Date);y.useEffect(()=>{const h=setInterval(()=>d(new Date),1e3);return()=>clearInterval(h)},[]);const v=h=>{const N=i.find(S=>S.name===h.name&&S.person===t);a(N?i.map(S=>S.name===h.name&&S.person===t?{...S,quantity:S.quantity+1}:S):[...i,{name:h.name,price:h.price,quantity:1,person:t}]),p(h.name),setTimeout(()=>p(null),500)},w=h=>{h.quantity>1?a(i.map(N=>N.name===h.name&&N.person===h.person?{...N,quantity:N.quantity-1}:N)):a(i.filter(N=>!(N.name===h.name&&N.person===h.person)))},g=()=>a([]),R=h=>i.filter(N=>N.person===h).reduce((N,S)=>N+S.price*S.quantity,0),x=i.reduce((h,N)=>h+N.price*N.quantity,0),f=ha[r];return s.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative select-none",style:{background:Kc.darkBg},children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:Q0.noiseTexture}}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:$.pad},children:[s.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:$.gap},children:[s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold",style:{fontSize:$.heading,background:Kc.goldText,backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Young's Food Emporium"}),s.jsxs("p",{className:"text-gray-400",style:{fontSize:$.small},children:["Tap items to add  ",m.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center",style:{gap:$.gapSmall},children:[s.jsx("span",{className:"text-gray-400",style:{fontSize:$.small},children:"Ordering as:"}),s.jsx("div",{className:"flex",style:{gap:$.gapTiny},children:di.map(h=>s.jsx("button",{onClick:()=>n(h),className:"transition-all",style:{padding:`${$.gapSmall} ${$.pad}`,borderRadius:$.radius,fontSize:$.body,fontWeight:t===h?"bold":"normal",background:t===h?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"rgba(255,255,255,0.1)",color:t===h?"#000":"#fff",border:"none",cursor:"pointer"},children:h},h))})]})]}),s.jsxs("div",{className:"flex-1 flex min-h-0",style:{gap:$.gap},children:[s.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[s.jsx("div",{className:"flex flex-wrap",style:{gap:$.gapSmall,marginBottom:$.gap},children:Yc.map(h=>{const N=ha[h],S=r===h;return s.jsxs("button",{onClick:()=>l(h),className:"transition-all",style:{padding:`${$.gapSmall} ${$.pad}`,borderRadius:$.radius,fontSize:$.body,background:S?"rgba(251,191,36,0.2)":"rgba(255,255,255,0.05)",border:S?"2px solid rgba(251,191,36,0.5)":"2px solid transparent",color:S?Qc.gold:"rgba(255,255,255,0.7)",cursor:"pointer"},children:[N.icon," ",N.title]},h)})}),s.jsx("div",{className:"flex-1 overflow-auto",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 280px), 1fr))",gap:$.gap,alignContent:"start"},children:f.items.map((h,N)=>{const S=u===h.name,I=i.find(j=>j.name===h.name&&j.person===t);return s.jsx("button",{onClick:()=>v(h),className:"text-left transition-all active:scale-95",style:{padding:$.pad,borderRadius:$.radius,background:S?"rgba(52,211,153,0.3)":"rgba(255,255,255,0.05)",border:I?"2px solid rgba(52,211,153,0.5)":"2px solid rgba(255,255,255,0.1)",cursor:"pointer",transform:S?"scale(1.02)":"scale(1)"},children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",style:{gap:$.gapSmall},children:[s.jsx("span",{className:"font-medium text-white",style:{fontSize:$.body},children:h.name}),h.popular&&s.jsx("span",{className:"text-orange-400",style:{fontSize:$.tiny},children:" Popular"})]}),I&&s.jsxs("span",{className:"text-emerald-400",style:{fontSize:$.small},children:[" ",I.quantity," in order"]})]}),s.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:$.large,color:Qc.emerald},children:["",h.price.toFixed(2)]})]})},N)})})]}),c&&s.jsxs("div",{style:{width:"clamp(280px, 25vw, 400px)",background:"rgba(255,255,255,0.05)",borderRadius:$.radius,padding:$.pad,display:"flex",flexDirection:"column",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("h2",{className:"font-bold text-amber-400 flex items-center justify-between",style:{fontSize:$.large,marginBottom:$.gap},children:[s.jsx("span",{children:" Order"}),i.length>0&&s.jsx("button",{onClick:g,className:"text-red-400 hover:text-red-300",style:{fontSize:$.small},children:"Clear all"})]}),i.length===0?s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",style:{fontSize:$.body},children:"Tap menu items to add"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-auto",style:{marginBottom:$.gap},children:di.filter(h=>i.some(N=>N.person===h)).map(h=>s.jsxs("div",{style:{marginBottom:$.gap},children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-400 border-b border-white/10",style:{fontSize:$.small,paddingBottom:$.gapSmall,marginBottom:$.gapSmall},children:[s.jsx("span",{className:"font-medium",children:h}),s.jsxs("span",{children:["",R(h).toFixed(2)]})]}),i.filter(N=>N.person===h).map((N,S)=>s.jsxs("div",{className:"flex items-center justify-between",style:{padding:`${$.gapTiny} 0`},children:[s.jsxs("div",{className:"flex items-center",style:{gap:$.gapSmall},children:[s.jsx("button",{onClick:()=>w(N),className:"text-red-400 hover:text-red-300 active:scale-90",style:{fontSize:$.body,width:$.iconSmall,height:$.iconSmall,borderRadius:"50%",background:"rgba(239,68,68,0.2)",border:"none",cursor:"pointer"},children:""}),s.jsxs("span",{style:{fontSize:$.small},children:[N.quantity," ",N.name]})]}),s.jsxs("span",{className:"tabular-nums text-emerald-400",style:{fontSize:$.small},children:["",(N.price*N.quantity).toFixed(2)]})]},S))]},h))}),s.jsxs("div",{className:"border-t border-white/20",style:{paddingTop:$.gap},children:[s.jsxs("div",{className:"flex justify-between items-center font-bold",style:{fontSize:$.large,marginBottom:$.gap},children:[s.jsx("span",{className:"text-white",children:"Total"}),s.jsxs("span",{className:"text-emerald-400",children:["",x.toFixed(2)]})]}),s.jsx("a",{href:"tel:01292652043",className:"block text-center font-bold transition-all active:scale-95",style:{padding:$.pad,borderRadius:$.radius,fontSize:$.body,background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",textDecoration:"none",boxShadow:"0 4px 20px rgba(34,197,94,0.4)"},children:" Call to Order"}),s.jsx("p",{className:"text-center text-gray-500",style:{fontSize:$.tiny,marginTop:$.gapSmall},children:"01292 652 043"})]})]})]})]})]})]})}const Y0="modulepreload",G0=function(e){return"/"+e},Gc={},ut=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=G0(o),o in Gc)return;Gc[o]=!0;const u=o.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${p}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Y0,u||(m.as="script"),m.crossOrigin="",m.href=o,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((d,v)=>{m.addEventListener("load",d),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return l.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},X0={"task-complete":()=>ut(()=>import("./TaskCompleteTemplate-BeaZRag8.js"),__vite__mapDeps([0,1])).then(e=>e.TaskCompleteTemplate),alert:()=>ut(()=>import("./AlertTemplate-B18dn5gS.js"),__vite__mapDeps([2,1])).then(e=>e.AlertTemplate),metrics:()=>ut(()=>import("./MetricsTemplate-CObsicX9.js"),__vite__mapDeps([3,1])).then(e=>e.MetricsTemplate),announcement:()=>ut(()=>import("./AnnouncementTemplate-ad-MI--W.js"),__vite__mapDeps([4,1])).then(e=>e.AnnouncementTemplate),"daily-digest":()=>ut(()=>import("./DailyDigestTemplate-53DW3qA8.js"),__vite__mapDeps([5,1])).then(e=>e.DailyDigestTemplate),"welcome-display":()=>ut(()=>import("./WelcomeDisplayTemplate-D_F8ZZGE.js"),[]).then(e=>e.WelcomeDisplayTemplate),"parking-rates":()=>ut(()=>import("./ParkingRatesTemplate-CStMmbXW.js"),[]).then(e=>e.ParkingRatesTemplate),"multi-zone":()=>ut(()=>import("./MultiZoneTemplate-Bbwf-AsU.js"),[]).then(e=>e.MultiZoneTemplate),"announcement-rotator":()=>ut(()=>import("./AnnouncementRotatorTemplate-t627Qegj.js"),[]).then(e=>e.AnnouncementRotatorTemplate)};function J0(){return s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:s.jsx("div",{className:"text-white text-xl animate-pulse",children:"Loading..."})})}function Z0({template:e}){return s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),s.jsx("div",{className:"text-white text-xl",children:"Template not found"}),s.jsx("div",{className:"text-gray-400 mt-2",children:e})]})})}function ex({config:e}){const[t,n]=y.useState(null),[r,l]=y.useState(!1);return y.useEffect(()=>{(async()=>{const a=X0[e.template];if(!a){l(!0);return}try{const c=await a();n(()=>c)}catch(c){console.error("Failed to load template:",c),l(!0)}})()},[e.template]),r?s.jsx(Z0,{template:e.template}):t?s.jsx(t,{data:e.data}):s.jsx(J0,{})}const tx={info:{bg:"from-blue-900/80 to-dark-900",border:"border-blue-500/50",icon:Sf,iconColor:"text-blue-400",pulse:!1,badge:"bg-blue-500/20 text-blue-400"},warning:{bg:"from-amber-900/60 to-dark-900",border:"border-amber-500/50",icon:xt,iconColor:"text-amber-400",pulse:!0,badge:"bg-amber-500/20 text-amber-400"},critical:{bg:"from-red-900/60 to-dark-900",border:"border-red-500/50",icon:xt,iconColor:"text-red-400",pulse:!0,badge:"bg-red-500/20 text-red-400"}};function nx({config:e}){const[t,n]=y.useState([]),r=e.level||"info",l=tx[r];return l.icon,y.useEffect(()=>{if(!e.pullFromApi)return;const i=e.apiUrl||"http://localhost:3890/api/alerts",a=async()=>{try{const u=await(await fetch(i)).json();Array.isArray(u)?n(u.slice(0,5)):u.alerts&&n(u.alerts.slice(0,5))}catch(o){console.error("Failed to fetch security alerts:",o)}};a();const c=setInterval(a,e.refreshInterval||3e4);return()=>clearInterval(c)},[e.pullFromApi,e.apiUrl,e.refreshInterval]),s.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-8 bg-gradient-to-b ${l.bg}`,children:[l.pulse&&s.jsx("div",{className:"absolute inset-0 border-4 border-red-500/30 animate-pulse rounded-none"}),s.jsx("div",{className:`mb-6 ${l.pulse?"animate-pulse":""}`,children:s.jsx(jl,{className:`w-20 h-20 ${l.iconColor}`})}),s.jsxs("div",{className:`${l.badge} px-4 py-1.5 rounded-full text-sm font-bold tracking-widest mb-6`,children:[e.escalationLevel?`LEVEL ${e.escalationLevel}`:r.toUpperCase()," ALERT"]}),s.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-4",style:{fontFamily:"Antonio, sans-serif"},children:e.title}),s.jsx("p",{className:"text-xl text-gray-300 text-center max-w-2xl mb-6",children:e.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.source&&s.jsxs("span",{children:["Source: ",e.source]}),e.timestamp&&s.jsx("span",{children:new Date(e.timestamp).toLocaleTimeString("en-GB")})]}),t.length>0&&s.jsxs("div",{className:"mt-8 w-full max-w-xl space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider",children:"RECENT ALERTS"}),t.map((i,a)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx(po,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-white truncate",children:i.message||i.title}),s.jsx("div",{className:"text-xs text-gray-500",children:i.timestamp||i.time})]}),i.level&&s.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${i.level>=3?"bg-red-500/20 text-red-400":i.level>=2?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:["L",i.level]})]},a))]})]})}function rx({config:e}){const[t,n]=y.useState(null),[r,l]=y.useState(!0),i=e.refreshInterval||6e4;if(y.useEffect(()=>{const o=async()=>{const p=e.apiUrl||"http://localhost:3000";try{const[m,d]=await Promise.allSettled([fetch(`${p}/api/revenue/today${e.siteId?`?site=${e.siteId}`:""}`),fetch(`${p}/api/revenue/week${e.siteId?`?site=${e.siteId}`:""}`)]),v=m.status==="fulfilled"?await m.value.json():null,w=d.status==="fulfilled"?await d.value.json():null;n(v||w?{today:(v==null?void 0:v.total)||(v==null?void 0:v.revenue)||0,yesterday:(v==null?void 0:v.yesterday)||0,weekTotal:(w==null?void 0:w.total)||(w==null?void 0:w.revenue)||0,monthTotal:(w==null?void 0:w.monthTotal)||0,transactionCount:(v==null?void 0:v.count)||(v==null?void 0:v.transactions)||0,averageStay:(v==null?void 0:v.averageStay)||"N/A",recentTransactions:(v==null?void 0:v.recent)||[]}:{today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[{id:"1",amount:4.5,plate:"SA23 KRG",time:"14:32",site:"Kyle Rise"},{id:"2",amount:6,plate:"GN21 XWB",time:"14:15",site:"Kyle Rise"},{id:"3",amount:3,plate:"SD19 PPL",time:"13:48",site:"Kyle Surface"}]})}catch(m){console.error("Revenue fetch error:",m),n({today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[]})}l(!1)};o();const u=setInterval(o,i);return()=>clearInterval(u)},[e.apiUrl,e.siteId,i]),r||!t)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"Loading revenue data..."})});const a=t.yesterday>0?((t.today-t.yesterday)/t.yesterday*100).toFixed(1):"0",c=parseFloat(a)>=0;return s.jsxs("div",{className:"flex flex-col h-full p-8",style:{fontFamily:"Antonio, sans-serif"},children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(Fc,{className:"w-8 h-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white tracking-wider",children:e.siteName||"REVENUE"}),s.jsx("p",{className:"text-sm text-gray-500",children:"POS Overview"})]})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"text-6xl font-bold text-white mb-2",children:["",t.today.toFixed(2)]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg",children:[c?s.jsx(Nl,{className:"w-5 h-5 text-green-400"}):s.jsx(Tf,{className:"w-5 h-5 text-red-400"}),s.jsxs("span",{className:c?"text-green-400":"text-red-400",children:[c?"+":"",a,"%"]}),s.jsx("span",{className:"text-gray-500",children:"vs yesterday"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(fs,{label:"YESTERDAY",value:`${t.yesterday.toFixed(2)}`}),s.jsx(fs,{label:"THIS WEEK",value:`${t.weekTotal.toFixed(2)}`}),s.jsx(fs,{label:"TRANSACTIONS",value:t.transactionCount.toString(),icon:s.jsx(xo,{className:"w-4 h-4"})}),s.jsx(fs,{label:"AVG STAY",value:t.averageStay,icon:s.jsx(Ut,{className:"w-4 h-4"})})]}),e.showTransactions!==!1&&t.recentTransactions.length>0&&s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider mb-3",children:"RECENT"}),s.jsx("div",{className:"space-y-2",children:t.recentTransactions.map(o=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx(Fc,{className:"w-4 h-4 text-accent flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm text-white",children:["",o.amount.toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[o.plate||"Cash","  ",o.site]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:o.time})]},o.id))})]})]})}function fs({label:e,value:t,icon:n}){return s.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-4 text-center",children:[n&&s.jsx("div",{className:"flex justify-center mb-1 text-gray-500",children:n}),s.jsx("div",{className:"text-xl font-bold text-white",children:t}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 tracking-wider",children:e})]})}const sx="/video";function lx({playlist:e,showControls:t=!1,onComplete:n,onInterrupt:r}){const[l,i]=y.useState(0),[a,c]=y.useState(!0),[o,u]=y.useState(0),[p,m]=y.useState(!1),[d,v]=y.useState(!1),w=y.useRef(null),g=y.useRef(null),R=y.useRef(Date.now()),x=e.items[l],f=e.items.length,h=y.useCallback(()=>{l>=f-1?e.loop?(m(!0),setTimeout(()=>{i(0),u(0),R.current=Date.now(),m(!1)},500)):(c(!1),n==null||n()):(m(!0),setTimeout(()=>{i(k=>k+1),u(0),R.current=Date.now(),m(!1)},500))},[l,f,e.loop,n]),N=y.useCallback(()=>{l>0&&(m(!0),setTimeout(()=>{i(k=>k-1),u(0),R.current=Date.now(),m(!1)},500))},[l]);y.useEffect(()=>{if(!a||!x||x.contentType==="video")return;const k=x.duration*1e3;R.current=Date.now();const b=()=>{const A=Date.now()-R.current,H=Math.min(A/k*100,100);u(H),A>=k?h():g.current=requestAnimationFrame(b)};return g.current=requestAnimationFrame(b),()=>{g.current&&cancelAnimationFrame(g.current)}},[l,a,x,h]);const S=y.useCallback(()=>{h()},[h]),I=y.useCallback(()=>{if(w.current){const k=w.current.currentTime/w.current.duration*100;u(k)}},[]);if(y.useEffect(()=>{w.current&&(a?w.current.play().catch(()=>{}):w.current.pause())},[a,l]),y.useEffect(()=>{w.current&&(w.current.muted=d)},[d]),!x)return s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ut,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Empty playlist"})]})});const j=()=>e.transition==="none"?"":e.transition==="fade"?p?"opacity-0":"opacity-100":e.transition==="slide"?p?"-translate-x-full":"translate-x-0":"";return s.jsxs("div",{className:"w-full h-full relative overflow-hidden bg-dark-900",children:[s.jsx("div",{className:`w-full h-full transition-all duration-500 ${j()}`,children:s.jsx(ix,{item:x,videoRef:w,onVideoEnded:S,onVideoTimeUpdate:I,isPlaying:a,isMuted:d})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-dark-800/50",children:s.jsx("div",{className:"h-full bg-accent transition-all duration-100",style:{width:`${o}%`}})}),f>1&&s.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2",children:e.items.map((k,b)=>s.jsx("button",{onClick:()=>{m(!0),setTimeout(()=>{i(b),u(0),R.current=Date.now(),m(!1)},300)},className:`h-2 rounded-full transition-all ${b===l?"bg-accent w-8":"bg-white/30 w-2 hover:bg-white/50"}`},b))}),t&&s.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[s.jsxs("div",{className:"bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[s.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:[l+1," / ",f,"  ",x.name]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[s.jsx("button",{onClick:N,disabled:l===0,className:"p-1 hover:bg-dark-600 rounded disabled:opacity-30",children:s.jsx(E0,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>c(!a),className:"p-2 bg-accent text-dark-900 rounded-full hover:bg-accent-dim",children:a?s.jsx(k0,{className:"w-4 h-4"}):s.jsx(en,{className:"w-4 h-4"})}),s.jsx("button",{onClick:h,className:"p-1 hover:bg-dark-600 rounded",children:s.jsx(T0,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-px h-4 bg-dark-600 mx-1"}),s.jsx("button",{onClick:()=>v(!d),className:"p-1 hover:bg-dark-600 rounded",children:d?s.jsx(If,{className:"w-4 h-4"}):s.jsx(Lf,{className:"w-4 h-4"})}),s.jsx("div",{className:`p-1 rounded ${e.loop?"text-accent":"text-gray-500"}`,children:s.jsx(S0,{className:"w-4 h-4"})})]})]})]})}function ix({item:e,videoRef:t,onVideoEnded:n,onVideoTimeUpdate:r,isPlaying:l,isMuted:i}){var a;switch(e.contentType){case"video":const c=e.url||`${sx}/${e.contentId}.mp4`;return s.jsx("video",{ref:t,src:c,className:"w-full h-full object-contain bg-black",autoPlay:l,muted:i,onEnded:n,onTimeUpdate:r,playsInline:!0});case"template":case"url":const o=e.url||((a=e.config)==null?void 0:a.url)||"";return s.jsx("iframe",{src:o,className:"w-full h-full border-0",title:e.name,allow:"autoplay"});case"widget":return s.jsx(ax,{widget:e.widget||"",config:e.config||{}});default:return s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl",children:"Unknown content type"}),s.jsx("p",{className:"text-sm mt-2",children:e.contentType})]})})}}function ax({widget:e,config:t}){switch(e){case"clock":return s.jsx(kl,{config:t});case"weather":return s.jsx(Cl,{config:t});case"camera":return s.jsx(bl,{config:t});case"camera-grid":return s.jsx(Sl,{config:t});case"stats":return s.jsx(El,{config:t});case"occupancy":return s.jsx(Tl,{config:t});case"iframe":return s.jsx(_l,{config:t});case"layout":return s.jsx(Pl,{config:t});case"operations-dashboard":return s.jsx(jo,{config:t});default:return s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-xl",children:["Unknown widget: ",e]}),s.jsx("pre",{className:"text-sm mt-2",children:JSON.stringify(t,null,2)})]})})}}function ox({screens:e}){var i;const[t,n]=y.useState(null);y.useEffect(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(console.error);const a=setInterval(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(()=>{})},1e4);return()=>clearInterval(a)},[]);const r=e.filter(a=>a.connected).length,l=e.length-r;return s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"lcars-bar h-2 w-32"}),s.jsx("h1",{className:"text-2xl font-bold tracking-widest text-accent",children:"SYSTEM STATUS"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent/30 to-transparent"}),s.jsx("span",{className:"text-xs text-gray-500 tracking-wider",children:new Date().toLocaleTimeString("en-GB")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsx(hn,{icon:Vn,label:"TOTAL SCREENS",value:(t==null?void 0:t.screens.total)??e.length,color:"accent"}),s.jsx(hn,{icon:zr,label:"ONLINE",value:r,color:"green"}),s.jsx(hn,{icon:j0,label:"OFFLINE",value:l,color:"red"}),s.jsx(hn,{icon:Cf,label:"PLAYLISTS",value:(t==null?void 0:t.playlists.total)??0,color:"amber"}),s.jsx(hn,{icon:rn,label:"LOCATIONS",value:(t==null?void 0:t.locations.total)??0,color:"teal"}),s.jsx(hn,{icon:mo,label:"SCHEDULES",value:(t==null?void 0:t.schedules.active)??0,color:"pink"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 glass rounded-xl p-6",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[s.jsx(Fn,{className:"w-4 h-4 text-accent"}),"SCREEN STATUS"]}),s.jsx("div",{className:"space-y-2",children:e.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"No screens registered"}):e.map(a=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${a.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:a.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[a.id,"  ",a.location_name||"No location"]})]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:a.connected?"ONLINE":"OFFLINE"}),a.connected&&a.currentMode&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:a.currentMode.toUpperCase()}),a.last_seen&&s.jsx("span",{className:"text-xs text-gray-600",children:cx(a.last_seen)})]},a.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-lcars-teal"}),"LOCATIONS"]}),s.jsx("div",{className:"space-y-3",children:((i=t==null?void 0:t.screensByLocation)==null?void 0:i.map((a,c)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-300",children:a.location}),s.jsx("span",{className:"text-sm text-accent font-bold",children:a.count})]},c)))||s.jsx("p",{className:"text-gray-500 text-xs",children:"Loading..."})})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[s.jsx(wl,{className:"w-4 h-4 text-lcars-purple"}),"CONTENT LIBRARY"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Widgets"}),s.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.widgets)??18})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Templates"}),s.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.templates)??5})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Playlists"}),s.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.playlists.total)??0})]})]})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[s.jsx(zr,{className:"w-4 h-4 text-accent"}),"QUICK ACTIONS"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fi,{label:"Reload All Screens",color:"accent",onClick:()=>fetch("/api/reload-all",{method:"POST"})}),s.jsx(fi,{label:"Clear All Screens",color:"red",onClick:()=>fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all"})})}),s.jsx(fi,{label:"Push Test Alert",color:"amber",onClick:()=>fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all",message:"System test",level:"info",duration:5e3})})})]})]})]})]})]})}function hn({icon:e,label:t,value:n,color:r}){const l={accent:"bg-accent/10 text-accent border-accent/20",green:"bg-green-500/10 text-green-400 border-green-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",teal:"bg-teal-500/10 text-teal-400 border-teal-500/20",pink:"bg-pink-500/10 text-pink-400 border-pink-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20"};return s.jsxs("div",{className:`rounded-xl border p-4 ${l[r]||l.accent}`,children:[s.jsx(e,{className:"w-5 h-5 mb-2 opacity-70"}),s.jsx("div",{className:"text-3xl font-bold",children:n}),s.jsx("div",{className:"text-xs tracking-wider opacity-60 mt-1",children:t})]})}function fi({label:e,color:t,onClick:n}){const r={accent:"hover:bg-accent/20 hover:text-accent hover:border-accent/40",red:"hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/40",amber:"hover:bg-amber-500/20 hover:text-amber-400 hover:border-amber-500/40"};return s.jsx("button",{onClick:n,className:`w-full text-left text-sm px-3 py-2 rounded-lg border border-dark-600 text-gray-400 transition ${r[t]}`,children:e})}function cx(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}function ux({screens:e,onRefresh:t}){const[n,r]=y.useState("all"),[l,i]=y.useState(""),[a,c]=y.useState(""),[o,u]=y.useState(null),[p,m]=y.useState({name:"",location_id:"",group_id:""}),[d,v]=y.useState([]),[w,g]=y.useState(""),[R,x]=y.useState(""),[f,h]=y.useState(new Set),[N,S]=y.useState("list");y.useEffect(()=>{fetch("/api/locations").then(E=>E.json()).then(E=>{E.success&&v(E.data)}).catch(()=>{})},[]);const I=e.filter(E=>!(w&&E.location_id!==w||R==="online"&&!E.connected||R==="offline"&&E.connected)),j=e.filter(E=>E.connected).length,k=async()=>{l&&(await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,type:"url",content:{url:l}})}),i(""))},b=async()=>{a&&(await fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,message:a,level:"info",duration:1e4})}),c(""))},A=async()=>{const E=f.size>0?Array.from(f):[n];for(const L of E)await fetch("/api/reload-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:L})})},H=async()=>{await fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n})})},M=async E=>{confirm(`Delete screen "${E}"?`)&&(await fetch(`/api/screens/${E}`,{method:"DELETE"}),t())},B=E=>{u(E.id),m({name:E.name,location_id:E.location_id||"",group_id:E.group_id})},C=async()=>{o&&(await fetch(`/api/screens/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),u(null),t())},F=async(E,L)=>{await fetch(`/api/screens/${E}/mode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:L})})},G=E=>{h(L=>{const z=new Set(L);return z.has(E)?z.delete(E):z.add(E),z})};return s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"lcars-bar h-2 w-24"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-blue",children:"SCREEN CONTROL"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-500/30 to-transparent"}),s.jsxs("span",{className:"text-sm text-gray-400",children:[j," online / ",e.length," total"]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"xl:col-span-3 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(h0,{className:"w-4 h-4 text-gray-500"}),s.jsxs("select",{value:w,onChange:E=>g(E.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[s.jsx("option",{value:"",children:"All Locations"}),d.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]}),s.jsxs("select",{value:R,onChange:E=>x(E.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"offline",children:"Offline"})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[f.size>0&&s.jsxs("span",{className:"text-xs text-accent px-2 py-1 bg-accent/10 rounded-lg",children:[f.size," selected"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400",children:s.jsx(Mr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[I.map(E=>s.jsx("div",{className:`glass glass-hover rounded-xl transition-all ${f.has(E.id)?"ring-1 ring-accent/50 bg-accent/5":""} ${n===E.id?"ring-1 ring-blue-500/50":""}`,children:s.jsxs("div",{className:"flex items-center gap-4 p-4",children:[s.jsx("input",{type:"checkbox",checked:f.has(E.id),onChange:()=>G(E.id),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent focus:ring-accent"}),s.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${E.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),s.jsx("div",{className:"flex-1 min-w-0",children:o===E.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:p.name,onChange:L=>m(z=>({...z,name:L.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm w-48",autoFocus:!0}),s.jsxs("select",{value:p.location_id,onChange:L=>m(z=>({...z,location_id:L.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"No Location"}),d.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]}),s.jsx("button",{onClick:C,className:"p-1 text-green-400 hover:bg-green-500/20 rounded",children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>u(null),className:"p-1 text-gray-400 hover:bg-dark-600 rounded",children:s.jsx(Hc,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:E.name}),E.currentMode&&E.connected&&s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${E.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:E.currentMode.toUpperCase()})]}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[s.jsx("span",{children:E.id}),E.location_name&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx(rn,{className:"w-3 h-3"}),s.jsx("span",{children:E.location_name})]}),E.last_seen&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:fx(E.last_seen)})]})]})]})}),s.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${E.connected?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:E.connected?"ONLINE":"OFFLINE"}),s.jsxs("div",{className:"flex items-center gap-1",children:[E.connected&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>F(E.id,"signage"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-blue-400 transition",title:"Signage Mode",children:s.jsx(fa,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>F(E.id,"interactive"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-purple-400 transition",title:"Interactive Mode",children:s.jsx(_0,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>r(E.id),className:`p-1.5 rounded transition ${n===E.id?"bg-accent/20 text-accent":"hover:bg-dark-600 text-gray-500 hover:text-accent"}`,title:"Set as push target",children:s.jsx($c,{className:"w-3.5 h-3.5"})})]}),s.jsx("button",{onClick:()=>B(E),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:s.jsx(Or,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>M(E.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:s.jsx(Dr,{className:"w-3.5 h-3.5"})})]})]})},E.id)),I.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Vn,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No screens match filters"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass rounded-xl p-5",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx($c,{className:"w-4 h-4 text-accent"}),"PUSH CONTENT"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("select",{value:n,onChange:E=>r(E.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Screens"}),s.jsx("option",{value:"office",children:"Office Group"}),s.jsx("option",{value:"kiosk",children:"Kiosk Group"}),e.map(E=>s.jsxs("option",{value:E.id,children:[E.name," ",E.connected?"":""]},E.id))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"URL to push...",value:l,onChange:E=>i(E.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:E=>E.key==="Enter"&&k()}),s.jsx("button",{onClick:k,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg font-medium text-sm hover:bg-accent-dim transition",children:"Push"})]})]})]}),s.jsxs("div",{className:"glass rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"PUSH ALERT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Alert message...",value:a,onChange:E=>c(E.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:E=>E.key==="Enter"&&b()}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium text-sm hover:bg-amber-700 transition",children:"Alert"})]})]}),s.jsxs("div",{className:"glass rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"ACTIONS"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:A,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-accent/40 transition",children:[s.jsx(Mr,{className:"w-4 h-4"})," Reload Screens"]}),s.jsxs("button",{onClick:H,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-red-500/40 transition",children:[s.jsx(Hc,{className:"w-4 h-4"})," Clear Screens"]})]})]}),s.jsxs("div",{className:"glass rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"QUICK PUSH"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Clock",widget:"clock",config:{}},{label:"Weather",widget:"weather",config:{location:"Ayr, Scotland"}},{label:"Occupancy",widget:"occupancy",config:{siteName:"Kyle Rise",capacity:50}},{label:"Test Card",widget:"testcard",config:{}},{label:"Ops Dashboard",widget:"operations-dashboard",config:{}},{label:"Team Feed",widget:"team-activity",config:{}}].map(E=>s.jsx("button",{onClick:()=>dx(n,E.widget,E.config),className:"text-xs px-2 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:E.label},E.widget))})]}),s.jsxs("div",{className:"glass rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"LINKS"}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsx("a",{href:"?screen=test",className:"block text-accent hover:underline",children:" Open test display"}),s.jsx("a",{href:"/api/health",target:"_blank",className:"block text-gray-400 hover:text-white",children:" API Health"}),s.jsx("a",{href:"/api/screens",target:"_blank",className:"block text-gray-400 hover:text-white",children:" Screens API"})]})]})]})]})]})}async function dx(e,t,n){await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:e,widget:t,config:n})})}function fx(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}const hx=["fade","slide","none"];function px({screens:e}){const[t,n]=y.useState([]),[r,l]=y.useState([]),[i,a]=y.useState(null),[c,o]=y.useState(!1),[u,p]=y.useState({name:"",description:"",transition:"fade",loop:!0}),[m,d]=y.useState([]),[v,w]=y.useState(!1),[g,R]=y.useState("all"),x=y.useCallback(async()=>{const F=await(await fetch("/api/playlists")).json();F.success&&n(F.data)},[]),f=y.useCallback(async()=>{const F=await(await fetch("/api/content/widgets")).json();F.success&&l(F.data)},[]);y.useEffect(()=>{x(),f()},[x,f]);const h=t.find(C=>C.id===i),N=()=>{w(!0),o(!0),a(null),p({name:"",description:"",transition:"fade",loop:!0}),d([])},S=C=>{a(C.id),o(!0),w(!1),p({name:C.name,description:C.description,transition:C.transition,loop:C.loop}),d([...C.items])},I=()=>{o(!1),w(!1)},j=async()=>{const C={name:u.name,description:u.description,items:m,transition:u.transition,loop:u.loop};v?await fetch("/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}):i&&await fetch(`/api/playlists/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),o(!1),w(!1),x()},k=async C=>{confirm("Delete this playlist?")&&(await fetch(`/api/playlists/${C}`,{method:"DELETE"}),i===C&&a(null),x())},b=async C=>{await fetch(`/api/playlists/${C}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:g})})},A=(C,F)=>{var L,z;const E={id:`item-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,contentType:C,widget:F||void 0,config:F?((L=r.find(U=>U.id===F))==null?void 0:L.defaultConfig)||{}:{},duration:30,name:F?((z=r.find(U=>U.id===F))==null?void 0:z.name)||F:"URL Item",url:C==="url"?"":void 0};d(U=>[...U,E])},H=C=>{d(F=>F.filter((G,E)=>E!==C))},M=(C,F)=>{if(F==="up"&&C===0||F==="down"&&C===m.length-1)return;const G=[...m],E=F==="up"?C-1:C+1;[G[C],G[E]]=[G[E],G[C]],d(G)},B=(C,F)=>{d(G=>G.map((E,L)=>L===C?{...E,...F}:E))};return s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-amber-500 to-amber-400 rounded-r-full"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-amber",children:"PLAYLISTS"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-amber-500/30 to-transparent"}),s.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[s.jsx(yo,{className:"w-4 h-4"})," New Playlist"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[t.length===0?s.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[s.jsx(wl,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No playlists yet"}),s.jsx("button",{onClick:N,className:"mt-3 text-accent text-sm hover:underline",children:"Create one "})]}):t.map(C=>s.jsx("div",{onClick:()=>{a(C.id),o(!1),w(!1)},className:`glass glass-hover rounded-xl p-4 cursor-pointer transition-all ${i===C.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:C.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[C.items.length," items  ",C.transition,"  ",C.loop?"loop":"once"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:F=>{F.stopPropagation(),b(C.id)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-green-400 transition",title:"Push",children:s.jsx(en,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:F=>{F.stopPropagation(),S(C)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:s.jsx(Or,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:F=>{F.stopPropagation(),k(C.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:s.jsx(Dr,{className:"w-3.5 h-3.5"})})]})]})},C.id)),s.jsxs("div",{className:"glass rounded-xl p-4 mt-4",children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"PUSH TARGET"}),s.jsxs("select",{value:g,onChange:C=>R(C.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Screens"}),e.map(C=>s.jsxs("option",{value:C.id,children:[C.name," ",C.connected?"":""]},C.id))]})]})]}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:v?"New Playlist":"Edit Playlist"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:I,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white transition",children:"Cancel"}),s.jsxs("button",{onClick:j,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"})," Save"]})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),s.jsx("input",{value:u.name,onChange:C=>p(F=>({...F,name:C.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Playlist name..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TRANSITION"}),s.jsx("select",{value:u.transition,onChange:C=>p(F=>({...F,transition:C.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:hx.map(C=>s.jsx("option",{value:C,children:C},C))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"DESCRIPTION"}),s.jsx("input",{value:u.description,onChange:C=>p(F=>({...F,description:C.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Optional description..."})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.loop,onChange:C=>p(F=>({...F,loop:C.target.checked})),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent"}),"Loop playlist"]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-400 tracking-wider",children:["ITEMS (",m.length,")"]}),m.map((C,F)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg group",children:[s.jsx(x0,{className:"w-4 h-4 text-gray-600 cursor-grab"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("input",{value:C.name,onChange:G=>B(F,{name:G.target.value}),className:"bg-transparent text-sm font-medium w-full outline-none",placeholder:"Item name"}),C.contentType==="url"&&s.jsx("input",{value:C.url||"",onChange:G=>B(F,{url:G.target.value}),className:"bg-dark-600 mt-1 text-xs px-2 py-1 rounded w-full outline-none",placeholder:"https://..."}),s.jsxs("span",{className:"text-xs text-gray-500",children:[C.contentType," ",C.widget?` ${C.widget}`:""]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ut,{className:"w-3 h-3 text-gray-500"}),s.jsx("input",{type:"number",value:C.duration,onChange:G=>B(F,{duration:Number(G.target.value)}),className:"w-14 bg-dark-600 text-center text-xs px-1 py-1 rounded",min:5,max:600}),s.jsx("span",{className:"text-xs text-gray-500",children:"s"})]}),s.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition",children:[s.jsx("button",{onClick:()=>M(F,"up"),className:"p-1 hover:bg-dark-600 rounded",children:s.jsx(c0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>M(F,"down"),className:"p-1 hover:bg-dark-600 rounded",children:s.jsx(i0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>H(F),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400",children:s.jsx(Dr,{className:"w-3 h-3"})})]})]},C.id))]}),s.jsxs("div",{className:"border-t border-dark-600 pt-4",children:[s.jsx("h4",{className:"text-xs text-gray-500 tracking-wider mb-2",children:"ADD WIDGET"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.map(C=>s.jsx("button",{onClick:()=>A("widget",C.id),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:C.name},C.id)),s.jsx("button",{onClick:()=>A("url"),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-blue-500/30 transition",children:"+ URL"})]})]})]}):h?s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:h.name}),s.jsx("p",{className:"text-sm text-gray-500",children:h.description||"No description"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(h.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition flex items-center gap-2",children:[s.jsx(en,{className:"w-4 h-4"})," Push"]}),s.jsxs("button",{onClick:()=>S(h),className:"px-4 py-2 bg-dark-600 border border-dark-500 text-white rounded-lg text-sm hover:bg-dark-500 transition flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4"})," Edit"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-6",children:[s.jsxs("span",{children:[h.items.length," items"]}),s.jsxs("span",{children:["Transition: ",h.transition]}),s.jsx("span",{children:h.loop?"Looping":"Play once"}),s.jsxs("span",{children:["Total: ",h.items.reduce((C,F)=>C+F.duration,0),"s"]})]}),s.jsx("div",{className:"space-y-2",children:h.items.map((C,F)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx("span",{className:"text-xs text-gray-600 w-6 text-center",children:F+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:C.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[C.contentType," ",C.widget?` ${C.widget}`:""]})]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[C.duration,"s"]})]},C.id))})]}):s.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[s.jsx(tl,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Select a playlist to view details"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})})]})]})}const mx={clock:Ut,cloud:Zt,camera:bf,grid:tl,parking:go,"bar-chart":r0,activity:Fn,users:_f};function xx(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[l,i]=y.useState([]),[a,c]=y.useState("widgets"),[o,u]=y.useState("all");y.useEffect(()=>{fetch("/api/content/widgets").then(g=>g.json()).then(g=>{g.success&&t(g.data)}),fetch("/api/content/templates").then(g=>g.json()).then(g=>{g.success&&r(g.data)}),fetch("/api/content/videos").then(g=>g.json()).then(g=>{g.success&&i(g.data)}).catch(()=>{})},[]);const p=async(g,R)=>{await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,widget:g,config:R})})},m=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"url",content:{url:g}})})},d=async(g,R)=>{await fetch("/api/display",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,template:g,data:R})})},v=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"media",content:{url:`/video/${g}`,type:"video",loop:!0}})})},w={};return l.forEach(g=>{w[g.category]||(w[g.category]=[]),w[g.category].push(g)}),s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-purple-500 to-purple-400 rounded-r-full"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-purple",children:"CONTENT LIBRARY"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-500/30 to-transparent"})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsx("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1",children:["widgets","templates","videos"].map(g=>s.jsx("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-md text-sm font-medium tracking-wider transition ${a===g?"bg-accent text-dark-900":"text-gray-400 hover:text-white"}`,children:g.toUpperCase()},g))}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Push to:"}),s.jsxs("select",{value:o,onChange:g=>u(g.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm",children:[s.jsx("option",{value:"all",children:"All Screens"}),s.jsx("option",{value:"office",children:"Office Group"})]})]})]}),a==="widgets"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(g=>{const R=mx[g.icon]||zr;return s.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center",children:s.jsx(R,{className:"w-5 h-5 text-accent"})}),s.jsx("button",{onClick:()=>p(g.id,g.defaultConfig),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:s.jsx(en,{className:"w-4 h-4"})})]}),s.jsx("h4",{className:"font-medium text-sm",children:g.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]},g.id)})}),a==="templates"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(zr,{className:"w-4 h-4 text-accent"}),"DISPLAY TEMPLATES"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>g.type==="react-template").map(g=>s.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center",children:s.jsx(tl,{className:"w-5 h-5 text-accent"})}),s.jsx("button",{onClick:()=>d(g.id,g.defaultData),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push with demo data",children:s.jsx(en,{className:"w-4 h-4"})})]}),s.jsx("h4",{className:"font-medium text-sm",children:g.name}),g.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description}),s.jsx("p",{className:"text-[10px] text-gray-600 mt-1.5 tracking-wider",children:g.category.toUpperCase()})]},g.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(wl,{className:"w-4 h-4 text-lcars-purple"}),"HTML TEMPLATES"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>!g.type||g.type!=="react-template").map(g=>s.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-lcars-purple/10 rounded-lg flex items-center justify-center",children:s.jsx(tl,{className:"w-5 h-5 text-lcars-purple"})}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition",children:[s.jsx("button",{onClick:()=>g.path&&m(g.path),className:"p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:s.jsx(en,{className:"w-4 h-4"})}),g.path&&s.jsx("a",{href:g.path,target:"_blank",className:"p-2 bg-dark-600 text-gray-400 rounded-lg hover:bg-dark-500 transition",title:"Preview",children:s.jsx(f0,{className:"w-4 h-4"})})]})]}),s.jsx("h4",{className:"font-medium text-sm",children:g.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Category: ",g.category]})]},g.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(Fn,{className:"w-4 h-4 text-lcars-blue"}),"INTEGRATIONS"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[{label:"LCARS Interface",desc:"Star Trek NOC",url:"http://10.10.10.123:5180/",color:"amber"},{label:"Skynet Command",desc:"Main dashboard",url:"http://10.10.10.123:3210/",color:"blue"},{label:"POS Dashboard",desc:"Parking ops",url:"http://10.10.10.123:5173/",color:"green"},{label:"Skynet Voice",desc:"Voice interface",url:"http://10.10.10.123:3280/",color:"teal"},{label:"AirWave",desc:"Aviation tracking",url:"http://10.10.10.123:8501/",color:"purple"},{label:"Situational Awareness",desc:"Live overview",url:"http://10.10.10.123:3210/sa",color:"rose"}].map(g=>s.jsxs("div",{className:"glass glass-hover rounded-xl p-4 group",children:[s.jsx("h4",{className:"font-medium text-sm",children:g.label}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:g.desc}),s.jsx("button",{onClick:()=>m(g.url),className:"mt-2 text-xs text-accent hover:underline opacity-0 group-hover:opacity-100 transition",children:"Push to screens "})]},g.url))})]})]}),a==="videos"&&s.jsx("div",{className:"space-y-6",children:Object.keys(w).length===0?s.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[s.jsx(Bc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No videos found"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Videos should be at /Volumes/Parkwise/Skynet/video/"})]}):Object.entries(w).map(([g,R])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(p0,{className:"w-4 h-4"}),g.toUpperCase(),s.jsxs("span",{className:"text-xs text-gray-600",children:["(",R.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:R.map(x=>s.jsx("div",{className:"glass glass-hover rounded-xl p-4 group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bc,{className:"w-8 h-8 text-lcars-purple flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:x.filename}),s.jsxs("div",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(1)," MB"]})]}),s.jsx("button",{onClick:()=>v(x.filename),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",children:s.jsx(en,{className:"w-3.5 h-3.5"})})]})},x.filename))})]},g))})]})}function gx({screens:e,onRefresh:t}){const[n,r]=y.useState([]),[l,i]=y.useState(null),[a,c]=y.useState(!1),[o,u]=y.useState(!1),[p,m]=y.useState({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"}),[d,v]=y.useState(""),w=y.useCallback(async()=>{const A=await(await fetch("/api/locations")).json();A.success&&r(A.data)},[]);y.useEffect(()=>{w()},[w]);const g=n.find(b=>b.id===l),R=()=>{u(!0),c(!0),i(null),m({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"})},x=b=>{var A,H;i(b.id),c(!0),u(!1),m({name:b.name,address:b.address||"",latitude:((A=b.latitude)==null?void 0:A.toString())||"",longitude:((H=b.longitude)==null?void 0:H.toString())||"",timezone:b.timezone})},f=()=>{c(!1),u(!1)},h=async()=>{const b={name:p.name,address:p.address||null,latitude:p.latitude?parseFloat(p.latitude):null,longitude:p.longitude?parseFloat(p.longitude):null,timezone:p.timezone};o?await fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}):l&&await fetch(`/api/locations/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),c(!1),u(!1),w()},N=async b=>{confirm("Delete this location? Screens will be unassigned.")&&(await fetch(`/api/locations/${b}`,{method:"DELETE"}),l===b&&i(null),w(),t())},S=async()=>{!d||!l||(await fetch(`/api/locations/${l}/screens`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenIds:[d]})}),v(""),t(),w())},I=async(b,A,H)=>{await fetch(`/api/locations/${b}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"widget",content:{widget:A,config:H}})})},j=b=>e.filter(A=>A.location_id===b),k=e.filter(b=>!b.location_id);return s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-teal-500 to-teal-400 rounded-r-full"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-teal",children:"LOCATIONS"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-teal-500/30 to-transparent"}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[s.jsx(yo,{className:"w-4 h-4"})," Add Location"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[n.map(b=>s.jsx("div",{onClick:()=>{i(b.id),c(!1),u(!1)},className:`glass glass-hover rounded-xl p-5 cursor-pointer transition-all ${l===b.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-lcars-teal"}),s.jsx("h4",{className:"font-medium text-sm",children:b.name})]}),b.address&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:b.address}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-6 text-xs text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Vn,{className:"w-3 h-3"})," ",b.screen_count," screens"]}),s.jsxs("span",{className:"text-green-400",children:[b.online_count," online"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:A=>{A.stopPropagation(),x(b)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:s.jsx(Or,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:A=>{A.stopPropagation(),N(b.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:s.jsx(Dr,{className:"w-3.5 h-3.5"})})]})]})},b.id)),n.length===0&&s.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[s.jsx(rn,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No locations yet"})]})]}),s.jsx("div",{className:"lg:col-span-2",children:a?s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:o?"New Location":"Edit Location"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:f,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),s.jsxs("button",{onClick:h,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"})," Save"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),s.jsx("input",{value:p.name,onChange:b=>m(A=>({...A,name:b.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Location name..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"ADDRESS"}),s.jsx("input",{value:p.address,onChange:b=>m(A=>({...A,address:b.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Street address..."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LATITUDE"}),s.jsx("input",{value:p.latitude,onChange:b=>m(A=>({...A,latitude:b.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"55.46"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LONGITUDE"}),s.jsx("input",{value:p.longitude,onChange:b=>m(A=>({...A,longitude:b.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"-4.63"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TIMEZONE"}),s.jsx("input",{value:p.timezone,onChange:b=>m(A=>({...A,timezone:b.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]})]})]}):g?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-lcars-teal"}),g.name]}),g.address&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.address})]}),s.jsx("button",{onClick:()=>x(g),className:"px-3 py-1.5 bg-dark-600 border border-dark-500 rounded-lg text-sm hover:bg-dark-500 transition",children:"Edit"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Coordinates"}),s.jsx("div",{className:"text-white mt-1",children:g.latitude&&g.longitude?`${g.latitude.toFixed(4)}, ${g.longitude.toFixed(4)}`:"Not set"})]}),s.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Timezone"}),s.jsx("div",{className:"text-white mt-1",children:g.timezone})]}),s.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Screens"}),s.jsxs("div",{className:"text-white mt-1",children:[g.screen_count," total, ",g.online_count," online"]})]})]})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"SCREENS AT THIS LOCATION"}),s.jsxs("div",{className:"space-y-2",children:[j(g.id).map(b=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${b.connected?"bg-green-500":"bg-gray-600"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:b.name}),s.jsx("div",{className:"text-xs text-gray-500",children:b.id})]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${b.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:b.connected?"ONLINE":"OFFLINE"})]},b.id)),j(g.id).length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"No screens assigned"})]}),k.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-dark-600",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:d,onChange:b=>v(b.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:"Assign a screen..."}),k.map(b=>s.jsxs("option",{value:b.id,children:[b.name," (",b.id,")"]},b.id))]}),s.jsx("button",{onClick:S,disabled:!d,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:"Assign"})]})})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"PUSH TO ALL SCREENS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>I(g.id,"clock",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Clock"}),s.jsx("button",{onClick:()=>I(g.id,"weather",{location:"Ayr, Scotland"}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Weather"}),s.jsx("button",{onClick:()=>I(g.id,"occupancy",{siteName:g.name,capacity:50}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Occupancy"}),s.jsx("button",{onClick:()=>I(g.id,"testcard",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Test Card"})]})]})]}):s.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[s.jsx(m0,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Select a location to view details"})]})})]})]})}const yx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],vx=["S","M","T","W","T","F","S"];function wx(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[l,i]=y.useState(!1),[a,c]=y.useState(!1),[o,u]=y.useState(null),[p,m]=y.useState({playlistId:"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0}),d=y.useCallback(async()=>{const k=await(await fetch("/api/schedules")).json();k.success&&t(k.data)},[]),v=y.useCallback(async()=>{const k=await(await fetch("/api/playlists")).json();k.success&&r(k.data)},[]);y.useEffect(()=>{d(),v()},[d,v]);const w=()=>{var j;c(!0),i(!0),u(null),m({playlistId:((j=n[0])==null?void 0:j.id)||"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0})},g=j=>{u(j.id),i(!0),c(!1),m({playlistId:j.playlistId,screenTarget:j.screenTarget,startTime:j.startTime,endTime:j.endTime,days:j.days,priority:j.priority})},R=()=>{i(!1),c(!1),u(null)},x=async()=>{a?await fetch("/api/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}):o&&await fetch(`/api/schedules/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),R(),d()},f=async j=>{confirm("Delete this schedule?")&&(await fetch(`/api/schedules/${j}`,{method:"DELETE"}),d())},h=async j=>{await fetch(`/api/schedules/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:!j.enabled})}),d()},N=j=>{m(k=>({...k,days:k.days.includes(j)?k.days.filter(b=>b!==j):[...k.days,j].sort()}))},S=j=>{var k;return((k=n.find(b=>b.id===j))==null?void 0:k.name)||j},I=j=>{const k=new Date,b=k.getDay(),A=k.toTimeString().slice(0,5);return j.enabled&&j.days.includes(b)&&A>=j.startTime&&A<=j.endTime};return s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-pink-500 to-pink-400 rounded-r-full"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-pink",children:"SCHEDULES"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-pink-500/30 to-transparent"}),s.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[s.jsx(yo,{className:"w-4 h-4"})," New Schedule"]})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"TODAY'S TIMELINE"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-end gap-0 mb-2",children:Array.from({length:24},(j,k)=>s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"text-[10px] text-gray-600",children:k.toString().padStart(2,"0")})},k))}),s.jsxs("div",{className:"relative h-12 bg-dark-700/50 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-accent z-10",style:{left:`${(new Date().getHours()*60+new Date().getMinutes())/1440*100}%`}}),e.filter(j=>j.enabled&&j.days.includes(new Date().getDay())).map(j=>{const[k,b]=j.startTime.split(":").map(Number),[A,H]=j.endTime.split(":").map(Number),M=(k*60+b)/1440*100,C=(A*60+H)/1440*100-M;return s.jsx("div",{className:`absolute top-1 bottom-1 rounded ${I(j)?"bg-accent/40":"bg-accent/20"}`,style:{left:`${M}%`,width:`${C}%`},title:`${S(j.playlistId)}: ${j.startTime} - ${j.endTime}`,children:s.jsx("span",{className:"text-[10px] text-white/70 px-1 truncate block mt-0.5",children:S(j.playlistId)})},j.id)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400",children:["ALL SCHEDULES (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[s.jsx(mo,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No schedules configured"})]}):e.map(j=>s.jsx("div",{className:`glass glass-hover rounded-xl p-4 transition-all ${I(j)?"ring-1 ring-green-500/30":""} ${j.enabled?"":"opacity-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[I(j)&&s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("h4",{className:"text-sm font-medium",children:S(j.playlistId)})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ut,{className:"w-3 h-3"}),j.startTime," - ",j.endTime]}),s.jsxs("span",{children:[" ",j.screenTarget]}),s.jsxs("span",{children:["P",j.priority]})]}),s.jsx("div",{className:"flex gap-1 mt-2",children:vx.map((k,b)=>s.jsx("span",{className:`w-5 h-5 rounded text-[10px] flex items-center justify-center ${j.days.includes(b)?"bg-accent/20 text-accent":"bg-dark-700 text-gray-600"}`,children:k},b))})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[s.jsx("button",{onClick:()=>h(j),className:`p-1.5 rounded transition ${j.enabled?"text-green-400 hover:bg-green-500/20":"text-gray-500 hover:bg-dark-600"}`,title:j.enabled?"Disable":"Enable",children:s.jsx(b0,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>g(j),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:s.jsx(Or,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>f(j.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:s.jsx(Dr,{className:"w-3.5 h-3.5"})})]})]})},j.id))]}),l?s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"New Schedule":"Edit Schedule"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:R,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),s.jsxs("button",{onClick:x,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"})," Save"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PLAYLIST"}),s.jsxs("select",{value:p.playlistId,onChange:j=>m(k=>({...k,playlistId:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:"Select playlist..."}),n.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TARGET"}),s.jsx("input",{value:p.screenTarget,onChange:j=>m(k=>({...k,screenTarget:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"all, screen id, or group id"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"START TIME"}),s.jsx("input",{type:"time",value:p.startTime,onChange:j=>m(k=>({...k,startTime:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"END TIME"}),s.jsx("input",{type:"time",value:p.endTime,onChange:j=>m(k=>({...k,endTime:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-2",children:"DAYS"}),s.jsx("div",{className:"flex gap-2",children:yx.map((j,k)=>s.jsx("button",{onClick:()=>N(k),className:`w-10 h-10 rounded-lg text-sm font-medium transition ${p.days.includes(k)?"bg-accent/20 text-accent border border-accent/40":"bg-dark-700 text-gray-500 border border-dark-600 hover:border-gray-500"}`,children:j},k))}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:()=>m(j=>({...j,days:[1,2,3,4,5]})),className:"text-xs text-accent hover:underline",children:"Weekdays"}),s.jsx("button",{onClick:()=>m(j=>({...j,days:[0,6]})),className:"text-xs text-accent hover:underline",children:"Weekends"}),s.jsx("button",{onClick:()=>m(j=>({...j,days:[0,1,2,3,4,5,6]})),className:"text-xs text-accent hover:underline",children:"Every day"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PRIORITY"}),s.jsx("input",{type:"number",value:p.priority,onChange:j=>m(k=>({...k,priority:Number(j.target.value)})),className:"w-32 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",min:0,max:100}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Higher priority overrides lower"})]})]})]}):s.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[s.jsx(Ut,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Select a schedule to edit"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})]})]})}function jx(){const[e,t]=y.useState({}),[n,r]=y.useState(!1),[l,i]=y.useState(!1);y.useEffect(()=>{fetch("/api/settings").then(o=>o.json()).then(o=>{o.success&&t(o.data)}).catch(console.error)},[]);const a=(o,u)=>{t(p=>({...p,[o]:u})),i(!1)},c=async()=>{r(!0);try{await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})}),i(!0),setTimeout(()=>i(!1),3e3)}catch(o){console.error("Failed to save:",o)}r(!1)};return s.jsxs("div",{className:"space-y-6 animate-fadeIn max-w-3xl",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-gray-500 to-gray-400 rounded-r-full"}),s.jsx("h1",{className:"text-xl font-bold tracking-widest text-gray-300",children:"SETTINGS"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-500/30 to-transparent"}),s.jsx("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:l?" Saved":n?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"w-4 h-4"})," Save All"]})})]}),s.jsxs(hs,{icon:N0,title:"BRANDING",color:"text-accent",children:[s.jsx(bt,{label:"Company Name",description:"Displayed on signage screens",children:s.jsx("input",{value:e["global.companyName"]||"",onChange:o=>a("global.companyName",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-64"})}),s.jsx(bt,{label:"Brand Color",description:"Primary accent color (hex)",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"color",value:e["global.brandColor"]||"#F97316",onChange:o=>a("global.brandColor",o.target.value),className:"w-10 h-10 rounded cursor-pointer bg-dark-700 border border-dark-600"}),s.jsx("input",{value:e["global.brandColor"]||"#F97316",onChange:o=>a("global.brandColor",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28"})]})})]}),s.jsxs(hs,{icon:Ut,title:"TRANSITIONS",color:"text-lcars-blue",children:[s.jsx(bt,{label:"Default Transition",description:"Used when playlist doesn't specify",children:s.jsxs("select",{value:e["global.transition"]||"fade",onChange:o=>a("global.transition",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-40",children:[s.jsx("option",{value:"fade",children:"Fade"}),s.jsx("option",{value:"slide",children:"Slide"}),s.jsx("option",{value:"none",children:"None"})]})}),s.jsx(bt,{label:"Transition Duration",description:"Milliseconds",children:s.jsx("input",{type:"number",value:e["global.transitionDuration"]||"500",onChange:o=>a("global.transitionDuration",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:0,max:3e3,step:100})}),s.jsx(bt,{label:"Default Loop",description:"Loop playlists by default",children:s.jsx("button",{onClick:()=>a("global.defaultPlaylistLoop",e["global.defaultPlaylistLoop"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["global.defaultPlaylistLoop"]==="true"?"bg-accent":"bg-dark-600"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["global.defaultPlaylistLoop"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),s.jsxs(hs,{icon:s0,title:"ALERTS",color:"text-lcars-amber",children:[s.jsx(bt,{label:"Auto-Expire Duration",description:"Alert auto-dismiss time (ms)",children:s.jsx("input",{type:"number",value:e["alerts.autoExpire"]||"30000",onChange:o=>a("alerts.autoExpire",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:5e3,max:3e5,step:5e3})}),s.jsx(bt,{label:"Sound Enabled",description:"Play sound on alert push",children:s.jsx("button",{onClick:()=>a("alerts.soundEnabled",e["alerts.soundEnabled"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["alerts.soundEnabled"]==="true"?"bg-accent":"bg-dark-600"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["alerts.soundEnabled"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),s.jsx(hs,{icon:Vn,title:"MONITORING",color:"text-lcars-teal",children:s.jsx(bt,{label:"Offline Alert Threshold",description:"Minutes before alerting on offline screen",children:s.jsx("input",{type:"number",value:e["screens.offlineAlertMinutes"]||"10",onChange:o=>a("screens.offlineAlertMinutes",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:1,max:60})})}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4"}),"SYSTEM"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Server"}),s.jsx("span",{className:"text-white",children:"http://localhost:3400"})]}),s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Database"}),s.jsx("span",{className:"text-white",children:"SQLite (signage.db)"})]}),s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Process Manager"}),s.jsx("span",{className:"text-white",children:"PM2 (skynet-signage)"})]}),s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsx("span",{children:"Video Storage"}),s.jsx("span",{className:"text-white",children:"/Volumes/Parkwise/Skynet/video/"})]})]})]})]})}function hs({icon:e,title:t,color:n,children:r}){return s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("h3",{className:`text-sm font-semibold tracking-wider mb-4 flex items-center gap-2 ${n}`,children:[s.jsx(e,{className:"w-4 h-4"}),t]}),s.jsx("div",{className:"space-y-4",children:r})]})}function bt({label:e,description:t,children:n}){return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white",children:e}),s.jsx("div",{className:"text-xs text-gray-500",children:t})]}),n]})}const ps=[{id:"dashboard",label:"DASHBOARD",icon:g0,color:"text-accent"},{id:"screens",label:"SCREENS",icon:Vn,color:"text-lcars-blue"},{id:"playlists",label:"PLAYLISTS",icon:Cf,color:"text-lcars-amber"},{id:"content",label:"CONTENT",icon:wl,color:"text-lcars-purple"},{id:"locations",label:"LOCATIONS",icon:rn,color:"text-lcars-teal"},{id:"schedules",label:"SCHEDULES",icon:mo,color:"text-lcars-pink"},{id:"settings",label:"SETTINGS",icon:C0,color:"text-gray-400"}];function Nx(){var v;const[e,t]=y.useState("dashboard"),[n,r]=y.useState(!1),[l,i]=y.useState(null),[a,c]=y.useState(!1),[o,u]=y.useState([]),p=y.useCallback(async()=>{try{const g=await(await fetch("/api/screens")).json();g.success&&u(g.data)}catch(w){console.error("Failed to fetch screens:",w)}},[]);y.useEffect(()=>{p();const w=gr(window.location.origin,{transports:["websocket","polling"]});return w.on("connect",()=>c(!0)),w.on("disconnect",()=>c(!1)),w.on("screens:update",()=>p()),w.on("screens:mode-update",({screenId:g,mode:R})=>{u(x=>x.map(f=>f.id===g?{...f,currentMode:R}:f))}),i(w),()=>{w.disconnect()}},[p]),y.useEffect(()=>{const w=window.location.hash.replace("#","");ps.find(R=>R.id===w)&&t(w);const g=()=>{const R=window.location.hash.replace("#","");ps.find(x=>x.id===R)&&t(R)};return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const m=w=>{t(w),window.location.hash=w},d=o.filter(w=>w.connected).length;return s.jsxs("div",{className:"h-screen flex overflow-hidden bg-dark-900",children:[s.jsxs("aside",{className:`flex-shrink-0 flex flex-col border-r border-dark-600 bg-dark-800 transition-all duration-300 ${n?"w-16":"w-56"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-dark-600 h-16",children:[s.jsx("div",{className:"w-8 h-8 bg-accent/20 border border-accent rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(jl,{className:"w-4 h-4 text-accent"})}),!n&&s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("h1",{className:"text-sm font-bold tracking-wider text-accent",children:"SKYNET"}),s.jsx("p",{className:"text-[10px] text-gray-500 tracking-widest",children:"SIGNAGE"})]})]}),s.jsx("nav",{className:"flex-1 py-2 space-y-1 px-2 overflow-y-auto",children:ps.map(w=>{const g=w.icon,R=e===w.id;return s.jsxs("button",{onClick:()=>m(w.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${R?"bg-accent/15 text-accent border-l-2 border-accent":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:n?w.label:void 0,children:[s.jsx(g,{className:`w-4.5 h-4.5 flex-shrink-0 ${R?"text-accent":w.color}`}),!n&&s.jsx("span",{className:"tracking-wider",children:w.label})]},w.id)})}),s.jsxs("div",{className:"p-3 border-t border-dark-600 space-y-2",children:[!n&&s.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-lg text-xs ${a?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[a?s.jsx(wo,{className:"w-3.5 h-3.5"}):s.jsx(vo,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:a?"Connected":"Disconnected"}),s.jsxs("span",{className:"ml-auto text-gray-500",children:[d,"/",o.length]})]}),s.jsx("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-center p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-dark-700 transition",children:n?s.jsx(o0,{className:"w-4 h-4"}):s.jsx(a0,{className:"w-4 h-4"})})]})]}),s.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[s.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between h-16 px-6 border-b border-dark-600 bg-dark-800/50",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-lg font-semibold tracking-wider",children:(v=ps.find(w=>w.id===e))==null?void 0:v.label})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:p,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),d," screens online"]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e==="dashboard"&&s.jsx(ox,{screens:o}),e==="screens"&&s.jsx(ux,{screens:o,onRefresh:p}),e==="playlists"&&s.jsx(px,{screens:o}),e==="content"&&s.jsx(xx,{}),e==="locations"&&s.jsx(gx,{screens:o,onRefresh:p}),e==="schedules"&&s.jsx(wx,{}),e==="settings"&&s.jsx(jx,{})]})]})]})}const Fr=new URLSearchParams(window.location.search),kx=Fr.has("screen")||Fr.has("display"),nr=Fr.get("screen")||Fr.get("id")||`screen-${Math.random().toString(36).slice(2,8)}`,Xc={mode:"hybrid",interactiveUrl:"",idleTimeout:60,touchToInteract:!0};function bx({widget:e,config:t}){switch(e){case"clock":return s.jsx(kl,{config:t});case"weather":return s.jsx(Cl,{config:t});case"camera":return s.jsx(bl,{config:t});case"camera-grid":return s.jsx(Sl,{config:t});case"stats":return s.jsx(El,{config:t});case"occupancy":return s.jsx(Tl,{config:t});case"iframe":return s.jsx(_l,{config:t});case"layout":return s.jsx(Pl,{config:t});case"playlist":return s.jsx(F0,{config:t});case"alert":return s.jsx(Rf,{config:t});case"operations-dashboard":return s.jsx(jo,{config:t});case"team-activity":return s.jsx(Af,{config:t});case"sports":case"football":case"rangers":case"celtic":return s.jsx(W0,{config:{team:e==="celtic"?"celtic":e==="rangers"?"rangers":t.team,...t}});case"testcard":case"test-card":return s.jsx(H0,{config:t});case"youngs-menu":case"youngs":return s.jsx(q0,{config:t});case"youngs-kiosk":case"kiosk":return s.jsx(K0,{config:t});case"template":return s.jsx(ex,{config:t});case"security-alert":return s.jsx(nx,{config:t});case"revenue":case"pos-revenue":return s.jsx(rx,{config:t});default:return s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl mb-2",children:["Unknown widget: ",e]}),s.jsx("pre",{className:"text-sm",children:JSON.stringify(t,null,2)})]})})}}function Sx(){const[e,t]=y.useState(null),[n,r]=y.useState(!1),[l,i]=y.useState(null),[a,c]=y.useState(null),[o,u]=y.useState(null),[p,m]=y.useState(!1),[d,v]=y.useState(!0),[w,g]=y.useState(Xc),[R,x]=y.useState("signage"),[f,h]=y.useState(!1),N=y.useRef(null),S=y.useRef(null),I=y.useCallback(()=>{const M=document.documentElement;M.requestFullscreen?M.requestFullscreen().then(()=>{m(!0),v(!1)}).catch(console.error):M.webkitRequestFullscreen&&(M.webkitRequestFullscreen(),m(!0),v(!1))},[]);y.useEffect(()=>{const M=()=>{m(!!document.fullscreenElement),document.fullscreenElement||v(!0)};return document.addEventListener("fullscreenchange",M),document.addEventListener("webkitfullscreenchange",M),()=>{document.removeEventListener("fullscreenchange",M),document.removeEventListener("webkitfullscreenchange",M)}},[]);const j=y.useCallback(()=>{var M;w.mode!=="signage-only"&&(x("interactive"),h(!1),(M=S.current)==null||M.emit("mode-change",{mode:"interactive"}))},[w.mode]),k=y.useCallback(()=>{h(!0),setTimeout(()=>{var M;x("signage"),h(!1),(M=S.current)==null||M.emit("mode-change",{mode:"signage"})},500)},[]),b=y.useCallback(()=>{N.current&&clearTimeout(N.current),w.idleTimeout>0&&(N.current=setTimeout(()=>{console.log(" Idle timeout  returning to signage"),k()},w.idleTimeout*1e3))},[w.idleTimeout,k]);y.useEffect(()=>{if(R!=="interactive"){N.current&&clearTimeout(N.current);return}b();const M=()=>b();return window.addEventListener("mousemove",M),window.addEventListener("mousedown",M),window.addEventListener("keydown",M),window.addEventListener("touchstart",M),window.addEventListener("touchmove",M),()=>{N.current&&clearTimeout(N.current),window.removeEventListener("mousemove",M),window.removeEventListener("mousedown",M),window.removeEventListener("keydown",M),window.removeEventListener("touchstart",M),window.removeEventListener("touchmove",M)}},[R,b]),y.useEffect(()=>{const M=B=>{var C;(B.data==="user-activity"||((C=B.data)==null?void 0:C.type)==="user-activity")&&b()};return window.addEventListener("message",M),()=>window.removeEventListener("message",M)},[b]),y.useEffect(()=>{const M=gr(window.location.origin,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:3e4,randomizationFactor:.5,timeout:2e4});return S.current=M,M.on("connect",()=>{console.log(" Connected to server"),r(!0),M.emit("register",{screenId:nr,name:Fr.get("name")||nr,type:"browser"})}),M.on("disconnect",B=>{console.log(" Disconnected:",B),r(!1)}),M.on("reconnect_attempt",B=>{console.log(` Reconnecting... attempt ${B}`)}),M.on("reconnect",()=>{console.log(" Reconnected!")}),M.on("screen-config",B=>{console.log(" Screen config received:",B),g({...Xc,...B})}),M.on("set-mode",B=>{console.log(` Admin forced mode: ${B.mode}`),B.mode==="signage"?k():j()}),M.on("content",B=>{console.log(" Content received:",B),B.type==="alert"?(u(B.content),B.duration&&setTimeout(()=>u(null),B.duration)):B.type==="clear"?(i(null),c(null),u(null)):B.type==="reload"?(console.log(" Reload requested"),window.location.reload()):B.type==="playlist"?(console.log(" Playlist received:",B.content),c(B.content),i(null)):(i(B),c(null)),B.type!=="alert"&&B.type!=="reload"&&(x("signage"),h(!1),M.emit("mode-change",{mode:"signage"}))}),t(M),()=>{M.disconnect()}},[]),y.useEffect(()=>{if(!e)return;const M=setInterval(()=>e.emit("heartbeat"),3e4);return()=>clearInterval(M)},[e]);const A=y.useCallback(M=>{d&&!p||M.target.closest("video, button, input, a, iframe, [data-no-interact]")||w.touchToInteract&&w.mode!=="signage-only"&&j()},[w,j,d,p]),H=w.interactiveUrl||`${window.location.protocol}//${window.location.hostname}:5180`;return w.mode==="kiosk"?s.jsx("div",{className:"fixed inset-0 bg-black",children:s.jsx("iframe",{src:H,className:"w-full h-full border-0",title:"Kiosk Interface",allow:"camera;microphone;fullscreen"})}):R==="interactive"?s.jsxs("div",{className:`fixed inset-0 bg-black transition-opacity duration-500 ${f?"opacity-0":"opacity-100"}`,children:[s.jsx("iframe",{src:H,className:"w-full h-full border-0",title:"Interactive Interface",allow:"camera;microphone;fullscreen"}),s.jsxs("div",{className:"fixed bottom-4 right-4 bg-black/50 text-gray-500 text-xs px-3 py-1.5 rounded-full backdrop-blur-sm",children:["Auto-return in ",w.idleTimeout,"s idle"]})]}):s.jsxs("div",{className:"fixed inset-0 bg-dark-900",onClick:A,onTouchStart:A,children:[d&&!p&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[100] cursor-pointer",onClick:M=>{M.stopPropagation(),I()},children:s.jsxs("div",{className:"text-center animate-pulse",children:[s.jsx(fa,{className:"w-20 h-20 mx-auto mb-6 text-accent"}),s.jsx("h2",{className:"text-2xl font-light text-white mb-2",children:"Click anywhere to enter fullscreen"}),s.jsx("p",{className:"text-gray-500 text-sm",children:nr})]})}),s.jsxs("div",{className:`fixed top-4 right-4 flex items-center gap-2 text-xs px-3 py-1.5 rounded-full z-40 ${n?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[n?s.jsx(wo,{className:"w-4 h-4"}):s.jsx(vo,{className:"w-4 h-4 animate-pulse"}),s.jsx("span",{children:n?nr:"Reconnecting..."})]}),o&&s.jsx("div",{className:`fixed top-0 left-0 right-0 p-6 text-center text-2xl font-bold animate-slideUp z-50 ${o.level==="error"?"bg-red-600":o.level==="warning"?"bg-yellow-600":o.level==="success"?"bg-green-600":"bg-accent-dim"}`,children:o.message}),a?s.jsx(lx,{playlist:a,showControls:!1,onComplete:()=>{console.log(" Playlist complete"),c(null)}}):l?l.type==="url"?s.jsx("iframe",{src:l.content.url,className:"w-full h-full border-0",title:"Display Content"}):l.type==="widget"?s.jsx("div",{className:"w-full h-full",children:s.jsx(bx,{widget:l.content.widget,config:l.content.config||{}})}):l.type==="media"?s.jsx("video",{src:l.content.url,className:"w-full h-full object-contain bg-black",autoPlay:!0,muted:!1,loop:l.content.loop,playsInline:!0}):s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-2xl mb-2",children:"Unknown content type"}),s.jsx("pre",{className:"text-sm",children:JSON.stringify(l,null,2)})]}):s.jsxs("div",{className:"text-center animate-fadeIn",children:[s.jsx(fa,{className:"w-24 h-24 mx-auto mb-6 text-accent opacity-30"}),s.jsx("h1",{className:"text-3xl font-light text-gray-500 mb-2",children:"SKYNET Display"}),s.jsx("p",{className:"text-gray-600",children:nr}),s.jsx("p",{className:"text-sm text-gray-700 mt-4",children:"Waiting for content..."}),w.touchToInteract&&w.mode==="hybrid"&&s.jsx("p",{className:"text-xs text-gray-800 mt-2",children:"Touch to interact"})]})]})}function Cx(){return kx?s.jsx(Sx,{}):s.jsx(Nx,{})}hi.createRoot(document.getElementById("root")).render(s.jsx(Xf.StrictMode,{children:s.jsx(Cx,{})}));export{s as j,y as r};
