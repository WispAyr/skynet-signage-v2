const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskCompleteTemplate-BN1__YeO.js","assets/proxy-BU1hYPno.js","assets/AlertTemplate-DiF9IT-m.js","assets/MetricsTemplate-K7ma4SlP.js","assets/AnnouncementTemplate-CJGWVyPM.js","assets/DailyDigestTemplate-Db6T17ZN.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lu={exports:{}},il={},au={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Zh=Symbol.for("react.lazy"),_o=Symbol.iterator;function ef(e){return e===null||typeof e!="object"?null:(e=_o&&e[_o]||e["@@iterator"],typeof e=="function"?e:null)}var iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ou=Object.assign,cu={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=cu,this.updater=n||iu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uu(){}uu.prototype=Wn.prototype;function wi(e,t,n){this.props=e,this.context=t,this.refs=cu,this.updater=n||iu}var ji=wi.prototype=new uu;ji.constructor=wi;ou(ji,Wn.prototype);ji.isPureReactComponent=!0;var Po=Array.isArray,du=Object.prototype.hasOwnProperty,Ni={current:null},hu={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)du.call(t,s)&&!hu.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:Hr,type:e,key:a,ref:i,props:l,_owner:Ni.current}}function tf(e,t){return{$$typeof:Hr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ki(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hr}function nf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lo=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nf(""+e.key):t.toString(36)}function ws(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hr:case Hh:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Ml(i,0):s,Po(l)?(n="",e!=null&&(n=e.replace(Lo,"$&/")+"/"),ws(l,t,n,"",function(u){return u})):l!=null&&(ki(l)&&(l=tf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Lo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Po(e))for(var c=0;c<e.length;c++){a=e[c];var o=s+Ml(a,c);i+=ws(a,t,n,o,l)}else if(o=ef(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=s+Ml(a,c++),i+=ws(a,t,n,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Kr(e,t,n){if(e==null)return e;var s=[],l=0;return ws(e,s,"","",function(a){return t.call(n,a,l++)}),s}function rf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},js={transition:null},sf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:js,ReactCurrentOwner:Ni};function pu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Kr,forEach:function(e,t,n){Kr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kr(e,function(){t++}),t},toArray:function(e){return Kr(e,function(t){return t})||[]},only:function(e){if(!ki(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Wn;W.Fragment=Wh;W.Profiler=Gh;W.PureComponent=wi;W.StrictMode=qh;W.Suspense=Jh;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sf;W.act=pu;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=ou({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ni.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)du.call(t,o)&&!hu.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:Hr,type:e.type,key:l,ref:a,props:s,_owner:i}};W.createContext=function(e){return e={$$typeof:Yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qh,_context:e},e.Consumer=e};W.createElement=fu;W.createFactory=function(e){var t=fu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Kh,render:e}};W.isValidElement=ki;W.lazy=function(e){return{$$typeof:Zh,_payload:{_status:-1,_result:e},_init:rf}};W.memo=function(e,t){return{$$typeof:Xh,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=js.transition;js.transition={};try{e()}finally{js.transition=t}};W.unstable_act=pu;W.useCallback=function(e,t){return Ce.current.useCallback(e,t)};W.useContext=function(e){return Ce.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ce.current.useEffect(e,t)};W.useId=function(){return Ce.current.useId()};W.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ce.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};W.useRef=function(e){return Ce.current.useRef(e)};W.useState=function(e){return Ce.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Ce.current.useTransition()};W.version="18.3.1";au.exports=W;var y=au.exports;const lf=Vh(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=y,of=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),uf=Object.prototype.hasOwnProperty,df=af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hf={key:!0,ref:!0,__self:!0,__source:!0};function mu(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)uf.call(t,s)&&!hf.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:of,type:e,key:a,ref:i,props:l,_owner:df.current}}il.Fragment=cf;il.jsx=mu;il.jsxs=mu;lu.exports=il;var r=lu.exports,ya={},xu={exports:{}},De={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var $=A.length;A.push(F);e:for(;0<$;){var K=$-1>>>1,E=A[K];if(0<l(E,F))A[K]=F,A[$]=E,$=K;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var F=A[0],$=A.pop();if($!==F){A[0]=$;e:for(var K=0,E=A.length,V=E>>>1;K<V;){var J=2*(K+1)-1,pe=A[J],H=J+1,P=A[H];if(0>l(pe,$))H<E&&0>l(P,pe)?(A[K]=P,A[H]=$,K=H):(A[K]=pe,A[J]=$,K=J);else if(H<E&&0>l(P,$))A[K]=P,A[H]=$,K=H;else break e}}return F}function l(A,F){var $=A.sortIndex-F.sortIndex;return $!==0?$:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],u=[],f=1,p=null,h=3,v=!1,w=!1,g=!1,O=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=A)s(u),F.sortIndex=F.expirationTime,t(o,F);else break;F=n(u)}}function b(A){if(g=!1,m(A),!w)if(n(o)!==null)w=!0,D(_);else{var F=n(u);F!==null&&C(b,F.startTime-A)}}function _(A,F){w=!1,g&&(g=!1,x(S),S=-1),v=!0;var $=h;try{for(m(F),p=n(o);p!==null&&(!(p.expirationTime>F)||A&&!U());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var E=K(p.expirationTime<=F);F=e.unstable_now(),typeof E=="function"?p.callback=E:p===n(o)&&s(o),m(F)}else s(o);p=n(o)}if(p!==null)var V=!0;else{var J=n(u);J!==null&&C(b,J.startTime-F),V=!1}return V}finally{p=null,h=$,v=!1}}var R=!1,N=null,S=-1,T=5,I=-1;function U(){return!(e.unstable_now()-I<T)}function ee(){if(N!==null){var A=e.unstable_now();I=A;var F=!0;try{F=N(!0,A)}finally{F?q():(R=!1,N=null)}}else R=!1}var q;if(typeof d=="function")q=function(){d(ee)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,j=k.port2;k.port1.onmessage=ee,q=function(){j.postMessage(null)}}else q=function(){O(ee,0)};function D(A){N=A,R||(R=!0,q())}function C(A,F){S=O(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,D(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var $=h;h=F;try{return A()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=h;h=A;try{return F()}finally{h=$}},e.unstable_scheduleCallback=function(A,F,$){var K=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,A){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=$+E,A={id:f++,callback:F,priorityLevel:A,startTime:$,expirationTime:E,sortIndex:-1},$>K?(A.sortIndex=$,t(u,A),n(o)===null&&A===n(u)&&(g?(x(S),S=-1):g=!0,C(b,$-K))):(A.sortIndex=E,t(o,A),w||v||(w=!0,D(_))),A},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(A){var F=h;return function(){var $=h;h=F;try{return A.apply(this,arguments)}finally{h=$}}}})(yu);gu.exports=yu;var ff=gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=y,Me=ff;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vu=new Set,br={};function pn(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(br[e]=t,e=0;e<t.length;e++)vu.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,mf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ro={},Ao={};function xf(e){return va.call(Ao,e)?!0:va.call(Ro,e)?!1:mf.test(e)?Ao[e]=!0:(Ro[e]=!0,!1)}function gf(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yf(e,t,n,s){if(t===null||typeof t>"u"||gf(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var bi=/[\-:]([a-z])/g;function Si(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bi,Si);ve[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bi,Si);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bi,Si);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ci(e,t,n,s){var l=ve.hasOwnProperty(t)?ve[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yf(t,n,l,s)&&(n=null),s||l===null?xf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var kt=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Ei=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),wu=Symbol.for("react.provider"),ju=Symbol.for("react.context"),Ti=Symbol.for("react.forward_ref"),ja=Symbol.for("react.suspense"),Na=Symbol.for("react.suspense_list"),_i=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Nu=Symbol.for("react.offscreen"),Io=Symbol.iterator;function Yn(e){return e===null||typeof e!="object"?null:(e=Io&&e[Io]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Dl;function cr(e){if(Dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var zl=!1;function Fl(e,t){if(!e||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cr(e):""}function vf(e){switch(e.tag){case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return e=Fl(e.type,!1),e;case 11:return e=Fl(e.type.render,!1),e;case 1:return e=Fl(e.type,!0),e;default:return""}}function ka(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case wa:return"Profiler";case Ei:return"StrictMode";case ja:return"Suspense";case Na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ju:return(e.displayName||"Context")+".Consumer";case wu:return(e._context.displayName||"Context")+".Provider";case Ti:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _i:return t=e.displayName||null,t!==null?t:ka(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return ka(e(t))}catch{}}return null}function wf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(t);case 8:return t===Ei?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jf(e){var t=ku(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){e._valueTracker||(e._valueTracker=jf(e))}function bu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ku(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Oo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Su(e,t){t=t.checked,t!=null&&Ci(e,"checked",t,!1)}function Sa(e,t){Su(e,t);var n=Ut(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ca(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ca(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ca(e,t,n){(t!=="number"||Os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function Pn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Do(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ur(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function Cu(e,t){var n=Ut(t.value),s=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function zo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Eu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Eu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zr,Tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nf=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){Nf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function _u(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function Pu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=_u(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var kf=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(e,t){if(t){if(kf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Ln=null,Rn=null;function Fo(e){if(e=Gr(e)){if(typeof Ra!="function")throw Error(L(280));var t=e.stateNode;t&&(t=hl(t),Ra(e.stateNode,e.type,t))}}function Lu(e){Ln?Rn?Rn.push(e):Rn=[e]:Ln=e}function Ru(){if(Ln){var e=Ln,t=Rn;if(Rn=Ln=null,Fo(e),t)for(e=0;e<t.length;e++)Fo(t[e])}}function Au(e,t){return e(t)}function Iu(){}var $l=!1;function Ou(e,t,n){if($l)return e(t,n);$l=!0;try{return Au(e,t,n)}finally{$l=!1,(Ln!==null||Rn!==null)&&(Iu(),Ru())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var s=hl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Aa=!1;if(vt)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Aa=!1}function bf(e,t,n,s,l,a,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var mr=!1,Ms=null,Ds=!1,Ia=null,Sf={onError:function(e){mr=!0,Ms=e}};function Cf(e,t,n,s,l,a,i,c,o){mr=!1,Ms=null,bf.apply(Sf,arguments)}function Ef(e,t,n,s,l,a,i,c,o){if(Cf.apply(this,arguments),mr){if(mr){var u=Ms;mr=!1,Ms=null}else throw Error(L(198));Ds||(Ds=!0,Ia=u)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $o(e){if(mn(e)!==e)throw Error(L(188))}function Tf(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return $o(l),e;if(a===s)return $o(l),t;a=a.sibling}throw Error(L(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,s=a;break}if(c===s){i=!0,s=l,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,s=l;break}if(c===s){i=!0,s=a,n=l;break}c=c.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Du(e){return e=Tf(e),e!==null?zu(e):null}function zu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zu(e);if(t!==null)return t;e=e.sibling}return null}var Fu=Me.unstable_scheduleCallback,Bo=Me.unstable_cancelCallback,_f=Me.unstable_shouldYield,Pf=Me.unstable_requestPaint,ce=Me.unstable_now,Lf=Me.unstable_getCurrentPriorityLevel,Li=Me.unstable_ImmediatePriority,$u=Me.unstable_UserBlockingPriority,zs=Me.unstable_NormalPriority,Rf=Me.unstable_LowPriority,Bu=Me.unstable_IdlePriority,ol=null,it=null;function Af(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ol,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Mf,If=Math.log,Of=Math.LN2;function Mf(e){return e>>>=0,e===0?32:31-(If(e)/Of|0)|0}var es=64,ts=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?s=dr(c):(a&=i,a!==0&&(s=dr(a)))}else i=n&~l,i!==0?s=dr(i):a!==0&&(s=dr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-et(t),l=1<<n,s|=e[n],t&=~l;return s}function Df(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-et(a),c=1<<i,o=l[i];o===-1?(!(c&n)||c&s)&&(l[i]=Df(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Oa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uu(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function Bl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function Ff(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-et(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-et(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var X=0;function Vu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hu,Ai,Wu,qu,Gu,Ma=!1,ns=[],At=null,It=null,Ot=null,Er=new Map,Tr=new Map,_t=[],$f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Jn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Gr(t),t!==null&&Ai(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Bf(e,t,n,s,l){switch(t){case"focusin":return At=Jn(At,e,t,n,s,l),!0;case"dragenter":return It=Jn(It,e,t,n,s,l),!0;case"mouseover":return Ot=Jn(Ot,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return Er.set(a,Jn(Er.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Tr.set(a,Jn(Tr.get(a)||null,e,t,n,s,l)),!0}return!1}function Qu(e){var t=Zt(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mu(n),t!==null){e.blockedOn=t,Gu(e.priority,function(){Wu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);La=s,n.target.dispatchEvent(s),La=null}else return t=Gr(n),t!==null&&Ai(t),e.blockedOn=n,!1;t.shift()}return!0}function Vo(e,t,n){Ns(e)&&n.delete(t)}function Uf(){Ma=!1,At!==null&&Ns(At)&&(At=null),It!==null&&Ns(It)&&(It=null),Ot!==null&&Ns(Ot)&&(Ot=null),Er.forEach(Vo),Tr.forEach(Vo)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Uf)))}function _r(e){function t(l){return Xn(l,e)}if(0<ns.length){Xn(ns[0],e);for(var n=1;n<ns.length;n++){var s=ns[n];s.blockedOn===e&&(s.blockedOn=null)}}for(At!==null&&Xn(At,e),It!==null&&Xn(It,e),Ot!==null&&Xn(Ot,e),Er.forEach(t),Tr.forEach(t),n=0;n<_t.length;n++)s=_t[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)Qu(n),n.blockedOn===null&&_t.shift()}var An=kt.ReactCurrentBatchConfig,$s=!0;function Vf(e,t,n,s){var l=X,a=An.transition;An.transition=null;try{X=1,Ii(e,t,n,s)}finally{X=l,An.transition=a}}function Hf(e,t,n,s){var l=X,a=An.transition;An.transition=null;try{X=4,Ii(e,t,n,s)}finally{X=l,An.transition=a}}function Ii(e,t,n,s){if($s){var l=Da(e,t,n,s);if(l===null)Jl(e,t,s,Bs,n),Uo(e,s);else if(Bf(l,e,t,n,s))s.stopPropagation();else if(Uo(e,s),t&4&&-1<$f.indexOf(e)){for(;l!==null;){var a=Gr(l);if(a!==null&&Hu(a),a=Da(e,t,n,s),a===null&&Jl(e,t,s,Bs,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Jl(e,t,s,null,n)}}var Bs=null;function Da(e,t,n,s){if(Bs=null,e=Pi(s),e=Zt(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function Yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case Li:return 1;case $u:return 4;case zs:case Rf:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var Lt=null,Oi=null,ks=null;function Ku(){if(ks)return ks;var e,t=Oi,n=t.length,s,l="value"in Lt?Lt.value:Lt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return ks=l.slice(e,1<s?1-s:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Ho(){return!1}function ze(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rs:Ho,this.isPropagationStopped=Ho,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=ze(qn),qr=ae({},qn,{view:0,detail:0}),Wf=ze(qr),Ul,Vl,Zn,cl=ae({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Ul=e.screenX-Zn.screenX,Vl=e.screenY-Zn.screenY):Vl=Ul=0,Zn=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Wo=ze(cl),qf=ae({},cl,{dataTransfer:0}),Gf=ze(qf),Qf=ae({},qr,{relatedTarget:0}),Hl=ze(Qf),Yf=ae({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=ze(Yf),Jf=ae({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xf=ze(Jf),Zf=ae({},qn,{data:0}),qo=ze(Zf),ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function Di(){return rp}var sp=ae({},qr,{key:function(e){if(e.key){var t=ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lp=ze(sp),ap=ae({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=ze(ap),ip=ae({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),op=ze(ip),cp=ae({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=ze(cp),dp=ae({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=ze(dp),fp=[9,13,27,32],zi=vt&&"CompositionEvent"in window,xr=null;vt&&"documentMode"in document&&(xr=document.documentMode);var pp=vt&&"TextEvent"in window&&!xr,Ju=vt&&(!zi||xr&&8<xr&&11>=xr),Qo=" ",Yo=!1;function Xu(e,t){switch(e){case"keyup":return fp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function mp(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Yo=!0,Qo);case"textInput":return e=t.data,e===Qo&&Yo?null:e;default:return null}}function xp(e,t){if(wn)return e==="compositionend"||!zi&&Xu(e,t)?(e=Ku(),ks=Oi=Lt=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ju&&t.locale!=="ko"?null:t.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gp[e.type]:t==="textarea"}function ed(e,t,n,s){Lu(s),t=Us(t,"onChange"),0<t.length&&(n=new Mi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var gr=null,Pr=null;function yp(e){dd(e,0)}function ul(e){var t=kn(e);if(bu(t))return e}function vp(e,t){if(e==="change")return t}var td=!1;if(vt){var Wl;if(vt){var ql="oninput"in document;if(!ql){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),ql=typeof Jo.oninput=="function"}Wl=ql}else Wl=!1;td=Wl&&(!document.documentMode||9<document.documentMode)}function Xo(){gr&&(gr.detachEvent("onpropertychange",nd),Pr=gr=null)}function nd(e){if(e.propertyName==="value"&&ul(Pr)){var t=[];ed(t,Pr,e,Pi(e)),Ou(yp,t)}}function wp(e,t,n){e==="focusin"?(Xo(),gr=t,Pr=n,gr.attachEvent("onpropertychange",nd)):e==="focusout"&&Xo()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Pr)}function Np(e,t){if(e==="click")return ul(t)}function kp(e,t){if(e==="input"||e==="change")return ul(t)}function bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:bp;function Lr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!va.call(t,l)||!nt(e[l],t[l]))return!1}return!0}function Zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ec(e,t){var n=Zo(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zo(n)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sp(e){var t=sd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rd(n.ownerDocument.documentElement,n)){if(s!==null&&Fi(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=ec(n,a);var i=ec(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cp=vt&&"documentMode"in document&&11>=document.documentMode,jn=null,za=null,yr=null,Fa=!1;function tc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fa||jn==null||jn!==Os(s)||(s=jn,"selectionStart"in s&&Fi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yr&&Lr(yr,s)||(yr=s,s=Us(za,"onSelect"),0<s.length&&(t=new Mi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=jn)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},Gl={},ld={};vt&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function dl(e){if(Gl[e])return Gl[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ld)return Gl[e]=t[n];return e}var ad=dl("animationend"),id=dl("animationiteration"),od=dl("animationstart"),cd=dl("transitionend"),ud=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){ud.set(e,t),pn(t,[e])}for(var Ql=0;Ql<nc.length;Ql++){var Yl=nc[Ql],Ep=Yl.toLowerCase(),Tp=Yl[0].toUpperCase()+Yl.slice(1);Wt(Ep,"on"+Tp)}Wt(ad,"onAnimationEnd");Wt(id,"onAnimationIteration");Wt(od,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(cd,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_p=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function rc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ef(s,t,void 0,e),e.currentTarget=null}function dd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;rc(l,c,u),a=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;rc(l,c,u),a=o}}}if(Ds)throw e=Ia,Ds=!1,Ia=null,e}function te(e,t){var n=t[Ha];n===void 0&&(n=t[Ha]=new Set);var s=e+"__bubble";n.has(s)||(hd(t,e,2,!1),n.add(s))}function Kl(e,t,n){var s=0;t&&(s|=4),hd(n,e,s,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[ls]){e[ls]=!0,vu.forEach(function(n){n!=="selectionchange"&&(_p.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Kl("selectionchange",!1,t))}}function hd(e,t,n,s){switch(Yu(t)){case 1:var l=Vf;break;case 4:l=Hf;break;default:l=Ii}n=l.bind(null,t,n,e),l=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jl(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=Zt(c),i===null)return;if(o=i.tag,o===5||o===6){s=a=i;continue e}c=c.parentNode}}s=s.return}Ou(function(){var u=a,f=Pi(n),p=[];e:{var h=ud.get(e);if(h!==void 0){var v=Mi,w=e;switch(e){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":v=lp;break;case"focusin":w="focus",v=Hl;break;case"focusout":w="blur",v=Hl;break;case"beforeblur":case"afterblur":v=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=op;break;case ad:case id:case od:v=Kf;break;case cd:v=up;break;case"scroll":v=Wf;break;case"wheel":v=hp;break;case"copy":case"cut":case"paste":v=Xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Go}var g=(t&4)!==0,O=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var d=u,m;d!==null;){m=d;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,x!==null&&(b=Cr(d,x),b!=null&&g.push(Ar(d,b,m)))),O)break;d=d.return}0<g.length&&(h=new v(h,w,null,n,f),p.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==La&&(w=n.relatedTarget||n.fromElement)&&(Zt(w)||w[wt]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Zt(w):null,w!==null&&(O=mn(w),w!==O||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(g=Wo,b="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(g=Go,b="onPointerLeave",x="onPointerEnter",d="pointer"),O=v==null?h:kn(v),m=w==null?h:kn(w),h=new g(b,d+"leave",v,n,f),h.target=O,h.relatedTarget=m,b=null,Zt(f)===u&&(g=new g(x,d+"enter",w,n,f),g.target=m,g.relatedTarget=O,b=g),O=b,v&&w)t:{for(g=v,x=w,d=0,m=g;m;m=xn(m))d++;for(m=0,b=x;b;b=xn(b))m++;for(;0<d-m;)g=xn(g),d--;for(;0<m-d;)x=xn(x),m--;for(;d--;){if(g===x||x!==null&&g===x.alternate)break t;g=xn(g),x=xn(x)}g=null}else g=null;v!==null&&sc(p,h,v,g,!1),w!==null&&O!==null&&sc(p,O,w,g,!0)}}e:{if(h=u?kn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var _=vp;else if(Ko(h))if(td)_=kp;else{_=jp;var R=wp}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Np);if(_&&(_=_(e,u))){ed(p,_,n,f);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Ca(h,"number",h.value)}switch(R=u?kn(u):window,e){case"focusin":(Ko(R)||R.contentEditable==="true")&&(jn=R,za=u,yr=null);break;case"focusout":yr=za=jn=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,tc(p,n,f);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":tc(p,n,f)}var N;if(zi)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else wn?Xu(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Ju&&n.locale!=="ko"&&(wn||S!=="onCompositionStart"?S==="onCompositionEnd"&&wn&&(N=Ku()):(Lt=f,Oi="value"in Lt?Lt.value:Lt.textContent,wn=!0)),R=Us(u,S),0<R.length&&(S=new qo(S,e,null,n,f),p.push({event:S,listeners:R}),N?S.data=N:(N=Zu(n),N!==null&&(S.data=N)))),(N=pp?mp(e,n):xp(e,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(f=new qo("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=N))}dd(p,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Cr(e,n),a!=null&&s.unshift(Ar(e,a,l)),a=Cr(e,t),a!=null&&s.push(Ar(e,a,l))),e=e.return}return s}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,u=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&u!==null&&(c=u,l?(o=Cr(n,a),o!=null&&i.unshift(Ar(n,o,c))):l||(o=Cr(n,a),o!=null&&i.push(Ar(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Pp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Pp,`
`).replace(Lp,"")}function as(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(L(425))}function Vs(){}var $a=null,Ba=null;function Ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(Ip)}:Va;function Ip(e){setTimeout(function(){throw e})}function Xl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),_r(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);_r(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ic(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),at="__reactFiber$"+Gn,Ir="__reactProps$"+Gn,wt="__reactContainer$"+Gn,Ha="__reactEvents$"+Gn,Op="__reactListeners$"+Gn,Mp="__reactHandles$"+Gn;function Zt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ic(e);e!==null;){if(n=e[at])return n;e=ic(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function hl(e){return e[Ir]||null}var Wa=[],bn=-1;function qt(e){return{current:e}}function ne(e){0>bn||(e.current=Wa[bn],Wa[bn]=null,bn--)}function Z(e,t){bn++,Wa[bn]=e.current,e.current=t}var Vt={},ke=qt(Vt),Pe=qt(!1),an=Vt;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Vt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Le(e){return e=e.childContextTypes,e!=null}function Hs(){ne(Pe),ne(ke)}function oc(e,t,n){if(ke.current!==Vt)throw Error(L(168));Z(ke,t),Z(Pe,n)}function fd(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(L(108,wf(e)||"Unknown",l));return ae({},n,s)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vt,an=ke.current,Z(ke,e),Z(Pe,Pe.current),!0}function cc(e,t,n){var s=e.stateNode;if(!s)throw Error(L(169));n?(e=fd(e,t,an),s.__reactInternalMemoizedMergedChildContext=e,ne(Pe),ne(ke),Z(ke,e)):ne(Pe),Z(Pe,n)}var ft=null,fl=!1,Zl=!1;function pd(e){ft===null?ft=[e]:ft.push(e)}function Dp(e){fl=!0,pd(e)}function Gt(){if(!Zl&&ft!==null){Zl=!0;var e=0,t=X;try{var n=ft;for(X=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ft=null,fl=!1}catch(l){throw ft!==null&&(ft=ft.slice(e+1)),Fu(Li,Gt),l}finally{X=t,Zl=!1}}return null}var Sn=[],Cn=0,qs=null,Gs=0,$e=[],Be=0,on=null,pt=1,mt="";function Jt(e,t){Sn[Cn++]=Gs,Sn[Cn++]=qs,qs=e,Gs=t}function md(e,t,n){$e[Be++]=pt,$e[Be++]=mt,$e[Be++]=on,on=e;var s=pt;e=mt;var l=32-et(s)-1;s&=~(1<<l),n+=1;var a=32-et(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,pt=1<<32-et(t)+l|n<<l|s,mt=a+e}else pt=1<<a|n<<l|s,mt=e}function $i(e){e.return!==null&&(Jt(e,1),md(e,1,0))}function Bi(e){for(;e===qs;)qs=Sn[--Cn],Sn[Cn]=null,Gs=Sn[--Cn],Sn[Cn]=null;for(;e===on;)on=$e[--Be],$e[Be]=null,mt=$e[--Be],$e[Be]=null,pt=$e[--Be],$e[Be]=null}var Oe=null,Ie=null,re=!1,Ze=null;function xd(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:pt,overflow:mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Ie=null,!0):!1;default:return!1}}function qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ga(e){if(re){var t=Ie;if(t){var n=t;if(!uc(e,t)){if(qa(e))throw Error(L(418));t=Mt(n.nextSibling);var s=Oe;t&&uc(e,t)?xd(s,n):(e.flags=e.flags&-4097|2,re=!1,Oe=e)}}else{if(qa(e))throw Error(L(418));e.flags=e.flags&-4097|2,re=!1,Oe=e}}}function dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function is(e){if(e!==Oe)return!1;if(!re)return dc(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ua(e.type,e.memoizedProps)),t&&(t=Ie)){if(qa(e))throw gd(),Error(L(418));for(;t;)xd(e,t),t=Mt(t.nextSibling)}if(dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Mt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Oe?Mt(e.stateNode.nextSibling):null;return!0}function gd(){for(var e=Ie;e;)e=Mt(e.nextSibling)}function zn(){Ie=Oe=null,re=!1}function Ui(e){Ze===null?Ze=[e]:Ze.push(e)}var zp=kt.ReactCurrentBatchConfig;function er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function yd(e){function t(x,d){if(e){var m=x.deletions;m===null?(x.deletions=[d],x.flags|=16):m.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function s(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function l(x,d){return x=$t(x,d),x.index=0,x.sibling=null,x}function a(x,d,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<d?(x.flags|=2,d):m):(x.flags|=2,d)):(x.flags|=1048576,d)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,d,m,b){return d===null||d.tag!==6?(d=aa(m,x.mode,b),d.return=x,d):(d=l(d,m),d.return=x,d)}function o(x,d,m,b){var _=m.type;return _===vn?f(x,d,m.props.children,b,m.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Et&&hc(_)===d.type)?(b=l(d,m.props),b.ref=er(x,d,m),b.return=x,b):(b=Ls(m.type,m.key,m.props,null,x.mode,b),b.ref=er(x,d,m),b.return=x,b)}function u(x,d,m,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=ia(m,x.mode,b),d.return=x,d):(d=l(d,m.children||[]),d.return=x,d)}function f(x,d,m,b,_){return d===null||d.tag!==7?(d=sn(m,x.mode,b,_),d.return=x,d):(d=l(d,m),d.return=x,d)}function p(x,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=aa(""+d,x.mode,m),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Jr:return m=Ls(d.type,d.key,d.props,null,x.mode,m),m.ref=er(x,null,d),m.return=x,m;case yn:return d=ia(d,x.mode,m),d.return=x,d;case Et:var b=d._init;return p(x,b(d._payload),m)}if(ur(d)||Yn(d))return d=sn(d,x.mode,m,null),d.return=x,d;os(x,d)}return null}function h(x,d,m,b){var _=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:c(x,d,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:return m.key===_?o(x,d,m,b):null;case yn:return m.key===_?u(x,d,m,b):null;case Et:return _=m._init,h(x,d,_(m._payload),b)}if(ur(m)||Yn(m))return _!==null?null:f(x,d,m,b,null);os(x,m)}return null}function v(x,d,m,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(m)||null,c(d,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jr:return x=x.get(b.key===null?m:b.key)||null,o(d,x,b,_);case yn:return x=x.get(b.key===null?m:b.key)||null,u(d,x,b,_);case Et:var R=b._init;return v(x,d,m,R(b._payload),_)}if(ur(b)||Yn(b))return x=x.get(m)||null,f(d,x,b,_,null);os(d,b)}return null}function w(x,d,m,b){for(var _=null,R=null,N=d,S=d=0,T=null;N!==null&&S<m.length;S++){N.index>S?(T=N,N=null):T=N.sibling;var I=h(x,N,m[S],b);if(I===null){N===null&&(N=T);break}e&&N&&I.alternate===null&&t(x,N),d=a(I,d,S),R===null?_=I:R.sibling=I,R=I,N=T}if(S===m.length)return n(x,N),re&&Jt(x,S),_;if(N===null){for(;S<m.length;S++)N=p(x,m[S],b),N!==null&&(d=a(N,d,S),R===null?_=N:R.sibling=N,R=N);return re&&Jt(x,S),_}for(N=s(x,N);S<m.length;S++)T=v(N,x,S,m[S],b),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?S:T.key),d=a(T,d,S),R===null?_=T:R.sibling=T,R=T);return e&&N.forEach(function(U){return t(x,U)}),re&&Jt(x,S),_}function g(x,d,m,b){var _=Yn(m);if(typeof _!="function")throw Error(L(150));if(m=_.call(m),m==null)throw Error(L(151));for(var R=_=null,N=d,S=d=0,T=null,I=m.next();N!==null&&!I.done;S++,I=m.next()){N.index>S?(T=N,N=null):T=N.sibling;var U=h(x,N,I.value,b);if(U===null){N===null&&(N=T);break}e&&N&&U.alternate===null&&t(x,N),d=a(U,d,S),R===null?_=U:R.sibling=U,R=U,N=T}if(I.done)return n(x,N),re&&Jt(x,S),_;if(N===null){for(;!I.done;S++,I=m.next())I=p(x,I.value,b),I!==null&&(d=a(I,d,S),R===null?_=I:R.sibling=I,R=I);return re&&Jt(x,S),_}for(N=s(x,N);!I.done;S++,I=m.next())I=v(N,x,S,I.value,b),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?S:I.key),d=a(I,d,S),R===null?_=I:R.sibling=I,R=I);return e&&N.forEach(function(ee){return t(x,ee)}),re&&Jt(x,S),_}function O(x,d,m,b){if(typeof m=="object"&&m!==null&&m.type===vn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:e:{for(var _=m.key,R=d;R!==null;){if(R.key===_){if(_=m.type,_===vn){if(R.tag===7){n(x,R.sibling),d=l(R,m.props.children),d.return=x,x=d;break e}}else if(R.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Et&&hc(_)===R.type){n(x,R.sibling),d=l(R,m.props),d.ref=er(x,R,m),d.return=x,x=d;break e}n(x,R);break}else t(x,R);R=R.sibling}m.type===vn?(d=sn(m.props.children,x.mode,b,m.key),d.return=x,x=d):(b=Ls(m.type,m.key,m.props,null,x.mode,b),b.ref=er(x,d,m),b.return=x,x=b)}return i(x);case yn:e:{for(R=m.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(x,d.sibling),d=l(d,m.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=ia(m,x.mode,b),d.return=x,x=d}return i(x);case Et:return R=m._init,O(x,d,R(m._payload),b)}if(ur(m))return w(x,d,m,b);if(Yn(m))return g(x,d,m,b);os(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(x,d.sibling),d=l(d,m),d.return=x,x=d):(n(x,d),d=aa(m,x.mode,b),d.return=x,x=d),i(x)):n(x,d)}return O}var Fn=yd(!0),vd=yd(!1),Qs=qt(null),Ys=null,En=null,Vi=null;function Hi(){Vi=En=Ys=null}function Wi(e){var t=Qs.current;ne(Qs),e._currentValue=t}function Qa(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Ys=e,Vi=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(Vi!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Ys===null)throw Error(L(308));En=e,Ys.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var en=null;function qi(e){en===null?en=[e]:en.push(e)}function wd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,qi(t)):(n.next=l.next,l.next=n),t.interleaved=n,jt(e,s)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Y&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,jt(e,n)}return l=s.interleaved,l===null?(t.next=t,qi(s)):(t.next=l.next,l.next=t),s.interleaved=t,jt(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ri(e,n)}}function fc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ks(e,t,n,s){var l=e.updateQueue;Tt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?a=u:i.next=u,i=o;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==i&&(c===null?f.firstBaseUpdate=u:c.next=u,f.lastBaseUpdate=o))}if(a!==null){var p=l.baseState;i=0,f=u=o=null,c=a;do{var h=c.lane,v=c.eventTime;if((s&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,g=c;switch(h=t,v=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){p=w.call(v,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,h=typeof w=="function"?w.call(v,p,h):w,h==null)break e;p=ae({},p,h);break e;case 2:Tt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[c]:h.push(c))}else v={eventTime:v,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(u=f=v,o=p):f=f.next=v,i|=h;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;h=c,c=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(f===null&&(o=p),l.baseState=o,l.firstBaseUpdate=u,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);un|=i,e.lanes=i,e.memoizedState=p}}function pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(L(191,l));l.call(s)}}}var Qr={},ot=qt(Qr),Or=qt(Qr),Mr=qt(Qr);function tn(e){if(e===Qr)throw Error(L(174));return e}function Qi(e,t){switch(Z(Mr,t),Z(Or,e),Z(ot,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ta(t,e)}ne(ot),Z(ot,t)}function $n(){ne(ot),ne(Or),ne(Mr)}function Nd(e){tn(Mr.current);var t=tn(ot.current),n=Ta(t,e.type);t!==n&&(Z(Or,e),Z(ot,n))}function Yi(e){Or.current===e&&(ne(ot),ne(Or))}var se=qt(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function Ki(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var Cs=kt.ReactCurrentDispatcher,ta=kt.ReactCurrentBatchConfig,cn=0,le=null,he=null,me=null,Xs=!1,vr=!1,Dr=0,Fp=0;function we(){throw Error(L(321))}function Ji(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function Xi(e,t,n,s,l,a){if(cn=a,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?Vp:Hp,e=n(s,l),vr){a=0;do{if(vr=!1,Dr=0,25<=a)throw Error(L(301));a+=1,me=he=null,t.updateQueue=null,Cs.current=Wp,e=n(s,l)}while(vr)}if(Cs.current=Zs,t=he!==null&&he.next!==null,cn=0,me=he=le=null,Xs=!1,t)throw Error(L(300));return e}function Zi(){var e=Dr!==0;return Dr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?le.memoizedState=me=e:me=me.next=e,me}function qe(){if(he===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=me===null?le.memoizedState:me.next;if(t!==null)me=t,he=e;else{if(e===null)throw Error(L(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?le.memoizedState=me=e:me=me.next=e}return me}function zr(e,t){return typeof t=="function"?t(e):t}function na(e){var t=qe(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=he,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=i=null,o=null,u=a;do{var f=u.lane;if((cn&f)===f)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=p,i=s):o=o.next=p,le.lanes|=f,un|=f}u=u.next}while(u!==null&&u!==a);o===null?i=s:o.next=c,nt(s,t.memoizedState)||(_e=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,le.lanes|=a,un|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ra(e){var t=qe(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);nt(a,t.memoizedState)||(_e=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function kd(){}function bd(e,t){var n=le,s=qe(),l=t(),a=!nt(s.memoizedState,l);if(a&&(s.memoizedState=l,_e=!0),s=s.queue,eo(Ed.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Fr(9,Cd.bind(null,n,s,l,t),void 0,null),xe===null)throw Error(L(349));cn&30||Sd(n,t,l)}return l}function Sd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cd(e,t,n,s){t.value=n,t.getSnapshot=s,Td(t)&&_d(e)}function Ed(e,t,n){return n(function(){Td(t)&&_d(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function _d(e){var t=jt(e,1);t!==null&&tt(t,e,1,-1)}function mc(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Up.bind(null,le,e),[t.memoizedState,e]}function Fr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Pd(){return qe().memoizedState}function Es(e,t,n,s){var l=lt();le.flags|=e,l.memoizedState=Fr(1|t,n,void 0,s===void 0?null:s)}function pl(e,t,n,s){var l=qe();s=s===void 0?null:s;var a=void 0;if(he!==null){var i=he.memoizedState;if(a=i.destroy,s!==null&&Ji(s,i.deps)){l.memoizedState=Fr(t,n,a,s);return}}le.flags|=e,l.memoizedState=Fr(1|t,n,a,s)}function xc(e,t){return Es(8390656,8,e,t)}function eo(e,t){return pl(2048,8,e,t)}function Ld(e,t){return pl(4,2,e,t)}function Rd(e,t){return pl(4,4,e,t)}function Ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,Ad.bind(null,t,e),n)}function to(){}function Od(e,t){var n=qe();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ji(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=qe();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ji(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Dd(e,t,n){return cn&21?(nt(n,t)||(n=Uu(),le.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=n)}function $p(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var s=ta.transition;ta.transition={};try{e(!1),t()}finally{X=n,ta.transition=s}}function zd(){return qe().memoizedState}function Bp(e,t,n){var s=Ft(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Fd(e))$d(t,n);else if(n=wd(e,t,n,s),n!==null){var l=Se();tt(n,e,s,l),Bd(n,t,s)}}function Up(e,t,n){var s=Ft(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fd(e))$d(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,n);if(l.hasEagerState=!0,l.eagerState=c,nt(c,i)){var o=t.interleaved;o===null?(l.next=l,qi(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=wd(e,t,l,s),n!==null&&(l=Se(),tt(n,e,s,l),Bd(n,t,s))}}function Fd(e){var t=e.alternate;return e===le||t!==null&&t===le}function $d(e,t){vr=Xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bd(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ri(e,n)}}var Zs={readContext:We,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Vp={readContext:We,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Es(4194308,4,Ad.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=lt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bp.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:mc,useDebugValue:to,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=mc(!1),t=e[0];return e=$p.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=le,l=lt();if(re){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),xe===null)throw Error(L(349));cn&30||Sd(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,xc(Ed.bind(null,s,a,e),[e]),s.flags|=2048,Fr(9,Cd.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=lt(),t=xe.identifierPrefix;if(re){var n=mt,s=pt;n=(s&~(1<<32-et(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hp={readContext:We,useCallback:Od,useContext:We,useEffect:eo,useImperativeHandle:Id,useInsertionEffect:Ld,useLayoutEffect:Rd,useMemo:Md,useReducer:na,useRef:Pd,useState:function(){return na(zr)},useDebugValue:to,useDeferredValue:function(e){var t=qe();return Dd(t,he.memoizedState,e)},useTransition:function(){var e=na(zr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:kd,useSyncExternalStore:bd,useId:zd,unstable_isNewReconciler:!1},Wp={readContext:We,useCallback:Od,useContext:We,useEffect:eo,useImperativeHandle:Id,useInsertionEffect:Ld,useLayoutEffect:Rd,useMemo:Md,useReducer:ra,useRef:Pd,useState:function(){return ra(zr)},useDebugValue:to,useDeferredValue:function(e){var t=qe();return he===null?t.memoizedState=e:Dd(t,he.memoizedState,e)},useTransition:function(){var e=ra(zr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:kd,useSyncExternalStore:bd,useId:zd,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ya(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Se(),l=Ft(e),a=gt(s,l);a.payload=t,n!=null&&(a.callback=n),t=Dt(e,a,l),t!==null&&(tt(t,e,l,s),Ss(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Se(),l=Ft(e),a=gt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Dt(e,a,l),t!==null&&(tt(t,e,l,s),Ss(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),s=Ft(e),l=gt(n,s);l.tag=2,t!=null&&(l.callback=t),t=Dt(e,l,s),t!==null&&(tt(t,e,s,n),Ss(t,e,s))}};function gc(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,s)||!Lr(l,a):!0}function Ud(e,t,n){var s=!1,l=Vt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(l=Le(t)?an:ke.current,s=t.contextTypes,a=(s=s!=null)?Dn(e,l):Vt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function yc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Gi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=We(a):(a=Le(t)?an:ke.current,l.context=Dn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ya(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ml.enqueueReplaceState(l,l.state,null),Ks(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Bn(e,t){try{var n="",s=t;do n+=vf(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ja(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qp=typeof WeakMap=="function"?WeakMap:Map;function Vd(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){tl||(tl=!0,ii=s),Ja(e,t)},n}function Hd(e,t,n){n=gt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Ja(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ja(e,t),typeof s!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function vc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new qp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=am.bind(null,e,t,n),t.then(e,e))}function wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Dt(n,t,1))),n.lanes|=1),e)}var Gp=kt.ReactCurrentOwner,_e=!1;function be(e,t,n,s){t.child=e===null?vd(t,null,n,s):Fn(t,e.child,n,s)}function Nc(e,t,n,s,l){n=n.render;var a=t.ref;return In(t,l),s=Xi(e,t,n,s,a,l),n=Zi(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(re&&n&&$i(t),t.flags|=1,be(e,t,s,l),t.child)}function kc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!co(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Wd(e,t,a,s,l)):(e=Ls(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(i,s)&&e.ref===t.ref)return Nt(e,t,l)}return t.flags|=1,e=$t(a,s),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Lr(a,s)&&e.ref===t.ref)if(_e=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,Nt(e,t,l)}return Xa(e,t,n,s,l)}function qd(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(_n,Ae),Ae|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(_n,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Z(_n,Ae),Ae|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Z(_n,Ae),Ae|=s;return be(e,t,l,n),t.child}function Gd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xa(e,t,n,s,l){var a=Le(n)?an:ke.current;return a=Dn(t,a),In(t,l),n=Xi(e,t,n,s,a,l),s=Zi(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(re&&s&&$i(t),t.flags|=1,be(e,t,n,l),t.child)}function bc(e,t,n,s,l){if(Le(n)){var a=!0;Ws(t)}else a=!1;if(In(t,l),t.stateNode===null)Ts(e,t),Ud(t,n,s),Ka(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Le(n)?an:ke.current,u=Dn(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==u)&&yc(t,i,s,u),Tt=!1;var h=t.memoizedState;i.state=h,Ks(t,s,i,l),o=t.memoizedState,c!==s||h!==o||Pe.current||Tt?(typeof f=="function"&&(Ya(t,n,f,s),o=t.memoizedState),(c=Tt||gc(t,n,c,s,h,o,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=u,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,jd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ke(t.type,c),i.props=u,p=t.pendingProps,h=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=We(o):(o=Le(n)?an:ke.current,o=Dn(t,o));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==p||h!==o)&&yc(t,i,s,o),Tt=!1,h=t.memoizedState,i.state=h,Ks(t,s,i,l);var w=t.memoizedState;c!==p||h!==w||Pe.current||Tt?(typeof v=="function"&&(Ya(t,n,v,s),w=t.memoizedState),(u=Tt||gc(t,n,u,s,h,w,o)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,w,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,w,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),i.props=s,i.state=w,i.context=o,s=u):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Za(e,t,n,s,a,l)}function Za(e,t,n,s,l,a){Gd(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&cc(t,n,!1),Nt(e,t,a);s=t.stateNode,Gp.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Fn(t,e.child,null,a),t.child=Fn(t,null,c,a)):be(e,t,c,a),t.memoizedState=s.state,l&&cc(t,n,!0),t.child}function Qd(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),Qi(e,t.containerInfo)}function Sc(e,t,n,s,l){return zn(),Ui(l),t.flags|=256,be(e,t,n,s),t.child}var ei={dehydrated:null,treeContext:null,retryLane:0};function ti(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yd(e,t,n){var s=t.pendingProps,l=se.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(se,l&1),e===null)return Ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=yl(i,s,0,null),e=sn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ti(n),t.memoizedState=ei,e):no(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return Qp(e,t,i,s,c,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=$t(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=$t(c,a):(a=sn(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?ti(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ei,s}return a=e.child,e=a.sibling,s=$t(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function no(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cs(e,t,n,s){return s!==null&&Ui(s),Fn(t,e.child,null,n),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=sa(Error(L(422))),cs(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=yl({mode:"visible",children:s.children},l,0,null),a=sn(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Fn(t,e.child,null,i),t.child.memoizedState=ti(i),t.memoizedState=ei,a);if(!(t.mode&1))return cs(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(L(419)),s=sa(a,s,void 0),cs(e,t,i,s)}if(c=(i&e.childLanes)!==0,_e||c){if(s=xe,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,jt(e,l),tt(s,e,l,-1))}return oo(),s=sa(Error(L(421))),cs(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=im.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ie=Mt(l.nextSibling),Oe=t,re=!0,Ze=null,e!==null&&($e[Be++]=pt,$e[Be++]=mt,$e[Be++]=on,pt=e.id,mt=e.overflow,on=t),t=no(t,s.children),t.flags|=4096,t)}function Cc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Qa(e.return,t,n)}function la(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function Kd(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(be(e,t,s.children,n),s=se.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cc(e,n,t);else if(e.tag===19)Cc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Z(se,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Js(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),la(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Js(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}la(t,!0,n,null,a);break;case"together":la(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=$t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yp(e,t,n){switch(t.tag){case 3:Qd(t),zn();break;case 5:Nd(t);break;case 1:Le(t.type)&&Ws(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Z(Qs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Z(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Yd(e,t,n):(Z(se,se.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);Z(se,se.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Kd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(se,se.current),s)break;return null;case 22:case 23:return t.lanes=0,qd(e,t,n)}return Nt(e,t,n)}var Jd,ni,Xd,Zd;Jd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ni=function(){};Xd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,tn(ot.current);var a=null;switch(n){case"input":l=ba(e,l),s=ba(e,s),a=[];break;case"select":l=ae({},l,{value:void 0}),s=ae({},s,{value:void 0}),a=[];break;case"textarea":l=Ea(e,l),s=Ea(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Vs)}_a(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var c=l[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(br.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var o=s[u];if(c=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(a||(a=[]),a.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(br.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&te("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Zd=function(e,t,n,s){n!==s&&(t.flags|=4)};function tr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Kp(e,t,n){var s=t.pendingProps;switch(Bi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Le(t.type)&&Hs(),je(t),null;case 3:return s=t.stateNode,$n(),ne(Pe),ne(ke),Ki(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(ui(Ze),Ze=null))),ni(e,t),je(t),null;case 5:Yi(t);var l=tn(Mr.current);if(n=t.type,e!==null&&t.stateNode!=null)Xd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return je(t),null}if(e=tn(ot.current),is(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[at]=t,s[Ir]=a,e=(t.mode&1)!==0,n){case"dialog":te("cancel",s),te("close",s);break;case"iframe":case"object":case"embed":te("load",s);break;case"video":case"audio":for(l=0;l<hr.length;l++)te(hr[l],s);break;case"source":te("error",s);break;case"img":case"image":case"link":te("error",s),te("load",s);break;case"details":te("toggle",s);break;case"input":Oo(s,a),te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},te("invalid",s);break;case"textarea":Do(s,a),te("invalid",s)}_a(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&as(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&as(s.textContent,c,e),l=["children",""+c]):br.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&te("scroll",s)}switch(n){case"input":Xr(s),Mo(s,a,!0);break;case"textarea":Xr(s),zo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Vs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Eu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[at]=t,e[Ir]=s,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(i=Pa(n,s),n){case"dialog":te("cancel",e),te("close",e),l=s;break;case"iframe":case"object":case"embed":te("load",e),l=s;break;case"video":case"audio":for(l=0;l<hr.length;l++)te(hr[l],e);l=s;break;case"source":te("error",e),l=s;break;case"img":case"image":case"link":te("error",e),te("load",e),l=s;break;case"details":te("toggle",e),l=s;break;case"input":Oo(e,s),l=ba(e,s),te("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ae({},s,{value:void 0}),te("invalid",e);break;case"textarea":Do(e,s),l=Ea(e,s),te("invalid",e);break;default:l=s}_a(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Pu(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Tu(e,o)):a==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Sr(e,o):typeof o=="number"&&Sr(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(br.hasOwnProperty(a)?o!=null&&a==="onScroll"&&te("scroll",e):o!=null&&Ci(e,a,o,i))}switch(n){case"input":Xr(e),Mo(e,s,!1);break;case"textarea":Xr(e),zo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ut(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Pn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Pn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Zd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(n=tn(Mr.current),tn(ot.current),is(t)){if(s=t.stateNode,n=t.memoizedProps,s[at]=t,(a=s.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:as(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[at]=t,t.stateNode=s}return je(t),null;case 13:if(ne(se),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ie!==null&&t.mode&1&&!(t.flags&128))gd(),zn(),t.flags|=98560,a=!1;else if(a=is(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[at]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),a=!1}else Ze!==null&&(ui(Ze),Ze=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?fe===0&&(fe=3):oo())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return $n(),ni(e,t),e===null&&Rr(t.stateNode.containerInfo),je(t),null;case 10:return Wi(t.type._context),je(t),null;case 17:return Le(t.type)&&Hs(),je(t),null;case 19:if(ne(se),a=t.memoizedState,a===null)return je(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)tr(a,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Js(e),i!==null){for(t.flags|=128,tr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(se,se.current&1|2),t.child}e=e.sibling}a.tail!==null&&ce()>Un&&(t.flags|=128,s=!0,tr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Js(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!re)return je(t),null}else 2*ce()-a.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,s=!0,tr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ce(),t.sibling=null,n=se.current,Z(se,s?n&1|2:n&1),t):(je(t),null);case 22:case 23:return io(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ae&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Jp(e,t){switch(Bi(t),t.tag){case 1:return Le(t.type)&&Hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),ne(Pe),ne(ke),Ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yi(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return $n(),null;case 10:return Wi(t.type._context),null;case 22:case 23:return io(),null;case 24:return null;default:return null}}var us=!1,Ne=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,z=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ie(e,t,s)}else n.current=null}function ri(e,t,n){try{n()}catch(s){ie(e,t,s)}}var Ec=!1;function Zp(e,t){if($a=$s,e=sd(),Fi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var v;p!==n||l!==0&&p.nodeType!==3||(c=i+l),p!==a||s!==0&&p.nodeType!==3||(o=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)h=p,p=v;for(;;){if(p===e)break t;if(h===n&&++u===l&&(c=i),h===a&&++f===s&&(o=i),(v=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=v}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},$s=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,O=w.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ke(t.type,g),O);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=Ec,Ec=!1,w}function wr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ri(t,n,a)}l=l.next}while(l!==s)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function si(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eh(e){var t=e.alternate;t!==null&&(e.alternate=null,eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Ir],delete t[Ha],delete t[Op],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function th(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function li(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vs));else if(s!==4&&(e=e.child,e!==null))for(li(e,t,n),e=e.sibling;e!==null;)li(e,t,n),e=e.sibling}function ai(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ai(e,t,n),e=e.sibling;e!==null;)ai(e,t,n),e=e.sibling}var ge=null,Je=!1;function St(e,t,n){for(n=n.child;n!==null;)nh(e,t,n),n=n.sibling}function nh(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ol,n)}catch{}switch(n.tag){case 5:Ne||Tn(n,t);case 6:var s=ge,l=Je;ge=null,St(e,t,n),ge=s,Je=l,ge!==null&&(Je?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Je?(e=ge,n=n.stateNode,e.nodeType===8?Xl(e.parentNode,n):e.nodeType===1&&Xl(e,n),_r(e)):Xl(ge,n.stateNode));break;case 4:s=ge,l=Je,ge=n.stateNode.containerInfo,Je=!0,St(e,t,n),ge=s,Je=l;break;case 0:case 11:case 14:case 15:if(!Ne&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ri(n,t,i),l=l.next}while(l!==s)}St(e,t,n);break;case 1:if(!Ne&&(Tn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){ie(n,t,c)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(Ne=(s=Ne)||n.memoizedState!==null,St(e,t,n),Ne=s):St(e,t,n);break;default:St(e,t,n)}}function _c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xp),t.forEach(function(s){var l=om.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:ge=c.stateNode,Je=!1;break e;case 3:ge=c.stateNode.containerInfo,Je=!0;break e;case 4:ge=c.stateNode.containerInfo,Je=!0;break e}c=c.return}if(ge===null)throw Error(L(160));nh(a,i,l),ge=null,Je=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(u){ie(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),rt(e),s&4){try{wr(3,e,e.return),xl(3,e)}catch(g){ie(e,e.return,g)}try{wr(5,e,e.return)}catch(g){ie(e,e.return,g)}}break;case 1:Ye(t,e),rt(e),s&512&&n!==null&&Tn(n,n.return);break;case 5:if(Ye(t,e),rt(e),s&512&&n!==null&&Tn(n,n.return),e.flags&32){var l=e.stateNode;try{Sr(l,"")}catch(g){ie(e,e.return,g)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Su(l,a),Pa(c,i);var u=Pa(c,a);for(i=0;i<o.length;i+=2){var f=o[i],p=o[i+1];f==="style"?Pu(l,p):f==="dangerouslySetInnerHTML"?Tu(l,p):f==="children"?Sr(l,p):Ci(l,f,p,u)}switch(c){case"input":Sa(l,a);break;case"textarea":Cu(l,a);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Pn(l,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?Pn(l,!!a.multiple,a.defaultValue,!0):Pn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Ir]=a}catch(g){ie(e,e.return,g)}}break;case 6:if(Ye(t,e),rt(e),s&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(g){ie(e,e.return,g)}}break;case 3:if(Ye(t,e),rt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(g){ie(e,e.return,g)}break;case 4:Ye(t,e),rt(e);break;case 13:Ye(t,e),rt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(lo=ce())),s&4&&_c(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||f,Ye(t,e),Ne=u):Ye(t,e),rt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(p=z=f;z!==null;){switch(h=z,v=h.child,h.tag){case 0:case 11:case 14:case 15:wr(4,h,h.return);break;case 1:Tn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){ie(s,n,g)}}break;case 5:Tn(h,h.return);break;case 22:if(h.memoizedState!==null){Lc(p);continue}}v!==null?(v.return=h,z=v):Lc(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{l=p.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=p.stateNode,o=p.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=_u("display",i))}catch(g){ie(e,e.return,g)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){ie(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ye(t,e),rt(e),s&4&&_c(e);break;case 21:break;default:Ye(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(th(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Sr(l,""),s.flags&=-33);var a=Tc(e);ai(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Tc(e);li(e,c,i);break;default:throw Error(L(161))}}catch(o){ie(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function em(e,t,n){z=e,sh(e)}function sh(e,t,n){for(var s=(e.mode&1)!==0;z!==null;){var l=z,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||us;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||Ne;c=us;var u=Ne;if(us=i,(Ne=o)&&!u)for(z=l;z!==null;)i=z,o=i.child,i.tag===22&&i.memoizedState!==null?Rc(l):o!==null?(o.return=i,z=o):Rc(l);for(;a!==null;)z=a,sh(a),a=a.sibling;z=l,us=c,Ne=u}Pc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,z=a):Pc(e)}}function Pc(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||xl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ne)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&pc(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pc(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_r(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ne||t.flags&512&&si(t)}catch(h){ie(t,t.return,h)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Lc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Rc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(o){ie(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){ie(t,l,o)}}var a=t.return;try{si(t)}catch(o){ie(t,a,o)}break;case 5:var i=t.return;try{si(t)}catch(o){ie(t,i,o)}}}catch(o){ie(t,t.return,o)}if(t===e){z=null;break}var c=t.sibling;if(c!==null){c.return=t.return,z=c;break}z=t.return}}var tm=Math.ceil,el=kt.ReactCurrentDispatcher,ro=kt.ReactCurrentOwner,He=kt.ReactCurrentBatchConfig,Y=0,xe=null,ue=null,ye=0,Ae=0,_n=qt(0),fe=0,$r=null,un=0,gl=0,so=0,jr=null,Te=null,lo=0,Un=1/0,ht=null,tl=!1,ii=null,zt=null,ds=!1,Rt=null,nl=0,Nr=0,oi=null,_s=-1,Ps=0;function Se(){return Y&6?ce():_s!==-1?_s:_s=ce()}function Ft(e){return e.mode&1?Y&2&&ye!==0?ye&-ye:zp.transition!==null?(Ps===0&&(Ps=Uu()),Ps):(e=X,e!==0||(e=window.event,e=e===void 0?16:Yu(e.type)),e):1}function tt(e,t,n,s){if(50<Nr)throw Nr=0,oi=null,Error(L(185));Wr(e,n,s),(!(Y&2)||e!==xe)&&(e===xe&&(!(Y&2)&&(gl|=n),fe===4&&Pt(e,ye)),Re(e,s),n===1&&Y===0&&!(t.mode&1)&&(Un=ce()+500,fl&&Gt()))}function Re(e,t){var n=e.callbackNode;zf(e,t);var s=Fs(e,e===xe?ye:0);if(s===0)n!==null&&Bo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Bo(n),t===1)e.tag===0?Dp(Ac.bind(null,e)):pd(Ac.bind(null,e)),Ap(function(){!(Y&6)&&Gt()}),n=null;else{switch(Vu(s)){case 1:n=Li;break;case 4:n=$u;break;case 16:n=zs;break;case 536870912:n=Bu;break;default:n=zs}n=hh(n,lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lh(e,t){if(_s=-1,Ps=0,Y&6)throw Error(L(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var s=Fs(e,e===xe?ye:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=rl(e,s);else{t=s;var l=Y;Y|=2;var a=ih();(xe!==e||ye!==t)&&(ht=null,Un=ce()+500,rn(e,t));do try{sm();break}catch(c){ah(e,c)}while(!0);Hi(),el.current=a,Y=l,ue!==null?t=0:(xe=null,ye=0,t=fe)}if(t!==0){if(t===2&&(l=Oa(e),l!==0&&(s=l,t=ci(e,l))),t===1)throw n=$r,rn(e,0),Pt(e,s),Re(e,ce()),n;if(t===6)Pt(e,s);else{if(l=e.current.alternate,!(s&30)&&!nm(l)&&(t=rl(e,s),t===2&&(a=Oa(e),a!==0&&(s=a,t=ci(e,a))),t===1))throw n=$r,rn(e,0),Pt(e,s),Re(e,ce()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:Xt(e,Te,ht);break;case 3:if(Pt(e,s),(s&130023424)===s&&(t=lo+500-ce(),10<t)){if(Fs(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Se(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Va(Xt.bind(null,e,Te,ht),t);break}Xt(e,Te,ht);break;case 4:if(Pt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-et(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=ce()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tm(s/1960))-s,10<s){e.timeoutHandle=Va(Xt.bind(null,e,Te,ht),s);break}Xt(e,Te,ht);break;case 5:Xt(e,Te,ht);break;default:throw Error(L(329))}}}return Re(e,ce()),e.callbackNode===n?lh.bind(null,e):null}function ci(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(rn(e,t).flags|=256),e=rl(e,t),e!==2&&(t=Te,Te=n,t!==null&&ui(t)),e}function ui(e){Te===null?Te=e:Te.push.apply(Te,e)}function nm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!nt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~so,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),s=1<<n;e[n]=-1,t&=~s}}function Ac(e){if(Y&6)throw Error(L(327));On();var t=Fs(e,0);if(!(t&1))return Re(e,ce()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var s=Oa(e);s!==0&&(t=s,n=ci(e,s))}if(n===1)throw n=$r,rn(e,0),Pt(e,t),Re(e,ce()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Te,ht),Re(e,ce()),null}function ao(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Un=ce()+500,fl&&Gt())}}function dn(e){Rt!==null&&Rt.tag===0&&!(Y&6)&&On();var t=Y;Y|=1;var n=He.transition,s=X;try{if(He.transition=null,X=1,e)return e()}finally{X=s,He.transition=n,Y=t,!(Y&6)&&Gt()}}function io(){Ae=_n.current,ne(_n)}function rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rp(n)),ue!==null)for(n=ue.return;n!==null;){var s=n;switch(Bi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hs();break;case 3:$n(),ne(Pe),ne(ke),Ki();break;case 5:Yi(s);break;case 4:$n();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Wi(s.type._context);break;case 22:case 23:io()}n=n.return}if(xe=e,ue=e=$t(e.current,null),ye=Ae=t,fe=0,$r=null,so=gl=un=0,Te=jr=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}en=null}return e}function ah(e,t){do{var n=ue;try{if(Hi(),Cs.current=Zs,Xs){for(var s=le.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Xs=!1}if(cn=0,me=he=le=null,vr=!1,Dr=0,ro.current=null,n===null||n.return===null){fe=1,$r=t,ue=null;break}e:{var a=e,i=n.return,c=n,o=t;if(t=ye,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=wc(i);if(v!==null){v.flags&=-257,jc(v,i,c,a,t),v.mode&1&&vc(a,u,t),t=v,o=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(o),t.updateQueue=g}else w.add(o);break e}else{if(!(t&1)){vc(a,u,t),oo();break e}o=Error(L(426))}}else if(re&&c.mode&1){var O=wc(i);if(O!==null){!(O.flags&65536)&&(O.flags|=256),jc(O,i,c,a,t),Ui(Bn(o,c));break e}}a=o=Bn(o,c),fe!==4&&(fe=2),jr===null?jr=[a]:jr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Vd(a,o,t);fc(a,x);break e;case 1:c=o;var d=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zt===null||!zt.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Hd(a,c,t);fc(a,b);break e}}a=a.return}while(a!==null)}ch(n)}catch(_){t=_,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function ih(){var e=el.current;return el.current=Zs,e===null?Zs:e}function oo(){(fe===0||fe===3||fe===2)&&(fe=4),xe===null||!(un&268435455)&&!(gl&268435455)||Pt(xe,ye)}function rl(e,t){var n=Y;Y|=2;var s=ih();(xe!==e||ye!==t)&&(ht=null,rn(e,t));do try{rm();break}catch(l){ah(e,l)}while(!0);if(Hi(),Y=n,el.current=s,ue!==null)throw Error(L(261));return xe=null,ye=0,fe}function rm(){for(;ue!==null;)oh(ue)}function sm(){for(;ue!==null&&!_f();)oh(ue)}function oh(e){var t=dh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?ch(e):ue=t,ro.current=null}function ch(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jp(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(n=Kp(n,t,Ae),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function Xt(e,t,n){var s=X,l=He.transition;try{He.transition=null,X=1,lm(e,t,n,s)}finally{He.transition=l,X=s}return null}function lm(e,t,n,s){do On();while(Rt!==null);if(Y&6)throw Error(L(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ff(e,a),e===xe&&(ue=xe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,hh(zs,function(){return On(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=He.transition,He.transition=null;var i=X;X=1;var c=Y;Y|=4,ro.current=null,Zp(e,n),rh(n,e),Sp(Ba),$s=!!$a,Ba=$a=null,e.current=n,em(n),Pf(),Y=c,X=i,He.transition=a}else e.current=n;if(ds&&(ds=!1,Rt=e,nl=l),a=e.pendingLanes,a===0&&(zt=null),Af(n.stateNode),Re(e,ce()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(tl)throw tl=!1,e=ii,ii=null,e;return nl&1&&e.tag!==0&&On(),a=e.pendingLanes,a&1?e===oi?Nr++:(Nr=0,oi=e):Nr=0,Gt(),null}function On(){if(Rt!==null){var e=Vu(nl),t=He.transition,n=X;try{if(He.transition=null,X=16>e?16:e,Rt===null)var s=!1;else{if(e=Rt,Rt=null,nl=0,Y&6)throw Error(L(331));var l=Y;for(Y|=4,z=e.current;z!==null;){var a=z,i=a.child;if(z.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(z=u;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:wr(8,f,a)}var p=f.child;if(p!==null)p.return=f,z=p;else for(;z!==null;){f=z;var h=f.sibling,v=f.return;if(eh(f),f===u){z=null;break}if(h!==null){h.return=v,z=h;break}z=v}}}var w=a.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var O=g.sibling;g.sibling=null,g=O}while(g!==null)}}z=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,z=i;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wr(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,z=x;break e}z=a.return}}var d=e.current;for(z=d;z!==null;){i=z;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,z=m;else e:for(i=d;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:xl(9,c)}}catch(_){ie(c,c.return,_)}if(c===i){z=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,z=b;break e}z=c.return}}if(Y=l,Gt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ol,e)}catch{}s=!0}return s}finally{X=n,He.transition=t}}return!1}function Ic(e,t,n){t=Bn(n,t),t=Vd(e,t,1),e=Dt(e,t,1),t=Se(),e!==null&&(Wr(e,1,t),Re(e,t))}function ie(e,t,n){if(e.tag===3)Ic(e,e,n);else for(;t!==null;){if(t.tag===3){Ic(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zt===null||!zt.has(s))){e=Bn(n,e),e=Hd(t,e,1),t=Dt(t,e,1),e=Se(),t!==null&&(Wr(t,1,e),Re(t,e));break}}t=t.return}}function am(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ce()-lo?rn(e,0):so|=n),Re(e,t)}function uh(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var n=Se();e=jt(e,t),e!==null&&(Wr(e,t,n),Re(e,n))}function im(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uh(e,n)}function om(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),uh(e,n)}var dh;dh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)_e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _e=!1,Yp(e,t,n);_e=!!(e.flags&131072)}else _e=!1,re&&t.flags&1048576&&md(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ts(e,t),e=t.pendingProps;var l=Dn(t,ke.current);In(t,n),l=Xi(null,t,s,e,l,n);var a=Zi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(s)?(a=!0,Ws(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Gi(t),l.updater=ml,t.stateNode=l,l._reactInternals=t,Ka(t,s,e,n),t=Za(null,t,s,!0,a,n)):(t.tag=0,re&&a&&$i(t),be(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=um(s),e=Ke(s,e),l){case 0:t=Xa(null,t,s,e,n);break e;case 1:t=bc(null,t,s,e,n);break e;case 11:t=Nc(null,t,s,e,n);break e;case 14:t=kc(null,t,s,Ke(s.type,e),n);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),Xa(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),bc(e,t,s,l,n);case 3:e:{if(Qd(t),e===null)throw Error(L(387));s=t.pendingProps,a=t.memoizedState,l=a.element,jd(e,t),Ks(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Bn(Error(L(423)),t),t=Sc(e,t,s,n,l);break e}else if(s!==l){l=Bn(Error(L(424)),t),t=Sc(e,t,s,n,l);break e}else for(Ie=Mt(t.stateNode.containerInfo.firstChild),Oe=t,re=!0,Ze=null,n=vd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),s===l){t=Nt(e,t,n);break e}be(e,t,s,n)}t=t.child}return t;case 5:return Nd(t),e===null&&Ga(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Ua(s,l)?i=null:a!==null&&Ua(s,a)&&(t.flags|=32),Gd(e,t),be(e,t,i,n),t.child;case 6:return e===null&&Ga(t),null;case 13:return Yd(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fn(t,null,s,n):be(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),Nc(e,t,s,l,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,Z(Qs,s._currentValue),s._currentValue=i,a!==null)if(nt(a.value,i)){if(a.children===l.children&&!Pe.current){t=Nt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(a.tag===1){o=gt(-1,n&-n),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?o.next=o:(o.next=f.next,f.next=o),u.pending=o}}a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Qa(a.return,n,t),c.lanes|=n;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(L(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Qa(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,In(t,n),l=We(l),s=s(l),t.flags|=1,be(e,t,s,n),t.child;case 14:return s=t.type,l=Ke(s,t.pendingProps),l=Ke(s.type,l),kc(e,t,s,l,n);case 15:return Wd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),Ts(e,t),t.tag=1,Le(s)?(e=!0,Ws(t)):e=!1,In(t,n),Ud(t,s,l),Ka(t,s,l,n),Za(null,t,s,!0,e,n);case 19:return Kd(e,t,n);case 22:return qd(e,t,n)}throw Error(L(156,t.tag))};function hh(e,t){return Fu(e,t)}function cm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,s){return new cm(e,t,n,s)}function co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function um(e){if(typeof e=="function")return co(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ti)return 11;if(e===_i)return 14}return 2}function $t(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ls(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")co(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vn:return sn(n.children,l,a,t);case Ei:i=8,l|=8;break;case wa:return e=Ve(12,n,t,l|2),e.elementType=wa,e.lanes=a,e;case ja:return e=Ve(13,n,t,l),e.elementType=ja,e.lanes=a,e;case Na:return e=Ve(19,n,t,l),e.elementType=Na,e.lanes=a,e;case Nu:return yl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wu:i=10;break e;case ju:i=9;break e;case Ti:i=11;break e;case _i:i=14;break e;case Et:i=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ve(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function sn(e,t,n,s){return e=Ve(7,e,s,t),e.lanes=n,e}function yl(e,t,n,s){return e=Ve(22,e,s,t),e.elementType=Nu,e.lanes=n,e.stateNode={isHidden:!1},e}function aa(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function ia(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dm(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function uo(e,t,n,s,l,a,i,c,o){return e=new dm(e,t,n,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ve(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gi(a),e}function hm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function fh(e){if(!e)return Vt;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Le(n))return fd(e,n,t)}return t}function ph(e,t,n,s,l,a,i,c,o){return e=uo(n,s,!0,e,l,a,i,c,o),e.context=fh(null),n=e.current,s=Se(),l=Ft(n),a=gt(s,l),a.callback=t??null,Dt(n,a,l),e.current.lanes=l,Wr(e,l,s),Re(e,s),e}function vl(e,t,n,s){var l=t.current,a=Se(),i=Ft(l);return n=fh(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Dt(l,t,i),e!==null&&(tt(e,l,i,a),Ss(e,l,i)),i}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ho(e,t){Oc(e,t),(e=e.alternate)&&Oc(e,t)}function fm(){return null}var mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function fo(e){this._internalRoot=e}wl.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));vl(e,t,null,null)};wl.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){vl(null,e,null,null)}),t[wt]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&t!==0&&t<_t[n].priority;n++);_t.splice(n,0,e),n===0&&Qu(e)}};function po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function pm(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=sl(i);a.call(u)}}var i=ph(t,s,e,0,null,!1,!1,"",Mc);return e._reactRootContainer=i,e[wt]=i.current,Rr(e.nodeType===8?e.parentNode:e),dn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var u=sl(o);c.call(u)}}var o=uo(e,0,!1,null,null,!1,!1,"",Mc);return e._reactRootContainer=o,e[wt]=o.current,Rr(e.nodeType===8?e.parentNode:e),dn(function(){vl(t,o,n,s)}),o}function Nl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=sl(i);c.call(o)}}vl(t,i,e,l)}else i=pm(n,t,e,l,s);return sl(i)}Hu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dr(t.pendingLanes);n!==0&&(Ri(t,n|1),Re(t,ce()),!(Y&6)&&(Un=ce()+500,Gt()))}break;case 13:dn(function(){var s=jt(e,1);if(s!==null){var l=Se();tt(s,e,1,l)}}),ho(e,1)}};Ai=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Se();tt(t,e,134217728,n)}ho(e,134217728)}};Wu=function(e){if(e.tag===13){var t=Ft(e),n=jt(e,t);if(n!==null){var s=Se();tt(n,e,t,s)}ho(e,t)}};qu=function(){return X};Gu=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};Ra=function(e,t,n){switch(t){case"input":if(Sa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=hl(s);if(!l)throw Error(L(90));bu(s),Sa(s,l)}}}break;case"textarea":Cu(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};Au=ao;Iu=dn;var mm={usingClientEntryPoint:!1,Events:[Gr,kn,hl,Lu,Ru,ao]},nr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:nr.bundleType,version:nr.version,rendererPackageName:nr.rendererPackageName,rendererConfig:nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Du(e),e===null?null:e.stateNode},findFiberByHostInstance:nr.findFiberByHostInstance||fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ol=hs.inject(xm),it=hs}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!po(t))throw Error(L(200));return hm(e,t,null,n)};De.createRoot=function(e,t){if(!po(e))throw Error(L(299));var n=!1,s="",l=mh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=uo(e,1,!1,null,null,n,!1,s,l),e[wt]=t.current,Rr(e.nodeType===8?e.parentNode:e),new fo(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Du(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return dn(e)};De.hydrate=function(e,t,n){if(!jl(t))throw Error(L(200));return Nl(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!po(e))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=mh;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ph(t,null,e,1,n??null,l,!1,a,i),e[wt]=t.current,Rr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new wl(t)};De.render=function(e,t,n){if(!jl(t))throw Error(L(200));return Nl(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!jl(e))throw Error(L(40));return e._reactRootContainer?(dn(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};De.unstable_batchedUpdates=ao;De.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!jl(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Nl(e,t,n,!1,s)};De.version="18.3.1-next-f1338f8080-20240426";function xh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xh)}catch(e){console.error(e)}}xh(),xu.exports=De;var gm=xu.exports,Dc=gm;ya.createRoot=Dc.createRoot,ya.hydrateRoot=Dc.hydrateRoot;const dt=Object.create(null);dt.open="0";dt.close="1";dt.ping="2";dt.pong="3";dt.message="4";dt.upgrade="5";dt.noop="6";const Rs=Object.create(null);Object.keys(dt).forEach(e=>{Rs[dt[e]]=e});const di={type:"error",data:"parser error"},gh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yh=typeof ArrayBuffer=="function",vh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,mo=({type:e,data:t},n,s)=>gh&&t instanceof Blob?n?s(t):zc(t,s):yh&&(t instanceof ArrayBuffer||vh(t))?n?s(t):zc(new Blob([t]),s):s(dt[e]+(t||"")),zc=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Fc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let oa;function ym(e,t){if(gh&&e.data instanceof Blob)return e.data.arrayBuffer().then(Fc).then(t);if(yh&&(e.data instanceof ArrayBuffer||vh(e.data)))return t(Fc(e.data));mo(e,!1,n=>{oa||(oa=new TextEncoder),t(oa.encode(n))})}const $c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<$c.length;e++)fr[$c.charCodeAt(e)]=e;const vm=e=>{let t=e.length*.75,n=e.length,s,l=0,a,i,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(s=0;s<n;s+=4)a=fr[e.charCodeAt(s)],i=fr[e.charCodeAt(s+1)],c=fr[e.charCodeAt(s+2)],o=fr[e.charCodeAt(s+3)],f[l++]=a<<2|i>>4,f[l++]=(i&15)<<4|c>>2,f[l++]=(c&3)<<6|o&63;return u},wm=typeof ArrayBuffer=="function",xo=(e,t)=>{if(typeof e!="string")return{type:"message",data:wh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:jm(e.substring(1),t)}:Rs[n]?e.length>1?{type:Rs[n],data:e.substring(1)}:{type:Rs[n]}:di},jm=(e,t)=>{if(wm){const n=vm(e);return wh(n,t)}else return{base64:!0,data:e}},wh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},jh="",Nm=(e,t)=>{const n=e.length,s=new Array(n);let l=0;e.forEach((a,i)=>{mo(a,!1,c=>{s[i]=c,++l===n&&t(s.join(jh))})})},km=(e,t)=>{const n=e.split(jh),s=[];for(let l=0;l<n.length;l++){const a=xo(n[l],t);if(s.push(a),a.type==="error")break}return s};function bm(){return new TransformStream({transform(e,t){ym(e,n=>{const s=n.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const a=new DataView(l.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{l=new Uint8Array(9);const a=new DataView(l.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(n)})}})}let ca;function fs(e){return e.reduce((t,n)=>t+n.length,0)}function ps(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let l=0;l<t;l++)n[l]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Sm(e,t){ca||(ca=new TextDecoder);const n=[];let s=0,l=-1,a=!1;return new TransformStream({transform(i,c){for(n.push(i);;){if(s===0){if(fs(n)<1)break;const o=ps(n,1);a=(o[0]&128)===128,l=o[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(fs(n)<2)break;const o=ps(n,2);l=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),s=3}else if(s===2){if(fs(n)<8)break;const o=ps(n,8),u=new DataView(o.buffer,o.byteOffset,o.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(di);break}l=f*Math.pow(2,32)+u.getUint32(4),s=3}else{if(fs(n)<l)break;const o=ps(n,l);c.enqueue(xo(a?o:ca.decode(o),t)),s=0}if(l===0||l>e){c.enqueue(di);break}}}})}const Nh=4;function de(e){if(e)return Cm(e)}function Cm(e){for(var t in de.prototype)e[t]=de.prototype[t];return e}de.prototype.on=de.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};de.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};de.prototype.off=de.prototype.removeListener=de.prototype.removeAllListeners=de.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,l=0;l<n.length;l++)if(s=n[l],s===t||s.fn===t){n.splice(l,1);break}return n.length===0&&delete this._callbacks["$"+e],this};de.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,l=n.length;s<l;++s)n[s].apply(this,t)}return this};de.prototype.emitReserved=de.prototype.emit;de.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};de.prototype.hasListeners=function(e){return!!this.listeners(e).length};const kl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ue=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Em="arraybuffer";function kh(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Tm=Ue.setTimeout,_m=Ue.clearTimeout;function bl(e,t){t.useNativeTimers?(e.setTimeoutFn=Tm.bind(Ue),e.clearTimeoutFn=_m.bind(Ue)):(e.setTimeoutFn=Ue.setTimeout.bind(Ue),e.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const Pm=1.33;function Lm(e){return typeof e=="string"?Rm(e):Math.ceil((e.byteLength||e.size)*Pm)}function Rm(e){let t=0,n=0;for(let s=0,l=e.length;s<l;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function bh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Am(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Im(e){let t={},n=e.split("&");for(let s=0,l=n.length;s<l;s++){let a=n[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Om extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class go extends de{constructor(t){super(),this.writable=!1,bl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new Om(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=xo(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Am(t);return n.length?"?"+n:""}}class Mm extends go{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};km(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Nm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=bh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Sh=!1;try{Sh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Dm=Sh;function zm(){}class Fm extends Mm{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(l,a)=>{this.onError("xhr post error",l,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class ct extends de{constructor(t,n,s){super(),this.createRequest=t,bl(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=kh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=ct.requestsCount++,ct.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=zm,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ct.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ct.requestsCount=0;ct.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bc);else if(typeof addEventListener=="function"){const e="onpagehide"in Ue?"pagehide":"unload";addEventListener(e,Bc,!1)}}function Bc(){for(let e in ct.requests)ct.requests.hasOwnProperty(e)&&ct.requests[e].abort()}const $m=function(){const e=Ch({xdomain:!1});return e&&e.responseType!==null}();class Bm extends Fm{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=$m&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ct(Ch,this.uri(),t)}}function Ch(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Dm))return new XMLHttpRequest}catch{}if(!t)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Eh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Um extends go{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=Eh?{}:kh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],l=n===t.length-1;mo(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}l&&kl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=bh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ua=Ue.WebSocket||Ue.MozWebSocket;class Vm extends Um{createSocket(t,n,s){return Eh?new ua(t,n,s):n?new ua(t,n):new ua(t)}doWrite(t,n){this.ws.send(n)}}class Hm extends go{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Sm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),l=bm();l.readable.pipeTo(t.writable),this._writer=l.writable.getWriter();const a=()=>{s.read().then(({done:c,value:o})=>{c||(this.onPacket(o),a())}).catch(c=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],l=n===t.length-1;this._writer.write(s).then(()=>{l&&kl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Wm={websocket:Vm,webtransport:Hm,polling:Bm},qm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hi(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let l=qm.exec(e||""),a={},i=14;for(;i--;)a[Gm[i]]=l[i]||"";return n!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Qm(a,a.path),a.queryKey=Ym(a,a.query),a}function Qm(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Ym(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,a){l&&(n[l]=a)}),n}const fi=typeof addEventListener=="function"&&typeof removeEventListener=="function",As=[];fi&&addEventListener("offline",()=>{As.forEach(e=>e())},!1);class Bt extends de{constructor(t,n){if(super(),this.binaryType=Em,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=hi(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=hi(n.host).host);bl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Im(this.opts.query)),fi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},As.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Nh,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Bt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Bt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(n+=Lm(l)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,kl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,l){if(typeof n=="function"&&(l=n,n=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:t,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Bt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=As.indexOf(this._offlineEventListener);s!==-1&&As.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Bt.protocol=Nh;class Km extends Bt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;Bt.priorWebsocketSuccess=!1;const l=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!s)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Bt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function a(){s||(s=!0,f(),n.close(),n=null)}const i=p=>{const h=new Error("probe error: "+p);h.transport=n.name,a(),this.emitReserved("upgradeError",h)};function c(){i("transport closed")}function o(){i("socket closed")}function u(p){n&&p.name!==n.name&&a()}const f=()=>{n.removeListener("open",l),n.removeListener("error",i),n.removeListener("close",c),this.off("close",o),this.off("upgrading",u)};n.once("open",l),n.once("error",i),n.once("close",c),this.once("close",o),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let Jm=class extends Km{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>Wm[l]).filter(l=>!!l)),super(t,s)}};function Xm(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=hi(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const Zm=typeof ArrayBuffer=="function",e0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Th=Object.prototype.toString,t0=typeof Blob=="function"||typeof Blob<"u"&&Th.call(Blob)==="[object BlobConstructor]",n0=typeof File=="function"||typeof File<"u"&&Th.call(File)==="[object FileConstructor]";function yo(e){return Zm&&(e instanceof ArrayBuffer||e0(e))||t0&&e instanceof Blob||n0&&e instanceof File}function Is(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Is(e[n]))return!0;return!1}if(yo(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Is(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Is(e[n]))return!0;return!1}function r0(e){const t=[],n=e.data,s=e;return s.data=pi(n,t),s.attachments=t.length,{packet:s,buffers:t}}function pi(e,t){if(!e)return e;if(yo(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=pi(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=pi(e[s],t));return n}return e}function s0(e,t){return e.data=mi(e.data,t),delete e.attachments,e}function mi(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=mi(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=mi(e[n],t));return e}const l0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var G;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(G||(G={}));class a0{constructor(t){this.replacer=t}encode(t){return(t.type===G.EVENT||t.type===G.ACK)&&Is(t)?this.encodeAsBinary({type:t.type===G.EVENT?G.BINARY_EVENT:G.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===G.BINARY_EVENT||t.type===G.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=r0(t),s=this.encodeAsString(n.packet),l=n.buffers;return l.unshift(s),l}}class vo extends de{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===G.BINARY_EVENT;s||n.type===G.BINARY_ACK?(n.type=s?G.EVENT:G.ACK,this.reconstructor=new i0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(yo(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(G[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===G.BINARY_EVENT||s.type===G.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(a,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(a,n)}else s.nsp="/";const l=t.charAt(n+1);if(l!==""&&Number(l)==l){const a=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(vo.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case G.CONNECT:return Uc(n);case G.DISCONNECT:return n===void 0;case G.CONNECT_ERROR:return typeof n=="string"||Uc(n);case G.EVENT:case G.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&l0.indexOf(n[0])===-1);case G.ACK:case G.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class i0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=s0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Uc(e){return Object.prototype.toString.call(e)==="[object Object]"}const o0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vo,Encoder:a0,get PacketType(){return G}},Symbol.toStringTag,{value:"Module"}));function Xe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const c0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _h extends de{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xe(t,"open",this.onopen.bind(this)),Xe(t,"packet",this.onpacket.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,l,a;if(c0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:G.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,p=n.pop();this._registerAckCallback(f,p),i.id=f}const c=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,o=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},l),i=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,l)=>{const a=(i,c)=>i?l(i):s(c);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...a)=>(this._queue[0],l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(l)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:G.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case G.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case G.EVENT:case G.BINARY_EVENT:this.onevent(t);break;case G.ACK:case G.BINARY_ACK:this.onack(t);break;case G.DISCONNECT:this.ondisconnect();break;case G.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...l){s||(s=!0,n.packet({type:G.ACK,id:t,data:l}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:G.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Qn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Qn.prototype.reset=function(){this.attempts=0};Qn.prototype.setMin=function(e){this.ms=e};Qn.prototype.setMax=function(e){this.max=e};Qn.prototype.setJitter=function(e){this.jitter=e};class xi extends de{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,bl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Qn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const l=n.parser||o0;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jm(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=Xe(n,"open",function(){s.onopen(),t&&t()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},i=Xe(n,"error",a);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{l(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(l),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xe(t,"ping",this.onping.bind(this)),Xe(t,"data",this.ondata.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this)),Xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){kl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new _h(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const rr={};function kr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Xm(e,t.path||"/socket.io"),s=n.source,l=n.id,a=n.path,i=rr[l]&&a in rr[l].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let o;return c?o=new xi(s,t):(rr[l]||(rr[l]=new xi(s,t)),o=rr[l]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(kr,{Manager:xi,Socket:_h,io:kr,connect:kr});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:c="",children:o,...u},f)=>y.createElement("svg",{ref:f,...u0,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${d0(e)}`,c].join(" "),...u},[...t.map(([p,h])=>y.createElement(p,h)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=M("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=M("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=M("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=M("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=M("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=M("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=M("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=M("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=M("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=M("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=M("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=M("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=M("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=M("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=M("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=M("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=M("Grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=M("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=M("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=M("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=M("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=M("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=M("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=M("MonitorOff",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=M("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=M("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=M("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=M("ParkingCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=M("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=M("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=M("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=M("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=M("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=M("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=M("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=M("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=M("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=M("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=M("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=M("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=M("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=M("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=M("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=M("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=M("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=M("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=M("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Tl({config:e}){const[t,n]=y.useState(new Date);y.useEffect(()=>{const a=setInterval(()=>n(new Date),1e3);return()=>clearInterval(a)},[]);const s=()=>{const a={hour:"2-digit",minute:"2-digit",...e.showSeconds&&{second:"2-digit"},hour12:e.format==="12h",...e.timezone&&{timeZone:e.timezone}};return t.toLocaleTimeString("en-GB",a)},l=()=>t.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric",...e.timezone&&{timeZone:e.timezone}});return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[r.jsx("div",{className:"text-[12vw] font-light tracking-tight text-white leading-none",children:s()}),e.showDate!==!1&&r.jsx("div",{className:"text-[2.5vw] text-gray-400 mt-4",children:l()})]})}function _l({config:e}){const[t,n]=y.useState(!1),[s,l]=y.useState(""),a=y.useRef(null),i=e.go2rtcHost||`${window.location.hostname}:1984`,c=e.mode||"jpeg",o=e.refreshInterval||2e3;y.useEffect(()=>{if(c==="jpeg"){const p=()=>{const v=`http://${i}/api/frame.jpeg?src=${encodeURIComponent(e.src)}&t=${Date.now()}`;l(v)};p();const h=setInterval(p,o);return()=>clearInterval(h)}},[e.src,i,c,o]);const u=()=>{n(!0)},f=()=>{n(!1)};if(c==="mse"||c==="webrtc"){const p=`http://${i}/stream.html?src=${encodeURIComponent(e.src)}&mode=${c}`;return r.jsxs("div",{className:"relative w-full h-full bg-black",children:[r.jsx("iframe",{src:p,className:"w-full h-full border-0",allow:"autoplay"}),e.showLabel&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsx("span",{className:"text-white text-lg font-medium",children:e.src})})]})}return r.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[t?r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(wo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("div",{children:"Camera unavailable"}),r.jsx("div",{className:"text-sm mt-1",children:e.src})]}):r.jsx("img",{ref:a,src:s,alt:e.src,className:"max-w-full max-h-full object-contain",onError:u,onLoad:f}),e.showLabel&&!t&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zh,{className:"w-4 h-4 text-red-500 animate-pulse"}),r.jsx("span",{className:"text-white font-medium",children:e.src})]})})]})}function Pl({config:e}){const[t,n]=y.useState(null),[s,l]=y.useState(0),[a,i]=y.useState(new Set),c=e.go2rtcHost||`${window.location.hostname}:1984`,o=e.columns||2,u=e.refreshInterval||3e3,f=e.rotateInterval||1e4;y.useEffect(()=>{if(e.autoRotate&&t===null){const v=setInterval(()=>{l(w=>(w+1)%e.cameras.length)},f);return()=>clearInterval(v)}},[e.autoRotate,e.cameras.length,t,f]);const p=v=>{i(w=>new Set(w).add(v))},h=v=>`http://${c}/api/frame.jpeg?src=${encodeURIComponent(v)}&t=${Math.floor(Date.now()/u)}`;if(t)return r.jsxs("div",{className:"relative w-full h-full bg-black cursor-pointer",onClick:()=>n(null),children:[r.jsx(ha,{src:h(t),camera:t,onError:()=>p(t),hasError:a.has(t),showLabel:!0}),r.jsx("div",{className:"absolute top-4 right-4 text-white/50 text-sm",children:"Click to exit full screen"})]});if(e.autoRotate){const v=e.cameras[s];return r.jsxs("div",{className:"relative w-full h-full bg-black",children:[r.jsx(ha,{src:h(v),camera:v,onError:()=>p(v),hasError:a.has(v),showLabel:!0}),r.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:e.cameras.map((w,g)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition ${g===s?"bg-accent":"bg-white/30"}`},w))}),r.jsx("div",{className:"absolute bottom-4 right-4",children:r.jsx("button",{onClick:w=>{w.stopPropagation(),n(v)},className:"p-2 bg-black/50 rounded-lg hover:bg-black/70 transition",children:r.jsx(P0,{className:"w-5 h-5 text-white"})})})]})}return r.jsx("div",{className:"w-full h-full grid gap-1 bg-black p-1",style:{gridTemplateColumns:`repeat(${o}, 1fr)`},children:e.cameras.map(v=>r.jsx("div",{className:"relative bg-dark-900 cursor-pointer hover:ring-2 ring-accent transition",onClick:()=>n(v),children:r.jsx(ha,{src:h(v),camera:v,onError:()=>p(v),hasError:a.has(v),showLabel:!0})},v))})}function ha({src:e,camera:t,onError:n,hasError:s,showLabel:l}){const[a,i]=y.useState(0);return y.useEffect(()=>{const c=setInterval(()=>i(o=>o+1),3e3);return()=>clearInterval(c)},[]),s?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wo,{className:"w-8 h-8 mx-auto mb-1 opacity-50"}),r.jsx("div",{className:"text-xs",children:t})]})}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:e,alt:t,className:"absolute inset-0 w-full h-full object-cover",onError:n},a),l&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(zh,{className:"w-3 h-3 text-red-500 animate-pulse"}),r.jsx("span",{className:"text-white text-xs font-medium truncate",children:t})]})})]})}const Jc={0:{icon:Yc,description:"Clear sky"},1:{icon:Yc,description:"Mainly clear"},2:{icon:nn,description:"Partly cloudy"},3:{icon:nn,description:"Overcast"},45:{icon:nn,description:"Foggy"},48:{icon:nn,description:"Depositing rime fog"},51:{icon:st,description:"Light drizzle"},53:{icon:st,description:"Moderate drizzle"},55:{icon:st,description:"Dense drizzle"},61:{icon:st,description:"Slight rain"},63:{icon:st,description:"Moderate rain"},65:{icon:st,description:"Heavy rain"},71:{icon:da,description:"Slight snow"},73:{icon:da,description:"Moderate snow"},75:{icon:da,description:"Heavy snow"},80:{icon:st,description:"Rain showers"},81:{icon:st,description:"Moderate showers"},82:{icon:st,description:"Violent showers"},95:{icon:st,description:"Thunderstorm"}};function Ll({config:e}){var p;const[t,n]=y.useState(null),[s,l]=y.useState(!0),[a,i]=y.useState(null),c=e.latitude||55.4583,o=e.longitude||-4.6292,u=e.location||"Ayr, Scotland";if(y.useEffect(()=>{const h=async()=>{var w;try{const g=`https://api.open-meteo.com/v1/forecast?latitude=${c}&longitude=${o}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m`,x=await(await fetch(g)).json();x.current&&n({temperature:Math.round(x.current.temperature_2m),feelsLike:Math.round(x.current.apparent_temperature),humidity:x.current.relative_humidity_2m,windSpeed:Math.round(x.current.wind_speed_10m),weatherCode:x.current.weather_code,description:((w=Jc[x.current.weather_code])==null?void 0:w.description)||"Unknown"}),l(!1)}catch{i("Failed to fetch weather"),l(!1)}};h();const v=setInterval(h,3e5);return()=>clearInterval(v)},[c,o]),s)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading weather..."})});if(a||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:a||"No weather data"})});const f=((p=Jc[t.weatherCode])==null?void 0:p.icon)||nn;return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[r.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[r.jsx(f,{className:"w-24 h-24 text-accent"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-[8vw] font-light leading-none text-white",children:[t.temperature,""]}),r.jsx("div",{className:"text-xl text-gray-400",children:t.description})]})]}),r.jsx("div",{className:"text-2xl text-gray-500 mb-8",children:u}),r.jsxs("div",{className:"flex gap-8 text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B0,{className:"w-5 h-5"}),r.jsxs("span",{children:["Feels ",t.feelsLike,""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(w0,{className:"w-5 h-5"}),r.jsxs("span",{children:[t.humidity,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V0,{className:"w-5 h-5"}),r.jsxs("span",{children:[t.windSpeed," km/h"]})]})]})]})}function Rl({config:e}){const[t,n]=y.useState(e.stats||[]),[s,l]=y.useState({}),a=e.columns||3,i=e.refreshInterval||3e4;y.useEffect(()=>{if(!e.apiUrl)return;const u=async()=>{try{const h=await(await fetch(e.apiUrl)).json();Array.isArray(h)?n(h):h.stats&&n(h.stats)}catch(p){console.error("Failed to fetch stats:",p)}};u();const f=setInterval(u,i);return()=>clearInterval(f)},[e.apiUrl,i]),y.useEffect(()=>{t.forEach((u,f)=>{if(typeof u.value=="number"){const p=`${f}-${u.label}`,h=s[p]||0,v=u.value;if(h!==v){const g=(v-h)/30;let O=0;const x=()=>{O++,O<=30?(l(d=>({...d,[p]:Math.round(h+g*O)})),requestAnimationFrame(x)):l(d=>({...d,[p]:v}))};requestAnimationFrame(x)}}})},[t]);const c=(u,f)=>{if(typeof u.value=="number"){const p=`${f}-${u.label}`;return s[p]??u.value}return u.value},o=u=>u?u>0?r.jsx(El,{className:"w-5 h-5 text-green-500"}):r.jsx(Mh,{className:"w-5 h-5 text-red-500"}):r.jsx(L0,{className:"w-5 h-5 text-gray-500"});return r.jsxs("div",{className:"flex flex-col h-full p-8",children:[e.title&&r.jsx("h2",{className:"text-2xl font-semibold text-white mb-8",children:e.title}),r.jsx("div",{className:"grid gap-6 flex-1",style:{gridTemplateColumns:`repeat(${a}, 1fr)`},children:t.map((u,f)=>r.jsxs("div",{className:"bg-dark-700/50 rounded-2xl p-6 flex flex-col",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:u.label}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-4xl font-semibold",style:{color:u.color||"#00d4ff"},children:c(u,f)}),u.unit&&r.jsx("span",{className:"text-xl text-gray-500",children:u.unit})]}),u.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[o(u.change),r.jsxs("span",{className:u.change>0?"text-green-500":u.change<0?"text-red-500":"text-gray-500",children:[u.change>0?"+":"",u.change,"%"]})]})]},`${f}-${u.label}`))})]})}function Al({config:e}){const[t,n]=y.useState(null),[s,l]=y.useState(!0),a=e.capacity||100,i=e.warningThreshold||80,c=e.criticalThreshold||95,o=e.refreshInterval||1e4;if(y.useEffect(()=>{const g=async()=>{if(e.apiUrl)try{const d=await(await fetch(e.apiUrl)).json();n({current:d.current||d.occupied||0,capacity:d.capacity||a,available:d.available||d.capacity-d.current||0,percentage:d.percentage||Math.round(d.current/d.capacity*100)||0})}catch(x){console.error("Failed to fetch occupancy:",x)}else{const x=Math.floor(Math.random()*a*.9);n({current:x,capacity:a,available:a-x,percentage:Math.round(x/a*100)})}l(!1)};g();const O=setInterval(g,o);return()=>clearInterval(O)},[e.apiUrl,a,o]),s||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading occupancy..."})});const f=t.percentage>=c?{color:"#ef4444",label:"FULL",icon:yt}:t.percentage>=i?{color:"#f59e0b",label:"FILLING",icon:yt}:{color:"#10b981",label:"AVAILABLE",icon:ll},p=f.icon,h=120,v=2*Math.PI*h,w=v-t.percentage/100*v;return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.siteName&&r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(bo,{className:"w-8 h-8 text-accent"}),r.jsx("h2",{className:"text-3xl font-semibold text-white",children:e.siteName})]}),r.jsxs("div",{className:"relative mb-8",children:[r.jsxs("svg",{width:"280",height:"280",className:"transform -rotate-90",children:[r.jsx("circle",{cx:"140",cy:"140",r:h,fill:"none",stroke:"#1f2937",strokeWidth:"20"}),r.jsx("circle",{cx:"140",cy:"140",r:h,fill:"none",stroke:f.color,strokeWidth:"20",strokeLinecap:"round",strokeDasharray:v,strokeDashoffset:w,className:"transition-all duration-1000 ease-out"})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r.jsx("div",{className:"text-6xl font-bold text-white",children:t.available}),r.jsx("div",{className:"text-xl text-gray-400",children:"spaces"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 rounded-full text-lg font-semibold mb-8",style:{backgroundColor:`${f.color}20`,color:f.color},children:[r.jsx(p,{className:"w-6 h-6"}),f.label]}),r.jsxs("div",{className:"flex gap-12 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-semibold text-white",children:[r.jsx(ko,{className:"w-8 h-8"}),t.current]}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Occupied"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-semibold text-white",children:t.capacity}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Capacity"})]}),e.showPercentage!==!1&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-semibold",style:{color:f.color},children:[t.percentage,"%"]}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Full"})]})]})]})}function Il({config:e}){const t=e.refreshInterval?Math.floor(Date.now()/e.refreshInterval):0;return r.jsx("iframe",{src:e.url,title:e.title||"Embedded Content",className:"w-full h-full border-0",allow:"autoplay; fullscreen"},t)}function W0({data:e,label:t="Hourly Activity",color:n="#06b6d4",height:s=60}){const l=new Date().getHours(),a=y.useMemo(()=>{const o=new Map(e.map(h=>[h.hour,h.count])),u=[];for(let h=0;h<24;h++)u.push({hour:h,count:o.get(h)||0});const f=(l-11+24)%24,p=[];for(let h=0;h<12;h++){const v=(f+h)%24;p.push(u[v])}return p},[e,l]),i=Math.max(...a.map(o=>o.count),1),c=a.reduce((o,u)=>o+u.count,0);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx(El,{className:"w-3 h-3"}),r.jsx("span",{children:t})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[c," movements (12h)"]})]}),r.jsx("div",{className:"flex items-end gap-[2px] rounded-lg bg-dark-700/50 p-2",style:{height:s},children:a.map((o,u)=>{const f=i>0?o.count/i*100:0,p=o.hour===l;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[r.jsx("div",{className:"w-full rounded-t transition-all duration-300 hover:opacity-80",style:{height:`${Math.max(f,2)}%`,backgroundColor:p?"#22d3ee":n,opacity:p?1:.7,boxShadow:p?"0 0 8px #22d3ee60":"none"}}),r.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:r.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap",children:[String(o.hour).padStart(2,"0"),":00 - ",o.count," movements"]})}),u%3===0&&r.jsx("div",{className:"text-[9px] text-gray-500 mt-1",children:String(o.hour).padStart(2,"0")})]},o.hour)})})]})}function q0({sites:e,height:t=80}){const n=new Date().getHours(),s=y.useMemo(()=>{const o=new Map;e.forEach(h=>{h.stats.hourlyActivity.forEach(({hour:v,count:w})=>{o.set(v,(o.get(v)||0)+w)})});const u=[];for(let h=0;h<24;h++)u.push({hour:h,count:o.get(h)||0});const f=(n-11+24)%24,p=[];for(let h=0;h<12;h++){const v=(f+h)%24;p.push(u[v])}return p},[e,n]),l=Math.max(...s.map(o=>o.count),1),a=s.reduce((o,u)=>o+u.count,0),i=Math.round(a/12),c=s.reduce((o,u)=>u.count>o.count?u:o,s[0]);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[r.jsx(El,{className:"w-4 h-4 text-cyan-400"}),r.jsx("span",{className:"font-medium",children:"Activity Trends (12h)"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[a," total"]}),r.jsxs("span",{children:["~",i,"/hr avg"]})]})]}),r.jsx("div",{className:"flex items-end gap-1 rounded-xl bg-dark-700/30 p-3",style:{height:t},children:s.map((o,u)=>{const f=l>0?o.count/l*100:0,p=o.hour===n,h=o.hour===c.hour&&o.count>0,v=l>0?o.count/l:0,w=p?"#22d3ee":h?"#fbbf24":`rgba(6, 182, 212, ${.4+v*.6})`;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[r.jsx("div",{className:"w-full rounded-t-sm transition-all duration-300",style:{height:`${Math.max(f,3)}%`,backgroundColor:w,boxShadow:p?"0 0 10px #22d3ee60":h?"0 0 8px #fbbf2440":"none"}}),r.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:r.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1.5 rounded-lg shadow-lg whitespace-nowrap border border-dark-500",children:[r.jsxs("div",{className:"font-medium",children:[String(o.hour).padStart(2,"0"),":00"]}),r.jsxs("div",{className:"text-gray-400",children:[o.count," movements"]}),h&&r.jsx("div",{className:"text-amber-400",children:" Peak hour"})]})}),u%2===0&&r.jsx("div",{className:`text-[10px] mt-1 ${p?"text-cyan-400 font-medium":"text-gray-500"}`,children:String(o.hour).padStart(2,"0")})]},o.hour)})}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-[10px] text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-sm bg-cyan-400"}),r.jsx("span",{children:"Current"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-sm bg-amber-400"}),r.jsx("span",{children:"Peak"})]})]})]})}const G0=(e,t=.5,n)=>e==="custom"&&n?()=>{const s=new Audio(n);s.volume=t,s.play().catch(l=>console.warn("Failed to play custom alert:",l))}:()=>{try{const s=new(window.AudioContext||window.webkitAudioContext),l=s.createGain();l.connect(s.destination),l.gain.value=t;const a=(i,c,o,u="sine")=>{const f=s.createOscillator();f.type=u,f.frequency.value=i,f.connect(l),f.start(s.currentTime+c),f.stop(s.currentTime+c+o)};switch(e){case"chime":a(880,0,.15),a(1108.73,.15,.2);break;case"alert":a(523.25,0,.1),a(659.25,.1,.1),a(783.99,.2,.15);break;case"urgent":a(880,0,.1,"square"),a(880,.15,.1,"square"),a(1046.5,.3,.15,"square");break;case"bell":a(1396.91,0,.3),a(698.46,.05,.25);break;case"none":default:break}setTimeout(()=>s.close(),1e3)}catch(s){console.warn("Web Audio API not supported or failed:",s)}};function Eo({config:e}){var $,K,E,V,J,pe,H;const[t,n]=y.useState(null),[s,l]=y.useState([]),[a,i]=y.useState([]),[c,o]=y.useState(!0),[u,f]=y.useState(null),[p,h]=y.useState(null),[v,w]=y.useState(!1),g=y.useRef(0),O=y.useRef(0),x=y.useRef(!0),d=e.posApiUrl||"http://localhost:3000",m=e.siteIds||["kyle-rise","KCS01"],b=e.refreshInterval||3e4,_=e.eventLimit||8,R=e.showEnforcement!==!1,N=e.showHealth!==!1,S={enabled:(($=e.alertSound)==null?void 0:$.enabled)!==!1,threshold:((K=e.alertSound)==null?void 0:K.threshold)??3,soundType:((E=e.alertSound)==null?void 0:E.soundType)||"chime",customSoundUrl:((V=e.alertSound)==null?void 0:V.customSoundUrl)||"",volume:((J=e.alertSound)==null?void 0:J.volume)??.5,repeatInterval:((pe=e.alertSound)==null?void 0:pe.repeatInterval)??6e4,playOnIncrease:((H=e.alertSound)==null?void 0:H.playOnIncrease)!==!1},T=y.useCallback(()=>{if(v||!S.enabled||S.soundType==="none")return;const P=Date.now();if(P-O.current<S.repeatInterval)return;O.current=P,G0(S.soundType,S.volume,S.customSoundUrl)()},[v,S]),I=y.useCallback(P=>{if(x.current){x.current=!1,g.current=P;return}const Q=g.current,bt=P>=S.threshold,Ge=P>Q;g.current=P,bt&&(S.playOnIncrease?Ge&&T():T())},[S,T]),U=y.useCallback(async()=>{try{const[P,Q,bt]=await Promise.all([fetch(`${d}/api/operations/dashboard`),fetch(`${d}/api/operations/events?limit=${_}`),R?fetch(`${d}/enforcement/queue?limit=5`):Promise.resolve({ok:!0,json:()=>Promise.resolve({items:[],total:0})})]);if(P.ok){const Ge=await P.json();Ge.sites=Ge.sites.filter(Qe=>m.includes(Qe.siteId)),n(Ge)}if(Q.ok){const Qe=(await Q.json()).events.filter(Qt=>m.includes(Qt.siteId));l(Qe.slice(0,_))}if(R&&bt.ok){const Ge=await bt.json(),Qe=Ge.items||[];i(Qe);const Qt=Ge.total??Qe.length;I(Qt)}f(new Date),h(null)}catch(P){console.error("Failed to fetch dashboard data:",P),h("Unable to connect to POS API")}finally{o(!1)}},[d,m,_,R,I]);y.useEffect(()=>{U();const P=setInterval(U,b);return()=>clearInterval(P)},[U,b]);const ee=P=>new Date(P).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),q=P=>{const Q=new Date,bt=new Date(P),Ge=Q.getTime()-bt.getTime(),Qe=Math.floor(Ge/6e4);if(Qe<1)return"Just now";if(Qe<60)return`${Qe}m ago`;const Qt=Math.floor(Qe/60);return Qt<24?`${Qt}h ago`:`${Math.floor(Qt/24)}d ago`},k=P=>{switch(P){case"healthy":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444"}},j=P=>{switch(P){case"healthy":return r.jsx(ll,{className:"w-5 h-5"});case"warning":return r.jsx(yt,{className:"w-5 h-5"});case"critical":return r.jsx(yt,{className:"w-5 h-5"})}};if(c)return r.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:r.jsxs("div",{className:"text-gray-500 flex items-center gap-3",children:[r.jsx(hn,{className:"w-6 h-6 animate-spin"}),r.jsx("span",{className:"text-xl",children:"Loading Operations Dashboard..."})]})});if(p)return r.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:r.jsxs("div",{className:"text-red-400 flex items-center gap-3",children:[r.jsx(yt,{className:"w-8 h-8"}),r.jsx("span",{className:"text-xl",children:p})]})});const D=(t==null?void 0:t.sites.reduce((P,Q)=>P+Q.stats.today.entries,0))||0,C=(t==null?void 0:t.sites.reduce((P,Q)=>P+Q.stats.today.exits,0))||0,A=D-C,F=(t==null?void 0:t.summary.systemStatus)||"healthy";return r.jsxs("div",{className:"h-full bg-dark-900 text-white p-6 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Vn,{className:"w-8 h-8 text-accent"}),r.jsx("h1",{className:"text-2xl font-bold",children:e.title||"Operations Dashboard"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[S.enabled&&S.soundType!=="none"&&r.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${v?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:v?"Click to unmute alerts":"Click to mute alerts",children:[v?r.jsx($h,{className:"w-4 h-4"}):r.jsx(Fh,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:v?"Muted":`Alert: ${S.threshold}+`})]}),N&&r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium",style:{backgroundColor:`${k(F)}20`,color:k(F)},children:[j(F),r.jsxs("span",{children:["System ",F.toUpperCase()]})]}),u&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Updated ",ee(u.toISOString())]})]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4",children:[r.jsxs("div",{className:"col-span-4 space-y-4",children:[t==null?void 0:t.sites.map(P=>r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bo,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:P.siteName})]}),r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k(P.health.status)}})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-400",children:[r.jsx(Hc,{className:"w-4 h-4"}),r.jsx("span",{className:"text-3xl font-bold",children:P.stats.today.entries})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Entries"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-400",children:[r.jsx(Vc,{className:"w-4 h-4"}),r.jsx("span",{className:"text-3xl font-bold",children:P.stats.today.exits})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Exits"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-accent",children:P.stats.today.entries-P.stats.today.exits}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"On Site"})]})]}),P.stats.hourlyActivity&&P.stats.hourlyActivity.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-dark-700",children:r.jsx(W0,{data:P.stats.hourlyActivity,label:"Site Activity",color:"#06b6d4",height:50})}),P.cameras.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[r.jsx(No,{className:"w-4 h-4"}),"Cameras"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.cameras.map(Q=>r.jsxs("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-dark-700",children:[r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.status==="online"?"#10b981":Q.status==="warning"?"#f59e0b":"#ef4444"}}),r.jsx("span",{className:"truncate max-w-[100px]",children:Q.name})]},Q.cameraId))})]})]},P.siteId)),r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ih,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Summary"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-gray-500",children:"Current Occupancy"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-white",children:D+C}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Movements"})]})]}),t&&t.sites.length>0&&r.jsx("div",{className:"pt-4 border-t border-dark-700",children:r.jsx(q0,{sites:t.sites,height:70})})]})]}),r.jsxs("div",{className:"col-span-5 bg-dark-800 rounded-2xl p-5 border border-dark-700 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ko,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Recent ANPR Events"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," events"]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"space-y-2",children:s.length===0?r.jsx("div",{className:"text-center text-gray-500 py-8",children:"No recent events for selected sites"}):s.map(P=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`p-2 rounded-lg ${P.direction==="ENTRY"?"bg-green-500/20 text-green-400":P.direction==="EXIT"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:P.direction==="ENTRY"?r.jsx(Hc,{className:"w-5 h-5"}):r.jsx(Vc,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-bold text-lg",children:P.vrm==="unknown"?"---":P.vrm}),r.jsx("span",{className:"text-xs text-gray-500 truncate",children:P.siteName})]}),r.jsx("div",{className:"text-xs text-gray-500",children:P.cameraName})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-medium",children:ee(P.timestamp)}),r.jsx("div",{className:"text-xs text-gray-500",children:q(P.timestamp)})]})]},P.id))})})]}),r.jsxs("div",{className:"col-span-3 space-y-4",children:[R&&r.jsxs("div",{className:`bg-dark-800 rounded-2xl p-5 border ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=S.threshold?"border-orange-500 shadow-lg shadow-orange-500/20":"border-dark-700"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Cl,{className:`w-6 h-6 ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=S.threshold?"text-orange-500 animate-pulse":"text-orange-400"}`}),r.jsx("h3",{className:"text-lg font-semibold",children:"Enforcement Queue"})]}),r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:((t==null?void 0:t.summary.reviewQueueCount)||0)>=S.threshold?"#ef444440":a.length>0?"#f59e0b20":"#10b98120",color:((t==null?void 0:t.summary.reviewQueueCount)||0)>=S.threshold?"#ef4444":a.length>0?"#f59e0b":"#10b981"},children:[(t==null?void 0:t.summary.reviewQueueCount)||0," pending"]})]}),r.jsx("div",{className:"space-y-2",children:a.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-6",children:[r.jsx(ll,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),"Queue is clear"]}):a.slice(0,4).map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-mono font-bold",children:P.vrm}),r.jsx("div",{className:"text-xs text-gray-500",children:P.siteId})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-orange-400",children:[P.durationMinutes,"min"]}),r.jsx("div",{className:"text-xs text-gray-500",children:q(P.timestamp)})]})]},P.id))})]}),N&&t&&r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vn,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Health"})]}),r.jsxs("div",{className:"space-y-3",children:[t.sites.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k(P.health.status)}}),r.jsx("span",{className:"text-sm",children:P.siteName})]}),r.jsx("div",{className:"text-xs text-gray-500",children:P.health.lastSync?q(P.health.lastSync):"No sync"})]},P.siteId)),r.jsx("div",{className:"pt-2 border-t border-dark-700",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Active Alarms"}),r.jsx("span",{className:"font-medium",style:{color:t.summary.totalActiveAlarms>0?"#f59e0b":"#10b981"},children:t.summary.totalActiveAlarms})]})})]})]})]})]})]})}const ms={blue:"",mentor:"",pepper:"",professor:"",wonda:"",archie:"",atlas:"",cipher:"",friday:"",jarvis:"",lexis:"",wong:"",loki:"",quill:"",scout:"",vision:""},Xc={blue:"Monday.com Specialist",mentor:"HR & Talent Development",pepper:"Admin & Comms",professor:"Agent Trainer",wonda:"Designer",archie:"Technical Documentation",atlas:"BPA & Parking Expert",cipher:"Security & Compliance",friday:"Lead Developer",jarvis:"Project Lead",lexis:"Legal Research",wong:"Tech Writer",loki:"Content Writer",quill:"Social Media",scout:"Market Research",vision:"SEO Analyst"},fa={blue:"#3B82F6",mentor:"#F59E0B",pepper:"#8B5CF6",professor:"#10B981",wonda:"#EC4899",archie:"#6366F1",atlas:"#22C55E",cipher:"#EF4444",friday:"#F97316",jarvis:"#0EA5E9",lexis:"#8B5CF6",wong:"#6366F1",loki:"#F472B6",quill:"#A78BFA",scout:"#34D399",vision:"#60A5FA"},Q0=["critical","high","medium","low"],Yt={critical:"#EF4444",high:"#F97316",medium:"#F59E0B",low:"#22C55E"};function Bh({config:e}){const t=e.hqApiUrl||"http://localhost:3800",n=e.refreshInterval||3e4,s=e.maxItems||15,l=e.showMondayStatus!==!1,a=e.autoScroll!==!1;e.autoScrollInterval;const i=e.title||"Team Activity",c=e.compact||!1,o=e.filterByAgents||[],u=e.filterByPriority||[],f=e.excludeAgents||[],p=e.excludePriorities||[],h=e.showFilterControls||!1,[v,w]=y.useState([]),[g,O]=y.useState([]),[x,d]=y.useState(!0),[m,b]=y.useState(null),[_,R]=y.useState(!0),[N,S]=y.useState(null),[T,I]=y.useState(0),[U,ee]=y.useState(null),[q,k]=y.useState(null),j=y.useRef(null);y.useRef();const D=y.useCallback(async()=>{try{const[E,V]=await Promise.all([fetch(`${t}/api/tasks`),fetch(`${t}/api/agents`)]);if(!E.ok||!V.ok)throw new Error("Failed to fetch data");const J=await E.json(),pe=await V.json();let H=J.filter(P=>P.status==="done"&&P.completedAt).sort((P,Q)=>new Date(Q.completedAt).getTime()-new Date(P.completedAt).getTime());o.length>0&&(H=H.filter(P=>P.assignedTo&&o.includes(P.assignedTo))),f.length>0&&(H=H.filter(P=>!P.assignedTo||!f.includes(P.assignedTo))),u.length>0&&(H=H.filter(P=>{var Q;return u.includes(((Q=P.priority)==null?void 0:Q.toLowerCase())||"medium")})),p.length>0&&(H=H.filter(P=>{var Q;return!p.includes(((Q=P.priority)==null?void 0:Q.toLowerCase())||"medium")})),U&&(H=H.filter(P=>P.assignedTo===U)),q&&(H=H.filter(P=>{var Q;return(((Q=P.priority)==null?void 0:Q.toLowerCase())||"medium")===q})),H=H.slice(0,s),w(H),O(pe),b(new Date),S(null),R(!1)}catch(E){console.error("Failed to fetch HQ data:",E),S("Failed to connect to HQ"),R(!1)}},[t,s,o,u,f,p,U,q]);y.useEffect(()=>{D();const E=setInterval(D,n);return()=>clearInterval(E)},[D,n]),y.useEffect(()=>{if(!a||!j.current)return;const V=setInterval(()=>{if(j.current){const J=j.current.scrollHeight-j.current.clientHeight;if(J<=0)return;I(pe=>{const H=pe+1;return H>=J?(setTimeout(()=>I(0),2e3),J):H})}},50);return()=>clearInterval(V)},[a,v]),y.useEffect(()=>{j.current&&(j.current.scrollTop=T)},[T]);const C=E=>{const V=new Date(E),pe=new Date().getTime()-V.getTime(),H=Math.floor(pe/6e4),P=Math.floor(H/60),Q=Math.floor(P/24);return H<1?"Just now":H<60?`${H}m ago`:P<24?`${P}h ago`:Q===1?"Yesterday":`${Q}d ago`},A=E=>new Date(E).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),F=g.filter(E=>E.status==="working"),$=g.filter(E=>E.status==="idle"),K=v.filter(E=>{const V=new Date(E.completedAt||E.updatedAt),J=new Date;return V.toDateString()===J.toDateString()});return _?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:r.jsx("div",{className:"animate-spin",children:r.jsx(hn,{className:"w-8 h-8 text-cyan-400"})})}):r.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-cyan-400 to-emerald-400 rounded-full"}),r.jsx("h1",{className:"text-2xl font-light tracking-wider text-cyan-400",children:i.split(" ").map((E,V)=>r.jsxs("span",{className:V===1?"font-semibold":"",children:[E," "]},V))}),(o.length>0||u.length>0||U||q)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"|"}),(o.length>0||U)&&r.jsxs("span",{className:"flex items-center gap-1 text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded-full",children:[r.jsx(U0,{className:"w-3 h-3"}),U?r.jsx("span",{className:"capitalize",children:U}):r.jsx("span",{children:o.join(", ")})]}),(u.length>0||q)&&r.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Yt[q||u[0]]||"#F59E0B"}20`,color:Yt[q||u[0]]||"#F59E0B"},children:[r.jsx(Vr,{className:"w-3 h-3"}),q||u.join(", ")]})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[l&&r.jsx("div",{className:"flex items-center gap-2 text-sm",children:x?r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-gray-400",children:"Monday.com"}),r.jsx("span",{className:"text-emerald-400",children:"Synced"})]}):r.jsxs(r.Fragment,{children:[r.jsx(y0,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-gray-400",children:"Monday.com"}),r.jsx("span",{className:"text-red-400",children:"Offline"})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-mono text-emerald-400",children:new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})]})]})]}),h&&r.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 bg-gray-800/30 border-b border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Agent:"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>ee(null),className:`px-2 py-1 text-xs rounded transition-colors ${U?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),g.slice(0,8).map(E=>r.jsxs("button",{onClick:()=>ee(U===E.id?null:E.id),className:`px-2 py-1 text-xs rounded transition-colors flex items-center gap-1 ${U===E.id?"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:Xc[E.id]||E.role,children:[r.jsx("span",{children:ms[E.id]||""}),r.jsx("span",{className:"capitalize hidden sm:inline",children:E.id})]},E.id))]})]}),r.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Priority:"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>k(null),className:`px-2 py-1 text-xs rounded transition-colors ${q?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),Q0.map(E=>r.jsx("button",{onClick:()=>k(q===E?null:E),className:`px-2 py-1 text-xs rounded capitalize transition-colors ${q===E?"border":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,style:q===E?{backgroundColor:`${Yt[E]}30`,color:Yt[E],borderColor:`${Yt[E]}80`}:{},children:E},E))]})]}),(U||q)&&r.jsxs("button",{onClick:()=>{ee(null),k(null)},className:"ml-auto text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[r.jsx("span",{children:"Clear filters"}),r.jsx("span",{className:"text-cyan-400",children:""})]})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-gray-800/50",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Vn,{className:"w-4 h-4"}),r.jsx("span",{children:"Recent Completions"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[K.length," today"]})]}),r.jsxs("div",{ref:j,className:"flex-1 overflow-y-auto px-4 py-4 space-y-3 scrollbar-hide",style:{scrollBehavior:"auto"},children:[v.map((E,V)=>{const J=E.assignedTo||"unknown",pe=ms[J]||"",H=Xc[J]||"Agent",P=fa[J]||"#64748B",Q=E.completedAt?A(E.completedAt):A(E.updatedAt),bt=E.completedAt?C(E.completedAt):C(E.updatedAt);return r.jsxs("div",{className:"flex gap-3 animate-fadeIn",style:{animationDelay:`${V*.1}s`,opacity:0,animation:"fadeIn 0.5s ease forwards"},children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs font-mono text-gray-500 mb-2",children:Q}),r.jsx("div",{className:"w-3 h-3 rounded-full ring-2 ring-gray-700",style:{backgroundColor:P}}),V<v.length-1&&r.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-gray-700 to-transparent mt-2"})]}),r.jsxs("div",{className:"flex-1 bg-gray-800/50 rounded-lg p-4 border-l-2 hover:bg-gray-800/80 transition-colors",style:{borderLeftColor:P},children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-100 line-clamp-1",children:E.title}),r.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[E.priority&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Yt[E.priority.toLowerCase()]||"#64748B"}20`,color:Yt[E.priority.toLowerCase()]||"#64748B"},children:E.priority}),r.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded-full",children:[r.jsx(m0,{className:"w-3 h-3"}),"Done"]})]})]}),!c&&E.output&&r.jsxs("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:[E.output.split("##")[0].substring(0,150),"..."]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-lg",children:pe}),r.jsx("span",{className:"text-gray-300 capitalize",children:J}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-500",children:H}),r.jsx("span",{className:"ml-auto text-xs text-gray-500",children:bt})]})]})]},E.id)}),v.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(_0,{className:"w-12 h-12 mb-4 opacity-50"}),r.jsx("p",{children:"No completed tasks yet"})]})]})]}),r.jsxs("div",{className:"w-72 flex flex-col bg-gray-800/30",children:[r.jsx("div",{className:"p-4 border-b border-gray-800",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-3xl font-bold font-mono text-emerald-400",children:K.length}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Completed Today"})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-3xl font-bold font-mono text-cyan-400",children:F.length}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active Agents"})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Dh,{className:"w-4 h-4"}),"Team Status"]}),r.jsxs("div",{className:"px-3 space-y-2",children:[F.map(E=>{const V=ms[E.id]||E.avatar,J=fa[E.id]||"#64748B",pe=v.find(H=>H.id===E.currentTask);return r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/50",children:[r.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${J}30`},children:V}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-200 capitalize",children:E.name||E.id}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:(pe==null?void 0:pe.title)||"Working..."})]}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"})]},E.id)}),$.slice(0,5).map(E=>{const V=ms[E.id]||E.avatar,J=fa[E.id]||"#64748B";return r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/30 opacity-60",children:[r.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${J}20`},children:V}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-400 capitalize",children:E.name||E.id}),r.jsx("div",{className:"text-xs text-gray-600",children:"Idle"})]}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"})]},E.id)})]})]}),r.jsxs("div",{className:"p-3 border-t border-gray-800 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"ParkWise"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400"}),"Local Connect"]})]}),m&&r.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Last sync: ",C(m.toISOString())]})]})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-10px); }
          to { opacity: 1; transform: translateX(0); }
        }
        
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 1;
        }
        .line-clamp-2 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
        }
      `})]})}function Uh({config:e}){const[t,n]=y.useState(!1),s=e.level||"info",l=e.animate!==!1,a=e.fullscreen||s==="critical";y.useEffect(()=>{if(s==="critical"&&l){const u=setInterval(()=>{n(f=>!f)},500);return()=>clearInterval(u)}},[s,l]),y.useEffect(()=>{if(e.sound&&(s==="critical"||s==="error"))try{new Audio("/alert.mp3").play().catch(()=>{})}catch{}},[e.sound,s]);const i=()=>{switch(s){case"success":return{bg:"bg-green-600",text:"text-white",border:"border-green-400"};case"warning":return{bg:"bg-yellow-600",text:"text-white",border:"border-yellow-400"};case"error":return{bg:"bg-red-600",text:"text-white",border:"border-red-400"};case"critical":return{bg:t?"bg-red-700":"bg-red-900",text:"text-white",border:"border-red-500"};default:return{bg:"bg-accent-dim",text:"text-white",border:"border-accent"}}},c=()=>{switch(s){case"success":return r.jsx(ll,{className:"w-12 h-12"});case"warning":return r.jsx(yt,{className:"w-12 h-12"});case"error":return r.jsx(H0,{className:"w-12 h-12"});case"critical":return r.jsx(yt,{className:"w-12 h-12 animate-pulse"});default:return r.jsx(Rh,{className:"w-12 h-12"})}},o=i();return a?r.jsxs("div",{className:`w-full h-full ${o.bg} ${o.text} flex flex-col items-center justify-center p-12 transition-colors duration-300`,children:[e.icon!==!1&&r.jsx("div",{className:"mb-8",children:c()}),e.title&&r.jsx("h1",{className:"text-5xl font-bold mb-6 text-center",children:e.title}),r.jsx("p",{className:"text-3xl text-center max-w-4xl leading-relaxed",children:e.message})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900",children:r.jsx("div",{className:`${o.bg} ${o.text} border-2 ${o.border} rounded-2xl p-8 max-w-3xl mx-8 shadow-2xl`,children:r.jsxs("div",{className:"flex items-center gap-6",children:[e.icon!==!1&&c(),r.jsxs("div",{children:[e.title&&r.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),r.jsx("p",{className:"text-xl",children:e.message})]})]})})})}function Ol({config:e}){const{layout:t,panels:n}=e,s=()=>{switch(t){case"split-h":return"flex flex-row";case"split-v":return"flex flex-col";case"grid-2x2":return"grid grid-cols-2 grid-rows-2";case"sidebar-left":return"flex flex-row";case"sidebar-right":return"flex flex-row";case"pip":return"relative";case"control-room":return"grid grid-cols-3 grid-rows-2";case"dashboard-cameras":return"flex flex-row";default:return"flex flex-row"}},l=(a,i)=>t==="pip"?a===0?{position:"absolute",inset:0}:{position:"absolute",bottom:20,right:20,width:"30%",height:"30%",zIndex:10,borderRadius:12,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}:t==="control-room"?a===0?{gridColumn:"1",gridRow:"1 / 3"}:{}:t==="dashboard-cameras"?a===0?{width:"40%",flexShrink:0}:{flex:1}:t==="sidebar-left"&&a===0?{width:i.size||300,flexShrink:0}:t==="sidebar-right"&&a===n.length-1?{width:i.size||300,flexShrink:0}:{flex:i.size||1};return r.jsx("div",{className:`w-full h-full ${s()}`,children:n.map((a,i)=>r.jsx("div",{className:"overflow-hidden bg-dark-900",style:l(i,a),children:r.jsx(Y0,{widget:a.widget,config:a.config||{}})},i))})}function Y0({widget:e,config:t}){switch(e){case"clock":return r.jsx(Tl,{config:t});case"weather":return r.jsx(Ll,{config:t});case"camera":return r.jsx(_l,{config:t});case"camera-grid":return r.jsx(Pl,{config:t});case"stats":return r.jsx(Rl,{config:t});case"occupancy":return r.jsx(Al,{config:t});case"iframe":return r.jsx(Il,{config:t});case"operations-dashboard":return r.jsx(Eo,{config:t});case"team-activity":return r.jsx(Bh,{config:t});case"alert":return r.jsx(Uh,{config:t});case"layout":return r.jsx(Ol,{config:t});default:return r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function K0({config:e}){const[t,n]=y.useState(0),[s,l]=y.useState(!1),[a,i]=y.useState(0),c=e.defaultDuration||30,o=e.transition||"fade",u=e.shuffle?X0([...e.items]):e.items;y.useEffect(()=>{if(u.length<=1)return;const v=(u[t].duration||c)*1e3,w=setTimeout(()=>{l(!0),setTimeout(()=>{n(g=>(g+1)%u.length),i(g=>(g+1)%u.length),l(!1)},500)},v);return()=>clearTimeout(w)},[t,u,c]);const f=u[a];if(!f)return null;const p=()=>o==="none"?"":o==="fade"?s?"opacity-0":"opacity-100":o==="slide"?s?"translate-x-full":"translate-x-0":"";return r.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[r.jsx("div",{className:`w-full h-full transition-all duration-500 ${p()}`,children:r.jsx(J0,{widget:f.widget,config:f.config||{}})}),u.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:u.map((h,v)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${v===a?"bg-accent w-6":"bg-white/30"}`},v))})]})}function J0({widget:e,config:t}){switch(e){case"clock":return r.jsx(Tl,{config:t});case"weather":return r.jsx(Ll,{config:t});case"camera":return r.jsx(_l,{config:t});case"camera-grid":return r.jsx(Pl,{config:t});case"stats":return r.jsx(Rl,{config:t});case"occupancy":return r.jsx(Al,{config:t});case"iframe":return r.jsx(Il,{config:t});case"layout":return r.jsx(Ol,{config:t});default:return r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function X0(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function Z0(e){let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);return`hsl(${Math.abs(t%360)}, 70%, 50%)`}function ex({config:e}){const[t,n]=y.useState(new Date),[s,l]=y.useState(!0),a=new URLSearchParams(window.location.search),i=(e==null?void 0:e.screenId)||a.get("screen")||a.get("id")||"unknown",c=(e==null?void 0:e.screenName)||a.get("name")||i,o=Z0(i);y.useEffect(()=>{const f=setInterval(()=>n(new Date),1e3);return()=>clearInterval(f)},[]);const u=["#c0c0c0","#c0c000","#00c0c0","#00c000","#c000c0","#c00000","#0000c0","#000000"];return r.jsxs("div",{className:"w-full h-full bg-[#1a1a2e] flex flex-col overflow-hidden",children:[r.jsx("div",{className:"flex h-16 shrink-0",children:u.map((f,p)=>r.jsx("div",{className:"flex-1",style:{backgroundColor:f}},p))}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:[r.jsx("div",{className:"px-8 py-4 rounded-2xl mb-8",style:{backgroundColor:o+"30",borderColor:o,borderWidth:3},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ut,{className:"w-12 h-12",style:{color:o}}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-5xl font-bold tracking-wider",style:{color:o},children:i.toUpperCase()}),c!==i&&r.jsx("p",{className:"text-xl text-gray-400 mt-1",children:c})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center mb-8",children:[r.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[r.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Time"}),r.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),r.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[r.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Date"}),r.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})]}),r.jsx("div",{className:"flex items-center gap-3 text-lg",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Co,{className:"w-6 h-6 text-green-400"}),r.jsx("span",{className:"text-green-400",children:"Connected to Signage Server"})]}):r.jsxs(r.Fragment,{children:[r.jsx(So,{className:"w-6 h-6 text-red-400 animate-pulse"}),r.jsx("span",{className:"text-red-400",children:"Disconnected"})]})}),r.jsxs("div",{className:"mt-6 flex items-center gap-2 text-gray-600 text-sm",children:[r.jsx(Ih,{className:"w-4 h-4"}),r.jsx("span",{children:window.location.host})]})]}),r.jsx("div",{className:"h-8 shrink-0",style:{backgroundColor:o}}),r.jsx("div",{className:"absolute bottom-12 right-8 text-gray-700 text-sm font-mono",children:"SKYNET SIGNAGE v0.1"})]})}const To={rangers:{name:"Rangers FC",colors:{primary:"#0066CC",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/rangers/rss.xml",hashtag:"#RangersFC"},celtic:{name:"Celtic FC",colors:{primary:"#16A34A",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/celtic/rss.xml",hashtag:"#CelticFC"},"ayr-united":{name:"Ayr United",colors:{primary:"#000000",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/ayr-united/rss.xml",hashtag:"#AyrUnited"}};async function Zc(e){var t;try{const n=To[e],s=`/api/proxy/rss?url=${encodeURIComponent(n.rssUrl)}`,l=await fetch(s);return l.ok&&((t=(await l.json()).items)==null?void 0:t.slice(0,5))||pa(e)}catch(n){return console.error("Failed to fetch news:",n),pa(e)}}function pa(e){const t=To[e].name;return[{title:`${t} latest transfer news and updates`,link:"#",pubDate:new Date().toISOString()},{title:`Match preview: ${t} prepare for weekend fixture`,link:"#",pubDate:new Date().toISOString()},{title:"Manager discusses squad depth and upcoming challenges",link:"#",pubDate:new Date().toISOString()}]}function tx(e){const t=e==="rangers"?["Celtic","Aberdeen","Hearts","Hibernian","Dundee United"]:e==="celtic"?["Rangers","Aberdeen","Hearts","Hibernian","Dundee United"]:["Partick Thistle","Queen of the South","Dunfermline","Raith Rovers","Morton"],n=new Date;return[{date:new Date(n.getTime()-4*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[0],venue:"H",competition:"Scottish Premiership",result:"2-1"},{date:new Date(n.getTime()+3*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[1],venue:"A",competition:"Scottish Premiership",isNext:!0},{date:new Date(n.getTime()+10*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[2],venue:"H",competition:"Scottish Cup"}]}function nx({config:e}){var p;const t=e.team||"rangers",n=To[t],[s,l]=y.useState([]),[a]=y.useState(tx(t)),[i,c]=y.useState(0),[o,u]=y.useState(!0);y.useEffect(()=>{Zc(t).then(v=>{l(v),u(!1)});const h=setInterval(()=>{Zc(t).then(l)},(e.refreshInterval||300)*1e3);return()=>clearInterval(h)},[t,e.refreshInterval]),y.useEffect(()=>{if(s.length===0)return;const h=setInterval(()=>{c(v=>(v+1)%s.length)},8e3);return()=>clearInterval(h)},[s.length]);const f=a.find(h=>h.isNext);return r.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden",style:{background:`linear-gradient(135deg, ${n.colors.primary} 0%, ${n.colors.primary}dd 100%)`,color:n.colors.secondary},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-5xl",children:n.badge}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:n.name}),r.jsx("p",{className:"text-sm opacity-75",children:n.hashtag})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm opacity-75",children:"SCOTTISH PREMIERSHIP"}),r.jsx("div",{className:"text-2xl font-bold",children:"2nd"})]})]}),r.jsxs("div",{className:"flex-1 flex",children:[f&&r.jsxs("div",{className:"flex-1 p-6 border-r border-white/20 flex flex-col justify-center",children:[r.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-2",children:"Next Match"}),r.jsxs("div",{className:"text-4xl font-bold mb-2",children:[f.venue==="H"?"vs":"@"," ",f.opponent]}),r.jsx("div",{className:"text-xl opacity-90",children:f.date}),r.jsx("div",{className:"text-sm opacity-75 mt-1",children:f.competition}),r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2 w-fit",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:"Ibrox Stadium"})]})]}),r.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[r.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-3",children:"Fixtures & Results"}),r.jsx("div",{className:"space-y-3",children:a.map((h,v)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${h.isNext?"bg-white/20 ring-2 ring-white/50":"bg-white/10"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:h.venue}),r.jsx("span",{className:"font-medium",children:h.opponent})]}),r.jsx("div",{className:"text-right",children:h.result?r.jsx("span",{className:`font-bold ${h.result.startsWith("W")||h.result.split("-")[0]>h.result.split("-")[1]?"text-green-300":h.result.split("-")[0]<h.result.split("-")[1]?"text-red-300":""}`,children:h.result}):r.jsx("span",{className:"text-sm opacity-75",children:h.date})})]},v))})]})]}),r.jsx("div",{className:"bg-black/30 p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"bg-white text-black px-3 py-1 rounded font-bold text-sm shrink-0",children:"NEWS"}),r.jsx("div",{className:"overflow-hidden flex-1",children:o?r.jsx("span",{className:"opacity-75",children:"Loading latest news..."}):s.length>0?r.jsx("span",{className:"block truncate text-lg",children:(p=s[i])==null?void 0:p.title}):r.jsx("span",{className:"opacity-75",children:"No news available"})})]})})]})}const sr={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},soup:{title:"Homemade Soup",icon:"",items:[{name:"Regular",price:2.5},{name:"Large",price:2.9},{name:"+ Buttered Roll",price:.5}]},chips:{title:"Chips",icon:"",items:[{name:"Chips",price:3,large:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Salt + Pepper",price:3.5,large:4.5},{name:"Cajun",price:3.5,large:4.5},{name:"+ Cheese",price:4,large:5},{name:"+ Curry Sauce",price:4,large:5},{name:"Loaded",price:4.5,large:5.5,popular:!0}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"Served with side salad",items:[{name:"Plain",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Egg Mayo",price:4.8},{name:"Chicken",price:5.3},{name:"Tuna",price:5.3},{name:"Chicken Curry",price:6.3,popular:!0},{name:"Cheese & Bacon",price:5.8}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4},{name:"Espresso",price:1.8},{name:"+ Flavour Shot",price:.5}]}},ma=[{name:"Chicken Curry + Rice",price:5.8,tag:"Most Popular",emoji:""},{name:"Steak Pie + Chips",price:5.3,tag:"Scottish Classic",emoji:""},{name:"Loaded Chips",price:5.5,tag:"Comfort Food",emoji:""},{name:"Homemade Soup + Roll",price:3.4,tag:"Warm Up",emoji:""}],oe={title:"clamp(28px, 3.5vw, 72px)",subtitle:"clamp(10px, 1vw, 20px)",sectionTitle:"clamp(14px, 1.5vw, 30px)",sectionIcon:"clamp(18px, 1.8vw, 36px)",item:"clamp(11px, 1.15vw, 22px)",price:"clamp(11px, 1.15vw, 22px)",small:"clamp(9px, 0.85vw, 16px)",tiny:"clamp(8px, 0.7vw, 14px)",gap:"clamp(8px, 1vw, 20px)",padding:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"};function lr({data:e}){return r.jsxs("div",{className:"h-full relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(10px)",borderRadius:oe.radius,padding:oe.padding,border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[r.jsxs("div",{className:"flex items-center border-b border-amber-400/30",style:{gap:"clamp(6px, 0.6vw, 12px)",paddingBottom:"clamp(8px, 0.8vw, 16px)",marginBottom:"clamp(10px, 1vw, 20px)"},children:[r.jsx("span",{style:{fontSize:oe.sectionIcon},children:e.icon}),r.jsx("h2",{className:"font-bold tracking-wide",style:{fontSize:oe.sectionTitle,background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 10px rgba(251,191,36,0.3)"},children:e.title})]}),e.subtitle&&r.jsx("p",{className:"text-gray-400 italic",style:{fontSize:oe.tiny,marginBottom:"clamp(6px, 0.6vw, 12px)",marginTop:"clamp(-6px, -0.5vw, -10px)"},children:e.subtitle}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(6px, 0.6vw, 14px)"},children:e.items.map((t,n)=>r.jsxs("div",{className:"flex justify-between items-center",style:{padding:"clamp(2px, 0.2vw, 4px) 0",borderBottom:n<e.items.length-1?"1px dotted rgba(255,255,255,0.1)":"none"},children:[r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[r.jsx("span",{className:"text-white/90 font-medium",style:{fontSize:oe.item},children:t.name}),t.popular&&r.jsx("span",{className:"text-orange-400 animate-pulse",style:{fontSize:oe.tiny},children:""})]}),r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[r.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:oe.price,color:"#34d399",textShadow:"0 0 20px rgba(52,211,153,0.3)"},children:["",t.price.toFixed(2)]}),t.large&&r.jsxs("span",{className:"text-gray-500 tabular-nums",style:{fontSize:oe.small},children:["/ ",t.large.toFixed(2)]})]})]},n))})]})}function rx({config:e}){const[t,n]=y.useState(new Date),[s,l]=y.useState(0);y.useEffect(()=>{const c=setInterval(()=>n(new Date),1e3);return()=>clearInterval(c)},[]),y.useEffect(()=>{const c=setInterval(()=>{l(o=>(o+1)%ma.length)},5e3);return()=>clearInterval(c)},[]);const a=t.getHours()>=11&&t.getHours()<14,i=ma[s];return r.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},children:[r.jsx("div",{className:"absolute rounded-full blur-3xl opacity-30 animate-pulse",style:{top:"-10%",left:"-5%",width:"40vw",height:"40vw",background:"radial-gradient(circle, rgba(251,191,36,0.4) 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute rounded-full blur-3xl opacity-20",style:{bottom:"-15%",right:"-10%",width:"50vw",height:"50vw",background:"radial-gradient(circle, rgba(52,211,153,0.3) 0%, transparent 70%)",animation:"pulse 4s ease-in-out infinite alternate"}}),r.jsx("div",{className:"absolute rounded-full blur-2xl opacity-10",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",height:"30vw",background:"radial-gradient(ellipse, rgba(139,92,246,0.2) 0%, transparent 60%)"}}),r.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:oe.padding},children:[r.jsxs("div",{className:"text-center",style:{marginBottom:oe.gap},children:[r.jsx("h1",{className:"font-bold tracking-tight",style:{fontSize:oe.title,background:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"shimmer 3s linear infinite",filter:"drop-shadow(0 4px 20px rgba(251,191,36,0.4))"},children:"Young's Food Emporium"}),r.jsxs("div",{className:"flex items-center justify-center text-gray-400",style:{gap:"clamp(12px, 2vw, 32px)",marginTop:"clamp(4px, 0.5vw, 12px)",fontSize:oe.subtitle},children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-amber-500",children:""})," 01292 652 043"]}),r.jsx("span",{className:"text-amber-500/50",children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-amber-500",children:""})," @youngsfoodemporium"]}),r.jsx("span",{className:"text-amber-500/50",children:""}),r.jsx("span",{className:"text-amber-400 font-semibold tabular-nums",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})]}),r.jsx("div",{style:{marginBottom:oe.gap},children:r.jsxs("div",{className:"relative overflow-hidden",style:{background:a?"linear-gradient(135deg, rgba(249,115,22,0.2) 0%, rgba(239,68,68,0.15) 50%, rgba(249,115,22,0.2) 100%)":"linear-gradient(135deg, rgba(251,191,36,0.15) 0%, rgba(245,158,11,0.1) 50%, rgba(251,191,36,0.15) 100%)",border:a?"1px solid rgba(249,115,22,0.3)":"1px solid rgba(251,191,36,0.3)",borderRadius:oe.radius,padding:"clamp(10px, 1.2vw, 24px)"},children:[r.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",animation:"shimmer 2s ease-in-out infinite"}}),r.jsxs("div",{className:"relative flex items-center justify-center flex-wrap",style:{gap:"clamp(12px, 2vw, 32px)"},children:[r.jsx("span",{className:"uppercase tracking-[0.2em] font-medium",style:{fontSize:oe.tiny,color:a?"#fb923c":"#fbbf24"},children:a?" Lunch Special":" Today's Recommendation"}),r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(8px, 1vw, 16px)"},children:[r.jsx("span",{style:{fontSize:"clamp(16px, 1.8vw, 36px)"},children:i.emoji}),r.jsx("span",{className:"font-bold text-white",style:{fontSize:"clamp(14px, 1.5vw, 30px)"},children:i.name})]}),r.jsxs("span",{className:"font-black tabular-nums",style:{fontSize:"clamp(16px, 1.8vw, 36px)",color:"#34d399",textShadow:"0 0 30px rgba(52,211,153,0.5)"},children:["",i.price.toFixed(2)]}),r.jsx("span",{className:"rounded-full font-medium",style:{fontSize:oe.tiny,padding:"clamp(3px, 0.3vw, 6px) clamp(10px, 1vw, 20px)",background:"rgba(251,191,36,0.2)",color:"#fcd34d",border:"1px solid rgba(251,191,36,0.3)"},children:i.tag})]}),r.jsx("div",{className:"flex justify-center",style:{gap:"clamp(4px, 0.4vw, 8px)",marginTop:"clamp(8px, 0.8vw, 16px)"},children:ma.map((c,o)=>r.jsx("div",{className:"rounded-full transition-all duration-300",style:{width:o===s?"clamp(16px, 1.5vw, 28px)":"clamp(6px, 0.5vw, 10px)",height:"clamp(6px, 0.5vw, 10px)",background:o===s?"#fbbf24":"rgba(255,255,255,0.2)"}},o))})]})}),r.jsxs("div",{className:"flex-1 grid grid-cols-4 min-h-0",style:{gap:oe.gap},children:[r.jsxs("div",{className:"flex flex-col",style:{gap:oe.gap},children:[r.jsx("div",{className:"flex-[2]",children:r.jsx(lr,{data:sr.hotDrinks})}),r.jsx("div",{className:"flex-1",children:r.jsx(lr,{data:sr.soup})})]}),r.jsx("div",{children:r.jsx(lr,{data:sr.bakedPotato})}),r.jsx("div",{children:r.jsx(lr,{data:sr.chips})}),r.jsx("div",{children:r.jsx(lr,{data:sr.hotMeals})})]}),r.jsx("div",{className:"text-center",style:{marginTop:oe.gap,paddingTop:"clamp(8px, 0.8vw, 16px)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:r.jsxs("p",{style:{fontSize:oe.subtitle},children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"text-amber-400 font-medium",children:" Phone ahead for collection "}),r.jsx("span",{className:"text-gray-600 mx-2",children:""}),r.jsx("span",{className:"text-gray-500",children:"Fresh"}),r.jsx("span",{className:"text-gray-600 mx-1",children:""}),r.jsx("span",{className:"text-gray-500",children:"Homemade"}),r.jsx("span",{className:"text-gray-600 mx-1",children:""}),r.jsx("span",{className:"text-gray-500",children:"Delicious"})]})})]}),r.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: -200% center; }
          100% { background-position: 200% center; }
        }
      `})]})}const B={heading:"clamp(20px, 2.5vw, 50px)",large:"clamp(14px, 1.5vw, 30px)",body:"clamp(12px, 1.2vw, 24px)",small:"clamp(10px, 1vw, 20px)",tiny:"clamp(8px, 0.8vw, 16px)",iconSmall:"clamp(14px, 1.4vw, 28px)",gap:"clamp(8px, 1vw, 20px)",gapSmall:"clamp(4px, 0.5vw, 10px)",gapTiny:"clamp(2px, 0.25vw, 5px)",pad:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"},eu={gold:"#fbbf24",emerald:"#34d399"},tu={goldText:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",darkBg:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},sx={noiseTexture:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`},xa=["Ewan","Megan","Guest"],vi={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3,popular:!0},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"With side salad",items:[{name:"Plain Jacket",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3,popular:!0},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Tuna Mayo",price:5.3},{name:"Chicken Curry",price:6.3},{name:"Cheese & Bacon",price:5.8}]},chips:{title:"Chips",icon:"",items:[{name:"Chips (Reg)",price:3},{name:"Chips (Large)",price:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Cajun Chips",price:3.5,large:4.5},{name:"Chips + Cheese",price:4,large:5},{name:"Loaded Chips",price:4.5,large:5.5,popular:!0}]},soup:{title:"Soup",icon:"",items:[{name:"Soup (Regular)",price:2.5},{name:"Soup (Large)",price:2.9},{name:"Soup + Roll",price:3.4,popular:!0}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4}]}},nu=Object.keys(vi);function lx({config:e}){const[t,n]=y.useState(xa[0]),[s,l]=y.useState(nu[0]),[a,i]=y.useState([]),[c,o]=y.useState(!0),[u,f]=y.useState(null),[p,h]=y.useState(new Date);y.useEffect(()=>{const m=setInterval(()=>h(new Date),1e3);return()=>clearInterval(m)},[]);const v=m=>{const b=a.find(_=>_.name===m.name&&_.person===t);i(b?a.map(_=>_.name===m.name&&_.person===t?{..._,quantity:_.quantity+1}:_):[...a,{name:m.name,price:m.price,quantity:1,person:t}]),f(m.name),setTimeout(()=>f(null),500)},w=m=>{m.quantity>1?i(a.map(b=>b.name===m.name&&b.person===m.person?{...b,quantity:b.quantity-1}:b)):i(a.filter(b=>!(b.name===m.name&&b.person===m.person)))},g=()=>i([]),O=m=>a.filter(b=>b.person===m).reduce((b,_)=>b+_.price*_.quantity,0),x=a.reduce((m,b)=>m+b.price*b.quantity,0),d=vi[s];return r.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative select-none",style:{background:tu.darkBg},children:[r.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:sx.noiseTexture}}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:B.pad},children:[r.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:B.gap},children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold",style:{fontSize:B.heading,background:tu.goldText,backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Young's Food Emporium"}),r.jsxs("p",{className:"text-gray-400",style:{fontSize:B.small},children:["Tap items to add  ",p.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),r.jsxs("div",{className:"flex items-center",style:{gap:B.gapSmall},children:[r.jsx("span",{className:"text-gray-400",style:{fontSize:B.small},children:"Ordering as:"}),r.jsx("div",{className:"flex",style:{gap:B.gapTiny},children:xa.map(m=>r.jsx("button",{onClick:()=>n(m),className:"transition-all",style:{padding:`${B.gapSmall} ${B.pad}`,borderRadius:B.radius,fontSize:B.body,fontWeight:t===m?"bold":"normal",background:t===m?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"rgba(255,255,255,0.1)",color:t===m?"#000":"#fff",border:"none",cursor:"pointer"},children:m},m))})]})]}),r.jsxs("div",{className:"flex-1 flex min-h-0",style:{gap:B.gap},children:[r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsx("div",{className:"flex flex-wrap",style:{gap:B.gapSmall,marginBottom:B.gap},children:nu.map(m=>{const b=vi[m],_=s===m;return r.jsxs("button",{onClick:()=>l(m),className:"transition-all",style:{padding:`${B.gapSmall} ${B.pad}`,borderRadius:B.radius,fontSize:B.body,background:_?"rgba(251,191,36,0.2)":"rgba(255,255,255,0.05)",border:_?"2px solid rgba(251,191,36,0.5)":"2px solid transparent",color:_?eu.gold:"rgba(255,255,255,0.7)",cursor:"pointer"},children:[b.icon," ",b.title]},m)})}),r.jsx("div",{className:"flex-1 overflow-auto",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 280px), 1fr))",gap:B.gap,alignContent:"start"},children:d.items.map((m,b)=>{const _=u===m.name,R=a.find(N=>N.name===m.name&&N.person===t);return r.jsx("button",{onClick:()=>v(m),className:"text-left transition-all active:scale-95",style:{padding:B.pad,borderRadius:B.radius,background:_?"rgba(52,211,153,0.3)":"rgba(255,255,255,0.05)",border:R?"2px solid rgba(52,211,153,0.5)":"2px solid rgba(255,255,255,0.1)",cursor:"pointer",transform:_?"scale(1.02)":"scale(1)"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",style:{gap:B.gapSmall},children:[r.jsx("span",{className:"font-medium text-white",style:{fontSize:B.body},children:m.name}),m.popular&&r.jsx("span",{className:"text-orange-400",style:{fontSize:B.tiny},children:" Popular"})]}),R&&r.jsxs("span",{className:"text-emerald-400",style:{fontSize:B.small},children:[" ",R.quantity," in order"]})]}),r.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:B.large,color:eu.emerald},children:["",m.price.toFixed(2)]})]})},b)})})]}),c&&r.jsxs("div",{style:{width:"clamp(280px, 25vw, 400px)",background:"rgba(255,255,255,0.05)",borderRadius:B.radius,padding:B.pad,display:"flex",flexDirection:"column",border:"1px solid rgba(255,255,255,0.1)"},children:[r.jsxs("h2",{className:"font-bold text-amber-400 flex items-center justify-between",style:{fontSize:B.large,marginBottom:B.gap},children:[r.jsx("span",{children:" Order"}),a.length>0&&r.jsx("button",{onClick:g,className:"text-red-400 hover:text-red-300",style:{fontSize:B.small},children:"Clear all"})]}),a.length===0?r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",style:{fontSize:B.body},children:"Tap menu items to add"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 overflow-auto",style:{marginBottom:B.gap},children:xa.filter(m=>a.some(b=>b.person===m)).map(m=>r.jsxs("div",{style:{marginBottom:B.gap},children:[r.jsxs("div",{className:"flex justify-between items-center text-gray-400 border-b border-white/10",style:{fontSize:B.small,paddingBottom:B.gapSmall,marginBottom:B.gapSmall},children:[r.jsx("span",{className:"font-medium",children:m}),r.jsxs("span",{children:["",O(m).toFixed(2)]})]}),a.filter(b=>b.person===m).map((b,_)=>r.jsxs("div",{className:"flex items-center justify-between",style:{padding:`${B.gapTiny} 0`},children:[r.jsxs("div",{className:"flex items-center",style:{gap:B.gapSmall},children:[r.jsx("button",{onClick:()=>w(b),className:"text-red-400 hover:text-red-300 active:scale-90",style:{fontSize:B.body,width:B.iconSmall,height:B.iconSmall,borderRadius:"50%",background:"rgba(239,68,68,0.2)",border:"none",cursor:"pointer"},children:""}),r.jsxs("span",{style:{fontSize:B.small},children:[b.quantity," ",b.name]})]}),r.jsxs("span",{className:"tabular-nums text-emerald-400",style:{fontSize:B.small},children:["",(b.price*b.quantity).toFixed(2)]})]},_))]},m))}),r.jsxs("div",{className:"border-t border-white/20",style:{paddingTop:B.gap},children:[r.jsxs("div",{className:"flex justify-between items-center font-bold",style:{fontSize:B.large,marginBottom:B.gap},children:[r.jsx("span",{className:"text-white",children:"Total"}),r.jsxs("span",{className:"text-emerald-400",children:["",x.toFixed(2)]})]}),r.jsx("a",{href:"tel:01292652043",className:"block text-center font-bold transition-all active:scale-95",style:{padding:B.pad,borderRadius:B.radius,fontSize:B.body,background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",textDecoration:"none",boxShadow:"0 4px 20px rgba(34,197,94,0.4)"},children:" Call to Order"}),r.jsx("p",{className:"text-center text-gray-500",style:{fontSize:B.tiny,marginTop:B.gapSmall},children:"01292 652 043"})]})]})]})]})]})]})}const ax="modulepreload",ix=function(e){return"/"+e},ru={},Fe=function(t,n,s){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(o=>{if(o=ix(o),o in ru)return;ru[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":ax,u||(p.as="script"),p.crossOrigin="",p.href=o,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((h,v)=>{p.addEventListener("load",h),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return l.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},ox={"task-complete":()=>Fe(()=>import("./TaskCompleteTemplate-BN1__YeO.js"),__vite__mapDeps([0,1])).then(e=>e.TaskCompleteTemplate),alert:()=>Fe(()=>import("./AlertTemplate-DiF9IT-m.js"),__vite__mapDeps([2,1])).then(e=>e.AlertTemplate),metrics:()=>Fe(()=>import("./MetricsTemplate-K7ma4SlP.js"),__vite__mapDeps([3,1])).then(e=>e.MetricsTemplate),announcement:()=>Fe(()=>import("./AnnouncementTemplate-CJGWVyPM.js"),__vite__mapDeps([4,1])).then(e=>e.AnnouncementTemplate),"daily-digest":()=>Fe(()=>import("./DailyDigestTemplate-Db6T17ZN.js"),__vite__mapDeps([5,1])).then(e=>e.DailyDigestTemplate),"welcome-display":()=>Fe(()=>import("./WelcomeDisplayTemplate-D150vk2T.js"),[]).then(e=>e.WelcomeDisplayTemplate),"parking-rates":()=>Fe(()=>import("./ParkingRatesTemplate-7mk-JaeI.js"),[]).then(e=>e.ParkingRatesTemplate),"multi-zone":()=>Fe(()=>import("./MultiZoneTemplate-CBfrU8EB.js"),[]).then(e=>e.MultiZoneTemplate),"announcement-rotator":()=>Fe(()=>import("./AnnouncementRotatorTemplate-h0tuO7ti.js"),[]).then(e=>e.AnnouncementRotatorTemplate),"site-info":()=>Fe(()=>import("./SiteInfoTemplate-BcAt4dHu.js"),[]).then(e=>e.SiteInfoTemplate),"announcement-board":()=>Fe(()=>import("./AnnouncementBoardTemplate-DaEnPH8h.js"),[]).then(e=>e.AnnouncementBoardTemplate),"schedule-display":()=>Fe(()=>import("./ScheduleDisplayTemplate-ByIbzUyY.js"),[]).then(e=>e.ScheduleDisplayTemplate)};function cx(){return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:r.jsx("div",{className:"text-white text-xl animate-pulse",children:"Loading..."})})}function ux({template:e}){return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),r.jsx("div",{className:"text-white text-xl",children:"Template not found"}),r.jsx("div",{className:"text-gray-400 mt-2",children:e})]})})}function dx({config:e}){const[t,n]=y.useState(null),[s,l]=y.useState(!1);return y.useEffect(()=>{(async()=>{const i=ox[e.template];if(!i){l(!0);return}try{const c=await i();n(()=>c)}catch(c){console.error("Failed to load template:",c),l(!0)}})()},[e.template]),s?r.jsx(ux,{template:e.template}):t?r.jsx(t,{data:e.data}):r.jsx(cx,{})}const hx={info:{bg:"from-blue-900/80 to-dark-900",border:"border-blue-500/50",icon:Rh,iconColor:"text-blue-400",pulse:!1,badge:"bg-blue-500/20 text-blue-400"},warning:{bg:"from-amber-900/60 to-dark-900",border:"border-amber-500/50",icon:yt,iconColor:"text-amber-400",pulse:!0,badge:"bg-amber-500/20 text-amber-400"},critical:{bg:"from-red-900/60 to-dark-900",border:"border-red-500/50",icon:yt,iconColor:"text-red-400",pulse:!0,badge:"bg-red-500/20 text-red-400"}};function fx({config:e}){const[t,n]=y.useState([]),s=e.level||"info",l=hx[s];return l.icon,y.useEffect(()=>{if(!e.pullFromApi)return;const a=e.apiUrl||"http://localhost:3890/api/alerts",i=async()=>{try{const u=await(await fetch(a)).json();Array.isArray(u)?n(u.slice(0,5)):u.alerts&&n(u.alerts.slice(0,5))}catch(o){console.error("Failed to fetch security alerts:",o)}};i();const c=setInterval(i,e.refreshInterval||3e4);return()=>clearInterval(c)},[e.pullFromApi,e.apiUrl,e.refreshInterval]),r.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-8 bg-gradient-to-b ${l.bg}`,children:[l.pulse&&r.jsx("div",{className:"absolute inset-0 border-4 border-red-500/30 animate-pulse rounded-none"}),r.jsx("div",{className:`mb-6 ${l.pulse?"animate-pulse":""}`,children:r.jsx(Cl,{className:`w-20 h-20 ${l.iconColor}`})}),r.jsxs("div",{className:`${l.badge} px-4 py-1.5 rounded-full text-sm font-bold tracking-widest mb-6`,children:[e.escalationLevel?`LEVEL ${e.escalationLevel}`:s.toUpperCase()," ALERT"]}),r.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-4",style:{fontFamily:"Antonio, sans-serif"},children:e.title}),r.jsx("p",{className:"text-xl text-gray-300 text-center max-w-2xl mb-6",children:e.message}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.source&&r.jsxs("span",{children:["Source: ",e.source]}),e.timestamp&&r.jsx("span",{children:new Date(e.timestamp).toLocaleTimeString("en-GB")})]}),t.length>0&&r.jsxs("div",{className:"mt-8 w-full max-w-xl space-y-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider",children:"RECENT ALERTS"}),t.map((a,i)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(wo,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm text-white truncate",children:a.message||a.title}),r.jsx("div",{className:"text-xs text-gray-500",children:a.timestamp||a.time})]}),a.level&&r.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${a.level>=3?"bg-red-500/20 text-red-400":a.level>=2?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:["L",a.level]})]},i))]})]})}function px({config:e}){const[t,n]=y.useState(null),[s,l]=y.useState(!0),a=e.refreshInterval||6e4;if(y.useEffect(()=>{const o=async()=>{const f=e.apiUrl||"http://localhost:3000";try{const[p,h]=await Promise.allSettled([fetch(`${f}/api/revenue/today${e.siteId?`?site=${e.siteId}`:""}`),fetch(`${f}/api/revenue/week${e.siteId?`?site=${e.siteId}`:""}`)]),v=p.status==="fulfilled"?await p.value.json():null,w=h.status==="fulfilled"?await h.value.json():null;n(v||w?{today:(v==null?void 0:v.total)||(v==null?void 0:v.revenue)||0,yesterday:(v==null?void 0:v.yesterday)||0,weekTotal:(w==null?void 0:w.total)||(w==null?void 0:w.revenue)||0,monthTotal:(w==null?void 0:w.monthTotal)||0,transactionCount:(v==null?void 0:v.count)||(v==null?void 0:v.transactions)||0,averageStay:(v==null?void 0:v.averageStay)||"N/A",recentTransactions:(v==null?void 0:v.recent)||[]}:{today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[{id:"1",amount:4.5,plate:"SA23 KRG",time:"14:32",site:"Kyle Rise"},{id:"2",amount:6,plate:"GN21 XWB",time:"14:15",site:"Kyle Rise"},{id:"3",amount:3,plate:"SD19 PPL",time:"13:48",site:"Kyle Surface"}]})}catch(p){console.error("Revenue fetch error:",p),n({today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[]})}l(!1)};o();const u=setInterval(o,a);return()=>clearInterval(u)},[e.apiUrl,e.siteId,a]),s||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading revenue data..."})});const i=t.yesterday>0?((t.today-t.yesterday)/t.yesterday*100).toFixed(1):"0",c=parseFloat(i)>=0;return r.jsxs("div",{className:"flex flex-col h-full p-8",style:{fontFamily:"Antonio, sans-serif"},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(Wc,{className:"w-8 h-8 text-accent"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white tracking-wider",children:e.siteName||"REVENUE"}),r.jsx("p",{className:"text-sm text-gray-500",children:"POS Overview"})]})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"text-6xl font-bold text-white mb-2",children:["",t.today.toFixed(2)]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg",children:[c?r.jsx(El,{className:"w-5 h-5 text-green-400"}):r.jsx(Mh,{className:"w-5 h-5 text-red-400"}),r.jsxs("span",{className:c?"text-green-400":"text-red-400",children:[c?"+":"",i,"%"]}),r.jsx("span",{className:"text-gray-500",children:"vs yesterday"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(xs,{label:"YESTERDAY",value:`${t.yesterday.toFixed(2)}`}),r.jsx(xs,{label:"THIS WEEK",value:`${t.weekTotal.toFixed(2)}`}),r.jsx(xs,{label:"TRANSACTIONS",value:t.transactionCount.toString(),icon:r.jsx(ko,{className:"w-4 h-4"})}),r.jsx(xs,{label:"AVG STAY",value:t.averageStay,icon:r.jsx(Ht,{className:"w-4 h-4"})})]}),e.showTransactions!==!1&&t.recentTransactions.length>0&&r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider mb-3",children:"RECENT"}),r.jsx("div",{className:"space-y-2",children:t.recentTransactions.map(o=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(Wc,{className:"w-4 h-4 text-accent flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"text-sm text-white",children:["",o.amount.toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[o.plate||"Cash","  ",o.site]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:o.time})]},o.id))})]})]})}function xs({label:e,value:t,icon:n}){return r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-4 text-center",children:[n&&r.jsx("div",{className:"flex justify-center mb-1 text-gray-500",children:n}),r.jsx("div",{className:"text-xl font-bold text-white",children:t}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 tracking-wider",children:e})]})}const mx="/video";function xx({playlist:e,showControls:t=!1,onComplete:n,onInterrupt:s}){const[l,a]=y.useState(0),[i,c]=y.useState(!0),[o,u]=y.useState(0),[f,p]=y.useState(!1),[h,v]=y.useState(!1),w=y.useRef(null),g=y.useRef(null),O=y.useRef(Date.now()),x=e.items[l],d=e.items.length,m=y.useCallback(()=>{l>=d-1?e.loop?(p(!0),setTimeout(()=>{a(0),u(0),O.current=Date.now(),p(!1)},500)):(c(!1),n==null||n()):(p(!0),setTimeout(()=>{a(S=>S+1),u(0),O.current=Date.now(),p(!1)},500))},[l,d,e.loop,n]),b=y.useCallback(()=>{l>0&&(p(!0),setTimeout(()=>{a(S=>S-1),u(0),O.current=Date.now(),p(!1)},500))},[l]);y.useEffect(()=>{if(!i||!x||x.contentType==="video")return;const S=x.duration*1e3;O.current=Date.now();const T=()=>{const I=Date.now()-O.current,U=Math.min(I/S*100,100);u(U),I>=S?m():g.current=requestAnimationFrame(T)};return g.current=requestAnimationFrame(T),()=>{g.current&&cancelAnimationFrame(g.current)}},[l,i,x,m]);const _=y.useCallback(()=>{m()},[m]),R=y.useCallback(()=>{if(w.current){const S=w.current.currentTime/w.current.duration*100;u(S)}},[]);if(y.useEffect(()=>{w.current&&(i?w.current.play().catch(()=>{}):w.current.pause())},[i,l]),y.useEffect(()=>{w.current&&(w.current.muted=h)},[h]),!x)return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),r.jsx("p",{children:"Empty playlist"})]})});const N=()=>e.transition==="none"?"":e.transition==="fade"?f?"opacity-0":"opacity-100":e.transition==="slide"?f?"-translate-x-full":"translate-x-0":"";return r.jsxs("div",{className:"w-full h-full relative overflow-hidden bg-dark-900",children:[r.jsx("div",{className:`w-full h-full transition-all duration-500 ${N()}`,children:r.jsx(gx,{item:x,videoRef:w,onVideoEnded:_,onVideoTimeUpdate:R,isPlaying:i,isMuted:h})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-dark-800/50",children:r.jsx("div",{className:"h-full bg-accent transition-all duration-100",style:{width:`${o}%`}})}),d>1&&r.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2",children:e.items.map((S,T)=>r.jsx("button",{onClick:()=>{p(!0),setTimeout(()=>{a(T),u(0),O.current=Date.now(),p(!1)},300)},className:`h-2 rounded-full transition-all ${T===l?"bg-accent w-8":"bg-white/30 w-2 hover:bg-white/50"}`},T))}),t&&r.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[r.jsxs("div",{className:"bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:[l+1," / ",d,"  ",x.name]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[r.jsx("button",{onClick:b,disabled:l===0,className:"p-1 hover:bg-dark-600 rounded disabled:opacity-30",children:r.jsx(F0,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>c(!i),className:"p-2 bg-accent text-dark-900 rounded-full hover:bg-accent-dim",children:i?r.jsx(I0,{className:"w-4 h-4"}):r.jsx(xt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:m,className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(Oh,{className:"w-4 h-4"})}),r.jsx("div",{className:"w-px h-4 bg-dark-600 mx-1"}),r.jsx("button",{onClick:()=>v(!h),className:"p-1 hover:bg-dark-600 rounded",children:h?r.jsx($h,{className:"w-4 h-4"}):r.jsx(Fh,{className:"w-4 h-4"})}),r.jsx("div",{className:`p-1 rounded ${e.loop?"text-accent":"text-gray-500"}`,children:r.jsx(D0,{className:"w-4 h-4"})})]})]})]})}function gx({item:e,videoRef:t,onVideoEnded:n,onVideoTimeUpdate:s,isPlaying:l,isMuted:a}){var i;switch(e.contentType){case"video":const c=e.url||`${mx}/${e.contentId}.mp4`;return r.jsx("video",{ref:t,src:c,className:"w-full h-full object-contain bg-black",autoPlay:l,muted:a,onEnded:n,onTimeUpdate:s,playsInline:!0});case"template":case"url":const o=e.url||((i=e.config)==null?void 0:i.url)||"";return r.jsx("iframe",{src:o,className:"w-full h-full border-0",title:e.name,allow:"autoplay"});case"widget":return r.jsx(yx,{widget:e.widget||"",config:e.config||{}});default:return r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xl",children:"Unknown content type"}),r.jsx("p",{className:"text-sm mt-2",children:e.contentType})]})})}}function yx({widget:e,config:t}){switch(e){case"clock":return r.jsx(Tl,{config:t});case"weather":return r.jsx(Ll,{config:t});case"camera":return r.jsx(_l,{config:t});case"camera-grid":return r.jsx(Pl,{config:t});case"stats":return r.jsx(Rl,{config:t});case"occupancy":return r.jsx(Al,{config:t});case"iframe":return r.jsx(Il,{config:t});case"layout":return r.jsx(Ol,{config:t});case"operations-dashboard":return r.jsx(Eo,{config:t});default:return r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-xl",children:["Unknown widget: ",e]}),r.jsx("pre",{className:"text-sm mt-2",children:JSON.stringify(t,null,2)})]})})}}function vx({screens:e}){var a;const[t,n]=y.useState(null);y.useEffect(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(console.error);const i=setInterval(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(()=>{})},1e4);return()=>clearInterval(i)},[]);const s=e.filter(i=>i.connected).length,l=e.length-s;return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"lcars-bar h-2 w-32"}),r.jsx("h1",{className:"text-2xl font-bold tracking-widest text-accent",children:"SYSTEM STATUS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent/30 to-transparent"}),r.jsx("span",{className:"text-xs text-gray-500 tracking-wider",children:new Date().toLocaleTimeString("en-GB")})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx(gn,{icon:ut,label:"TOTAL SCREENS",value:(t==null?void 0:t.screens.total)??e.length,color:"accent"}),r.jsx(gn,{icon:Vr,label:"ONLINE",value:s,color:"green"}),r.jsx(gn,{icon:R0,label:"OFFLINE",value:l,color:"red"}),r.jsx(gn,{icon:Ah,label:"PLAYLISTS",value:(t==null?void 0:t.playlists.total)??0,color:"amber"}),r.jsx(gn,{icon:ln,label:"LOCATIONS",value:(t==null?void 0:t.locations.total)??0,color:"teal"}),r.jsx(gn,{icon:jo,label:"SCHEDULES",value:(t==null?void 0:t.schedules.active)??0,color:"pink"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-accent"}),"SCREEN STATUS"]}),r.jsx("div",{className:"space-y-2",children:e.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No screens registered"}):e.map(i=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${i.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:i.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[i.id,"  ",i.location_name||"No location"]})]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:i.connected?"ONLINE":"OFFLINE"}),i.connected&&i.currentMode&&r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:i.currentMode.toUpperCase()}),i.last_seen&&r.jsx("span",{className:"text-xs text-gray-600",children:wx(i.last_seen)})]},i.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(ln,{className:"w-4 h-4 text-lcars-teal"}),"LOCATIONS"]}),r.jsx("div",{className:"space-y-3",children:((a=t==null?void 0:t.screensByLocation)==null?void 0:a.map((i,c)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:i.location}),r.jsx("span",{className:"text-sm text-accent font-bold",children:i.count})]},c)))||r.jsx("p",{className:"text-gray-500 text-xs",children:"Loading..."})})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Sl,{className:"w-4 h-4 text-lcars-purple"}),"CONTENT LIBRARY"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Widgets"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.widgets)??18})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Templates"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.templates)??5})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Playlists"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.playlists.total)??0})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4 text-accent"}),"QUICK ACTIONS"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ga,{label:"Reload All Screens",color:"accent",onClick:()=>fetch("/api/reload-all",{method:"POST"})}),r.jsx(ga,{label:"Clear All Screens",color:"red",onClick:()=>fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all"})})}),r.jsx(ga,{label:"Push Test Alert",color:"amber",onClick:()=>fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all",message:"System test",level:"info",duration:5e3})})})]})]})]})]})]})}function gn({icon:e,label:t,value:n,color:s}){const l={accent:"bg-accent/10 text-accent border-accent/20",green:"bg-green-500/10 text-green-400 border-green-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",teal:"bg-teal-500/10 text-teal-400 border-teal-500/20",pink:"bg-pink-500/10 text-pink-400 border-pink-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20"};return r.jsxs("div",{className:`rounded-xl border p-4 ${l[s]||l.accent}`,children:[r.jsx(e,{className:"w-5 h-5 mb-2 opacity-70"}),r.jsx("div",{className:"text-3xl font-bold",children:n}),r.jsx("div",{className:"text-xs tracking-wider opacity-60 mt-1",children:t})]})}function ga({label:e,color:t,onClick:n}){const s={accent:"hover:bg-accent/20 hover:text-accent hover:border-accent/40",red:"hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/40",amber:"hover:bg-amber-500/20 hover:text-amber-400 hover:border-amber-500/40"};return r.jsx("button",{onClick:n,className:`w-full text-left text-sm px-3 py-2 rounded-lg border border-dark-600 text-gray-400 transition ${s[t]}`,children:e})}function wx(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}function jx({screens:e,onRefresh:t}){const[n,s]=y.useState("all"),[l,a]=y.useState(""),[i,c]=y.useState(""),[o,u]=y.useState(null),[f,p]=y.useState({name:"",location_id:"",group_id:""}),[h,v]=y.useState([]),[w,g]=y.useState(""),[O,x]=y.useState(""),[d,m]=y.useState(new Set),[b,_]=y.useState("list");y.useEffect(()=>{fetch("/api/locations").then(C=>C.json()).then(C=>{C.success&&v(C.data)}).catch(()=>{})},[]);const R=e.filter(C=>!(w&&C.location_id!==w||O==="online"&&!C.connected||O==="offline"&&C.connected)),N=e.filter(C=>C.connected).length,S=async()=>{l&&(await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,type:"url",content:{url:l}})}),a(""))},T=async()=>{i&&(await fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,message:i,level:"info",duration:1e4})}),c(""))},I=async()=>{const C=d.size>0?Array.from(d):[n];for(const A of C)await fetch("/api/reload-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:A})})},U=async()=>{await fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n})})},ee=async C=>{confirm(`Delete screen "${C}"?`)&&(await fetch(`/api/screens/${C}`,{method:"DELETE"}),t())},q=C=>{u(C.id),p({name:C.name,location_id:C.location_id||"",group_id:C.group_id})},k=async()=>{o&&(await fetch(`/api/screens/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),u(null),t())},j=async(C,A)=>{await fetch(`/api/screens/${C}/mode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:A})})},D=C=>{m(A=>{const F=new Set(A);return F.has(C)?F.delete(C):F.add(C),F})};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"lcars-bar h-2 w-24"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-blue",children:"SCREEN CONTROL"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-500/30 to-transparent"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[N," online / ",e.length," total"]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"xl:col-span-3 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(k0,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:w,onChange:C=>g(C.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[r.jsx("option",{value:"",children:"All Locations"}),h.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]}),r.jsxs("select",{value:O,onChange:C=>x(C.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.size>0&&r.jsxs("span",{className:"text-xs text-accent px-2 py-1 bg-accent/10 rounded-lg",children:[d.size," selected"]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400",children:r.jsx(hn,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[R.map(C=>r.jsx("div",{className:`glass glass-hover rounded-xl transition-all ${d.has(C.id)?"ring-1 ring-accent/50 bg-accent/5":""} ${n===C.id?"ring-1 ring-blue-500/50":""}`,children:r.jsxs("div",{className:"flex items-center gap-4 p-4",children:[r.jsx("input",{type:"checkbox",checked:d.has(C.id),onChange:()=>D(C.id),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent focus:ring-accent"}),r.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${C.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),r.jsx("div",{className:"flex-1 min-w-0",children:o===C.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:f.name,onChange:A=>p(F=>({...F,name:A.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm w-48",autoFocus:!0}),r.jsxs("select",{value:f.location_id,onChange:A=>p(F=>({...F,location_id:A.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"No Location"}),h.map(A=>r.jsx("option",{value:A.id,children:A.name},A.id))]}),r.jsx("button",{onClick:k,className:"p-1 text-green-400 hover:bg-green-500/20 rounded",children:r.jsx(Yr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>u(null),className:"p-1 text-gray-400 hover:bg-dark-600 rounded",children:r.jsx(Kc,{className:"w-4 h-4"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:C.name}),C.currentMode&&C.connected&&r.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${C.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:C.currentMode.toUpperCase()})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[r.jsx("span",{children:C.id}),C.location_name&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(ln,{className:"w-3 h-3"}),r.jsx("span",{children:C.location_name})]}),C.last_seen&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:kx(C.last_seen)})]})]})]})}),r.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${C.connected?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:C.connected?"ONLINE":"OFFLINE"}),r.jsxs("div",{className:"flex items-center gap-1",children:[C.connected&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>j(C.id,"signage"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-blue-400 transition",title:"Signage Mode",children:r.jsx(yi,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>j(C.id,"interactive"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-purple-400 transition",title:"Interactive Mode",children:r.jsx($0,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>s(C.id),className:`p-1.5 rounded transition ${n===C.id?"bg-accent/20 text-accent":"hover:bg-dark-600 text-gray-500 hover:text-accent"}`,title:"Set as push target",children:r.jsx(Gc,{className:"w-3.5 h-3.5"})})]}),r.jsx("button",{onClick:()=>q(C),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:r.jsx(Br,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>ee(C.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:r.jsx(fn,{className:"w-3.5 h-3.5"})})]})]})},C.id)),R.length===0&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(ut,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No screens match filters"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Gc,{className:"w-4 h-4 text-accent"}),"PUSH CONTENT"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),r.jsx("option",{value:"office",children:"Office Group"}),r.jsx("option",{value:"kiosk",children:"Kiosk Group"}),e.map(C=>r.jsxs("option",{value:C.id,children:[C.name," ",C.connected?"":""]},C.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"URL to push...",value:l,onChange:C=>a(C.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:C=>C.key==="Enter"&&S()}),r.jsx("button",{onClick:S,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg font-medium text-sm hover:bg-accent-dim transition",children:"Push"})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"PUSH ALERT"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Alert message...",value:i,onChange:C=>c(C.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:C=>C.key==="Enter"&&T()}),r.jsx("button",{onClick:T,className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium text-sm hover:bg-amber-700 transition",children:"Alert"})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"ACTIONS"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:I,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-accent/40 transition",children:[r.jsx(hn,{className:"w-4 h-4"})," Reload Screens"]}),r.jsxs("button",{onClick:U,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-red-500/40 transition",children:[r.jsx(Kc,{className:"w-4 h-4"})," Clear Screens"]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"QUICK PUSH"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Clock",widget:"clock",config:{}},{label:"Weather",widget:"weather",config:{location:"Ayr, Scotland"}},{label:"Occupancy",widget:"occupancy",config:{siteName:"Kyle Rise",capacity:50}},{label:"Test Card",widget:"testcard",config:{}},{label:"Ops Dashboard",widget:"operations-dashboard",config:{}},{label:"Team Feed",widget:"team-activity",config:{}}].map(C=>r.jsx("button",{onClick:()=>Nx(n,C.widget,C.config),className:"text-xs px-2 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:C.label},C.widget))})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"LINKS"}),r.jsxs("div",{className:"space-y-1.5 text-sm",children:[r.jsx("a",{href:"?screen=test",className:"block text-accent hover:underline",children:" Open test display"}),r.jsx("a",{href:"/api/health",target:"_blank",className:"block text-gray-400 hover:text-white",children:" API Health"}),r.jsx("a",{href:"/api/screens",target:"_blank",className:"block text-gray-400 hover:text-white",children:" Screens API"})]})]})]})]})]})}async function Nx(e,t,n){await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:e,widget:t,config:n})})}function kx(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}const bx=["fade","slide","none"];function Sx({screens:e}){const[t,n]=y.useState([]),[s,l]=y.useState([]),[a,i]=y.useState(null),[c,o]=y.useState(!1),[u,f]=y.useState({name:"",description:"",transition:"fade",loop:!0}),[p,h]=y.useState([]),[v,w]=y.useState(!1),[g,O]=y.useState("all"),x=y.useCallback(async()=>{const j=await(await fetch("/api/playlists")).json();j.success&&n(j.data)},[]),d=y.useCallback(async()=>{const j=await(await fetch("/api/content/widgets")).json();j.success&&l(j.data)},[]);y.useEffect(()=>{x(),d()},[x,d]);const m=t.find(k=>k.id===a),b=()=>{w(!0),o(!0),i(null),f({name:"",description:"",transition:"fade",loop:!0}),h([])},_=k=>{i(k.id),o(!0),w(!1),f({name:k.name,description:k.description,transition:k.transition,loop:k.loop}),h([...k.items])},R=()=>{o(!1),w(!1)},N=async()=>{const k={name:u.name,description:u.description,items:p,transition:u.transition,loop:u.loop};v?await fetch("/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}):a&&await fetch(`/api/playlists/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),o(!1),w(!1),x()},S=async k=>{confirm("Delete this playlist?")&&(await fetch(`/api/playlists/${k}`,{method:"DELETE"}),a===k&&i(null),x())},T=async k=>{await fetch(`/api/playlists/${k}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:g})})},I=(k,j)=>{var A,F;const C={id:`item-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,contentType:k,widget:j||void 0,config:j?((A=s.find($=>$.id===j))==null?void 0:A.defaultConfig)||{}:{},duration:30,name:j?((F=s.find($=>$.id===j))==null?void 0:F.name)||j:"URL Item",url:k==="url"?"":void 0};h($=>[...$,C])},U=k=>{h(j=>j.filter((D,C)=>C!==k))},ee=(k,j)=>{if(j==="up"&&k===0||j==="down"&&k===p.length-1)return;const D=[...p],C=j==="up"?k-1:k+1;[D[k],D[C]]=[D[C],D[k]],h(D)},q=(k,j)=>{h(D=>D.map((C,A)=>A===k?{...C,...j}:C))};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-amber-500 to-amber-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-amber",children:"PLAYLISTS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-amber-500/30 to-transparent"}),r.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Ur,{className:"w-4 h-4"})," New Playlist"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[t.length===0?r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(Sl,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No playlists yet"}),r.jsx("button",{onClick:b,className:"mt-3 text-accent text-sm hover:underline",children:"Create one "})]}):t.map(k=>r.jsx("div",{onClick:()=>{i(k.id),o(!1),w(!1)},className:`glass glass-hover rounded-xl p-4 cursor-pointer transition-all ${a===k.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:k.name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[k.items.length," items  ",k.transition,"  ",k.loop?"loop":"once"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),T(k.id)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-green-400 transition",title:"Push",children:r.jsx(xt,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:j=>{j.stopPropagation(),_(k)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:r.jsx(Br,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:j=>{j.stopPropagation(),S(k.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:r.jsx(fn,{className:"w-3.5 h-3.5"})})]})]})},k.id)),r.jsxs("div",{className:"glass rounded-xl p-4 mt-4",children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"PUSH TARGET"}),r.jsxs("select",{value:g,onChange:k=>O(k.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),e.map(k=>r.jsxs("option",{value:k.id,children:[k.name," ",k.connected?"":""]},k.id))]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:c?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:v?"New Playlist":"Edit Playlist"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:R,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white transition",children:"Cancel"}),r.jsxs("button",{onClick:N,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Yr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),r.jsx("input",{value:u.name,onChange:k=>f(j=>({...j,name:k.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Playlist name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TRANSITION"}),r.jsx("select",{value:u.transition,onChange:k=>f(j=>({...j,transition:k.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:bx.map(k=>r.jsx("option",{value:k,children:k},k))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"DESCRIPTION"}),r.jsx("input",{value:u.description,onChange:k=>f(j=>({...j,description:k.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Optional description..."})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u.loop,onChange:k=>f(j=>({...j,loop:k.target.checked})),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent"}),"Loop playlist"]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-400 tracking-wider",children:["ITEMS (",p.length,")"]}),p.map((k,j)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg group",children:[r.jsx(C0,{className:"w-4 h-4 text-gray-600 cursor-grab"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("input",{value:k.name,onChange:D=>q(j,{name:D.target.value}),className:"bg-transparent text-sm font-medium w-full outline-none",placeholder:"Item name"}),k.contentType==="url"&&r.jsx("input",{value:k.url||"",onChange:D=>q(j,{url:D.target.value}),className:"bg-dark-600 mt-1 text-xs px-2 py-1 rounded w-full outline-none",placeholder:"https://..."}),r.jsxs("span",{className:"text-xs text-gray-500",children:[k.contentType," ",k.widget?` ${k.widget}`:""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ht,{className:"w-3 h-3 text-gray-500"}),r.jsx("input",{type:"number",value:k.duration,onChange:D=>q(j,{duration:Number(D.target.value)}),className:"w-14 bg-dark-600 text-center text-xs px-1 py-1 rounded",min:5,max:600}),r.jsx("span",{className:"text-xs text-gray-500",children:"s"})]}),r.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{onClick:()=>ee(j,"up"),className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(Lh,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>ee(j,"down"),className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(Ph,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>U(j),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400",children:r.jsx(fn,{className:"w-3 h-3"})})]})]},k.id))]}),r.jsxs("div",{className:"border-t border-dark-600 pt-4",children:[r.jsx("h4",{className:"text-xs text-gray-500 tracking-wider mb-2",children:"ADD WIDGET"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.map(k=>r.jsx("button",{onClick:()=>I("widget",k.id),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:k.name},k.id)),r.jsx("button",{onClick:()=>I("url"),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-blue-500/30 transition",children:"+ URL"})]})]})]}):m?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:m.name}),r.jsx("p",{className:"text-sm text-gray-500",children:m.description||"No description"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>T(m.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition flex items-center gap-2",children:[r.jsx(xt,{className:"w-4 h-4"})," Push"]}),r.jsxs("button",{onClick:()=>_(m),className:"px-4 py-2 bg-dark-600 border border-dark-500 text-white rounded-lg text-sm hover:bg-dark-500 transition flex items-center gap-2",children:[r.jsx(Br,{className:"w-4 h-4"})," Edit"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-6",children:[r.jsxs("span",{children:[m.items.length," items"]}),r.jsxs("span",{children:["Transition: ",m.transition]}),r.jsx("span",{children:m.loop?"Looping":"Play once"}),r.jsxs("span",{children:["Total: ",m.items.reduce((k,j)=>k+j.duration,0),"s"]})]}),r.jsx("div",{className:"space-y-2",children:m.items.map((k,j)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("span",{className:"text-xs text-gray-600 w-6 text-center",children:j+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:k.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[k.contentType," ",k.widget?` ${k.widget}`:""]})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[k.duration,"s"]})]},k.id))})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(al,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a playlist to view details"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})})]})]})}const Cx={clock:Ht,cloud:nn,camera:No,grid:al,parking:bo,"bar-chart":f0,activity:Vn,users:Dh};function Ex(){const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState([]),[i,c]=y.useState("widgets"),[o,u]=y.useState("all");y.useEffect(()=>{fetch("/api/content/widgets").then(g=>g.json()).then(g=>{g.success&&t(g.data)}),fetch("/api/content/templates").then(g=>g.json()).then(g=>{g.success&&s(g.data)}),fetch("/api/content/videos").then(g=>g.json()).then(g=>{g.success&&a(g.data)}).catch(()=>{})},[]);const f=async(g,O)=>{await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,widget:g,config:O})})},p=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"url",content:{url:g}})})},h=async(g,O)=>{await fetch("/api/display",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,template:g,data:O})})},v=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"media",content:{url:`/video/${g}`,type:"video",loop:!0}})})},w={};return l.forEach(g=>{w[g.category]||(w[g.category]=[]),w[g.category].push(g)}),r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-purple-500 to-purple-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-purple",children:"CONTENT LIBRARY"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-500/30 to-transparent"})]}),r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[r.jsx("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1",children:["widgets","templates","videos"].map(g=>r.jsx("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-md text-sm font-medium tracking-wider transition ${i===g?"bg-accent text-dark-900":"text-gray-400 hover:text-white"}`,children:g.toUpperCase()},g))}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Push to:"}),r.jsxs("select",{value:o,onChange:g=>u(g.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),r.jsx("option",{value:"office",children:"Office Group"})]})]})]}),i==="widgets"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(g=>{const O=Cx[g.icon]||Vr;return r.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center",children:r.jsx(O,{className:"w-5 h-5 text-accent"})}),r.jsx("button",{onClick:()=>f(g.id,g.defaultConfig),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:r.jsx(xt,{className:"w-4 h-4"})})]}),r.jsx("h4",{className:"font-medium text-sm",children:g.name}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]},g.id)})}),i==="templates"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4 text-accent"}),"DISPLAY TEMPLATES"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>g.type==="react-template").map(g=>r.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center",children:r.jsx(al,{className:"w-5 h-5 text-accent"})}),r.jsx("button",{onClick:()=>h(g.id,g.defaultData),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push with demo data",children:r.jsx(xt,{className:"w-4 h-4"})})]}),r.jsx("h4",{className:"font-medium text-sm",children:g.name}),g.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description}),r.jsx("p",{className:"text-[10px] text-gray-600 mt-1.5 tracking-wider",children:g.category.toUpperCase()})]},g.id))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Sl,{className:"w-4 h-4 text-lcars-purple"}),"HTML TEMPLATES"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>!g.type||g.type!=="react-template").map(g=>r.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-lcars-purple/10 rounded-lg flex items-center justify-center",children:r.jsx(al,{className:"w-5 h-5 text-lcars-purple"})}),r.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{onClick:()=>g.path&&p(g.path),className:"p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:r.jsx(xt,{className:"w-4 h-4"})}),g.path&&r.jsx("a",{href:g.path,target:"_blank",className:"p-2 bg-dark-600 text-gray-400 rounded-lg hover:bg-dark-500 transition",title:"Preview",children:r.jsx(j0,{className:"w-4 h-4"})})]})]}),r.jsx("h4",{className:"font-medium text-sm",children:g.name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Category: ",g.category]})]},g.id))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-lcars-blue"}),"INTEGRATIONS"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[{label:"LCARS Interface",desc:"Star Trek NOC",url:"http://10.10.10.123:5180/",color:"amber"},{label:"Skynet Command",desc:"Main dashboard",url:"http://10.10.10.123:3210/",color:"blue"},{label:"POS Dashboard",desc:"Parking ops",url:"http://10.10.10.123:5173/",color:"green"},{label:"Skynet Voice",desc:"Voice interface",url:"http://10.10.10.123:3280/",color:"teal"},{label:"AirWave",desc:"Aviation tracking",url:"http://10.10.10.123:8501/",color:"purple"},{label:"Situational Awareness",desc:"Live overview",url:"http://10.10.10.123:3210/sa",color:"rose"}].map(g=>r.jsxs("div",{className:"glass glass-hover rounded-xl p-4 group",children:[r.jsx("h4",{className:"font-medium text-sm",children:g.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:g.desc}),r.jsx("button",{onClick:()=>p(g.url),className:"mt-2 text-xs text-accent hover:underline opacity-0 group-hover:opacity-100 transition",children:"Push to screens "})]},g.url))})]})]}),i==="videos"&&r.jsx("div",{className:"space-y-6",children:Object.keys(w).length===0?r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(qc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No videos found"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Videos should be at /Volumes/Parkwise/Skynet/video/"})]}):Object.entries(w).map(([g,O])=>r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(b0,{className:"w-4 h-4"}),g.toUpperCase(),r.jsxs("span",{className:"text-xs text-gray-600",children:["(",O.length,")"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:O.map(x=>r.jsx("div",{className:"glass glass-hover rounded-xl p-4 group",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qc,{className:"w-8 h-8 text-lcars-purple flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:x.filename}),r.jsxs("div",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(1)," MB"]})]}),r.jsx("button",{onClick:()=>v(x.filename),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",children:r.jsx(xt,{className:"w-3.5 h-3.5"})})]})},x.filename))})]},g))})]})}function Tx({screens:e,onRefresh:t}){const[n,s]=y.useState([]),[l,a]=y.useState(null),[i,c]=y.useState(!1),[o,u]=y.useState(!1),[f,p]=y.useState({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"}),[h,v]=y.useState(""),w=y.useCallback(async()=>{const I=await(await fetch("/api/locations")).json();I.success&&s(I.data)},[]);y.useEffect(()=>{w()},[w]);const g=n.find(T=>T.id===l),O=()=>{u(!0),c(!0),a(null),p({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"})},x=T=>{var I,U;a(T.id),c(!0),u(!1),p({name:T.name,address:T.address||"",latitude:((I=T.latitude)==null?void 0:I.toString())||"",longitude:((U=T.longitude)==null?void 0:U.toString())||"",timezone:T.timezone})},d=()=>{c(!1),u(!1)},m=async()=>{const T={name:f.name,address:f.address||null,latitude:f.latitude?parseFloat(f.latitude):null,longitude:f.longitude?parseFloat(f.longitude):null,timezone:f.timezone};o?await fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}):l&&await fetch(`/api/locations/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),c(!1),u(!1),w()},b=async T=>{confirm("Delete this location? Screens will be unassigned.")&&(await fetch(`/api/locations/${T}`,{method:"DELETE"}),l===T&&a(null),w(),t())},_=async()=>{!h||!l||(await fetch(`/api/locations/${l}/screens`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenIds:[h]})}),v(""),t(),w())},R=async(T,I,U)=>{await fetch(`/api/locations/${T}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"widget",content:{widget:I,config:U}})})},N=T=>e.filter(I=>I.location_id===T),S=e.filter(T=>!T.location_id);return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-teal-500 to-teal-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-teal",children:"LOCATIONS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-teal-500/30 to-transparent"}),r.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Ur,{className:"w-4 h-4"})," Add Location"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[n.map(T=>r.jsx("div",{onClick:()=>{a(T.id),c(!1),u(!1)},className:`glass glass-hover rounded-xl p-5 cursor-pointer transition-all ${l===T.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"w-4 h-4 text-lcars-teal"}),r.jsx("h4",{className:"font-medium text-sm",children:T.name})]}),T.address&&r.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:T.address}),r.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-6 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ut,{className:"w-3 h-3"})," ",T.screen_count," screens"]}),r.jsxs("span",{className:"text-green-400",children:[T.online_count," online"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:I=>{I.stopPropagation(),x(T)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:r.jsx(Br,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:I=>{I.stopPropagation(),b(T.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:r.jsx(fn,{className:"w-3.5 h-3.5"})})]})]})},T.id)),n.length===0&&r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(ln,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No locations yet"})]})]}),r.jsx("div",{className:"lg:col-span-2",children:i?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:o?"New Location":"Edit Location"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:d,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),r.jsxs("button",{onClick:m,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Yr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),r.jsx("input",{value:f.name,onChange:T=>p(I=>({...I,name:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Location name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"ADDRESS"}),r.jsx("input",{value:f.address,onChange:T=>p(I=>({...I,address:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Street address..."})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LATITUDE"}),r.jsx("input",{value:f.latitude,onChange:T=>p(I=>({...I,latitude:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"55.46"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LONGITUDE"}),r.jsx("input",{value:f.longitude,onChange:T=>p(I=>({...I,longitude:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"-4.63"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TIMEZONE"}),r.jsx("input",{value:f.timezone,onChange:T=>p(I=>({...I,timezone:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]})]})]}):g?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5 text-lcars-teal"}),g.name]}),g.address&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.address})]}),r.jsx("button",{onClick:()=>x(g),className:"px-3 py-1.5 bg-dark-600 border border-dark-500 rounded-lg text-sm hover:bg-dark-500 transition",children:"Edit"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Coordinates"}),r.jsx("div",{className:"text-white mt-1",children:g.latitude&&g.longitude?`${g.latitude.toFixed(4)}, ${g.longitude.toFixed(4)}`:"Not set"})]}),r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Timezone"}),r.jsx("div",{className:"text-white mt-1",children:g.timezone})]}),r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Screens"}),r.jsxs("div",{className:"text-white mt-1",children:[g.screen_count," total, ",g.online_count," online"]})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"SCREENS AT THIS LOCATION"}),r.jsxs("div",{className:"space-y-2",children:[N(g.id).map(T=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${T.connected?"bg-green-500":"bg-gray-600"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:T.name}),r.jsx("div",{className:"text-xs text-gray-500",children:T.id})]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:T.connected?"ONLINE":"OFFLINE"})]},T.id)),N(g.id).length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"No screens assigned"})]}),S.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-dark-600",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:h,onChange:T=>v(T.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Assign a screen..."}),S.map(T=>r.jsxs("option",{value:T.id,children:[T.name," (",T.id,")"]},T.id))]}),r.jsx("button",{onClick:_,disabled:!h,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:"Assign"})]})})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"PUSH TO ALL SCREENS"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>R(g.id,"clock",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Clock"}),r.jsx("button",{onClick:()=>R(g.id,"weather",{location:"Ayr, Scotland"}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Weather"}),r.jsx("button",{onClick:()=>R(g.id,"occupancy",{siteName:g.name,capacity:50}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Occupancy"}),r.jsx("button",{onClick:()=>R(g.id,"testcard",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Test Card"})]})]})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(S0,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a location to view details"})]})})]})]})}const _x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Px=["S","M","T","W","T","F","S"];function Lx(){const[e,t]=y.useState([]),[n,s]=y.useState([]),[l,a]=y.useState(!1),[i,c]=y.useState(!1),[o,u]=y.useState(null),[f,p]=y.useState({playlistId:"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0}),h=y.useCallback(async()=>{const S=await(await fetch("/api/schedules")).json();S.success&&t(S.data)},[]),v=y.useCallback(async()=>{const S=await(await fetch("/api/playlists")).json();S.success&&s(S.data)},[]);y.useEffect(()=>{h(),v()},[h,v]);const w=()=>{var N;c(!0),a(!0),u(null),p({playlistId:((N=n[0])==null?void 0:N.id)||"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0})},g=N=>{u(N.id),a(!0),c(!1),p({playlistId:N.playlistId,screenTarget:N.screenTarget,startTime:N.startTime,endTime:N.endTime,days:N.days,priority:N.priority})},O=()=>{a(!1),c(!1),u(null)},x=async()=>{i?await fetch("/api/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}):o&&await fetch(`/api/schedules/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),O(),h()},d=async N=>{confirm("Delete this schedule?")&&(await fetch(`/api/schedules/${N}`,{method:"DELETE"}),h())},m=async N=>{await fetch(`/api/schedules/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:!N.enabled})}),h()},b=N=>{p(S=>({...S,days:S.days.includes(N)?S.days.filter(T=>T!==N):[...S.days,N].sort()}))},_=N=>{var S;return((S=n.find(T=>T.id===N))==null?void 0:S.name)||N},R=N=>{const S=new Date,T=S.getDay(),I=S.toTimeString().slice(0,5);return N.enabled&&N.days.includes(T)&&I>=N.startTime&&I<=N.endTime};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-pink-500 to-pink-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-pink",children:"SCHEDULES"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-pink-500/30 to-transparent"}),r.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Ur,{className:"w-4 h-4"})," New Schedule"]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"TODAY'S TIMELINE"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"flex items-end gap-0 mb-2",children:Array.from({length:24},(N,S)=>r.jsx("div",{className:"flex-1 text-center",children:r.jsx("span",{className:"text-[10px] text-gray-600",children:S.toString().padStart(2,"0")})},S))}),r.jsxs("div",{className:"relative h-12 bg-dark-700/50 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-accent z-10",style:{left:`${(new Date().getHours()*60+new Date().getMinutes())/1440*100}%`}}),e.filter(N=>N.enabled&&N.days.includes(new Date().getDay())).map(N=>{const[S,T]=N.startTime.split(":").map(Number),[I,U]=N.endTime.split(":").map(Number),ee=(S*60+T)/1440*100,k=(I*60+U)/1440*100-ee;return r.jsx("div",{className:`absolute top-1 bottom-1 rounded ${R(N)?"bg-accent/40":"bg-accent/20"}`,style:{left:`${ee}%`,width:`${k}%`},title:`${_(N.playlistId)}: ${N.startTime} - ${N.endTime}`,children:r.jsx("span",{className:"text-[10px] text-white/70 px-1 truncate block mt-0.5",children:_(N.playlistId)})},N.id)})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400",children:["ALL SCHEDULES (",e.length,")"]}),e.length===0?r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(jo,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No schedules configured"})]}):e.map(N=>r.jsx("div",{className:`glass glass-hover rounded-xl p-4 transition-all ${R(N)?"ring-1 ring-green-500/30":""} ${N.enabled?"":"opacity-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[R(N)&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),r.jsx("h4",{className:"text-sm font-medium",children:_(N.playlistId)})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),N.startTime," - ",N.endTime]}),r.jsxs("span",{children:[" ",N.screenTarget]}),r.jsxs("span",{children:["P",N.priority]})]}),r.jsx("div",{className:"flex gap-1 mt-2",children:Px.map((S,T)=>r.jsx("span",{className:`w-5 h-5 rounded text-[10px] flex items-center justify-center ${N.days.includes(T)?"bg-accent/20 text-accent":"bg-dark-700 text-gray-600"}`,children:S},T))})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[r.jsx("button",{onClick:()=>m(N),className:`p-1.5 rounded transition ${N.enabled?"text-green-400 hover:bg-green-500/20":"text-gray-500 hover:bg-dark-600"}`,title:N.enabled?"Disable":"Enable",children:r.jsx(O0,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>g(N),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:r.jsx(Br,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>d(N.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:r.jsx(fn,{className:"w-3.5 h-3.5"})})]})]})},N.id))]}),l?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:i?"New Schedule":"Edit Schedule"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:O,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),r.jsxs("button",{onClick:x,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Yr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PLAYLIST"}),r.jsxs("select",{value:f.playlistId,onChange:N=>p(S=>({...S,playlistId:N.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Select playlist..."}),n.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TARGET"}),r.jsx("input",{value:f.screenTarget,onChange:N=>p(S=>({...S,screenTarget:N.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"all, screen id, or group id"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"START TIME"}),r.jsx("input",{type:"time",value:f.startTime,onChange:N=>p(S=>({...S,startTime:N.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"END TIME"}),r.jsx("input",{type:"time",value:f.endTime,onChange:N=>p(S=>({...S,endTime:N.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-2",children:"DAYS"}),r.jsx("div",{className:"flex gap-2",children:_x.map((N,S)=>r.jsx("button",{onClick:()=>b(S),className:`w-10 h-10 rounded-lg text-sm font-medium transition ${f.days.includes(S)?"bg-accent/20 text-accent border border-accent/40":"bg-dark-700 text-gray-500 border border-dark-600 hover:border-gray-500"}`,children:N},S))}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:()=>p(N=>({...N,days:[1,2,3,4,5]})),className:"text-xs text-accent hover:underline",children:"Weekdays"}),r.jsx("button",{onClick:()=>p(N=>({...N,days:[0,6]})),className:"text-xs text-accent hover:underline",children:"Weekends"}),r.jsx("button",{onClick:()=>p(N=>({...N,days:[0,1,2,3,4,5,6]})),className:"text-xs text-accent hover:underline",children:"Every day"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PRIORITY"}),r.jsx("input",{type:"number",value:f.priority,onChange:N=>p(S=>({...S,priority:Number(N.target.value)})),className:"w-32 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",min:0,max:100}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Higher priority overrides lower"})]})]})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(Ht,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a schedule to edit"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})]})]})}const ar={mirror:{label:"MIRROR",desc:"All screens show identical content in lockstep",icon:v0,color:"text-green-400",bg:"bg-green-500/10",border:"border-green-500/30"},complementary:{label:"COMPLEMENTARY",desc:"Each screen shows a different item from the playlist",icon:E0,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},span:{label:"SPAN",desc:"Video wall  content spans across all screens",icon:ut,color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"}};function Rx({screens:e,onRefresh:t}){const[n,s]=y.useState([]),[l,a]=y.useState([]),[i,c]=y.useState(!0),[o,u]=y.useState(null),[f,p]=y.useState(!1),[h,v]=y.useState(""),[w,g]=y.useState("mirror"),[O,x]=y.useState(null),d=y.useCallback(async()=>{try{const D=await(await fetch("/api/sync-groups")).json();D.success&&s(D.data)}catch(j){console.error("Failed to fetch sync groups:",j)}c(!1)},[]),m=y.useCallback(async()=>{try{const D=await(await fetch("/api/playlists")).json();D.success&&a(D.data)}catch{}},[]);y.useEffect(()=>{d(),m()},[d,m]);const b=async()=>{if(h.trim())try{(await(await fetch("/api/sync-groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),mode:w})})).json()).success&&(p(!1),v(""),d())}catch(j){console.error(j)}},_=async j=>{if(confirm("Delete this sync group? Screens will be unassigned."))try{await fetch(`/api/sync-groups/${j}`,{method:"DELETE"}),d()}catch(D){console.error(D)}},R=async(j,D)=>{try{await fetch(`/api/sync-groups/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),d()}catch(C){console.error(C)}},N=async(j,D)=>{try{await fetch(`/api/sync-groups/${j}/screens`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenIds:D})}),d(),t()}catch(C){console.error(C)}},S=async(j,D)=>{try{await fetch(`/api/sync-groups/${j}/screens/${D}`,{method:"DELETE"}),d(),t()}catch(C){console.error(C)}},T=async(j,D)=>{try{await fetch(`/api/sync-groups/${j}/play`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlist_id:D})}),d()}catch(C){console.error(C)}},I=async j=>{try{await fetch(`/api/sync-groups/${j}/stop`,{method:"POST"}),d()}catch(D){console.error(D)}},U=async(j,D)=>{try{await fetch(`/api/sync-groups/${j}/seek`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemIndex:D})}),d()}catch(C){console.error(C)}},ee=async j=>{try{await fetch(`/api/sync-groups/${j}/identify`,{method:"POST"})}catch(D){console.error(D)}},q=async j=>{try{await fetch(`/api/sync-groups/${j}/screenshot`,{method:"POST"})}catch(D){console.error(D)}},k=e.filter(j=>!n.some(D=>D.screens.some(C=>C.id===j.id)));return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(hn,{className:"w-6 h-6 text-accent animate-spin"})}):r.jsxs("div",{className:"space-y-6 max-w-5xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold tracking-wider text-white flex items-center gap-3",children:[r.jsx(gi,{className:"w-5 h-5 text-accent"}),"SYNC GROUPS"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Group screens for synchronised playback across multiple displays"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:d,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:r.jsx(hn,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition",children:[r.jsx(Ur,{className:"w-4 h-4"})," NEW GROUP"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ar).map(([j,D])=>{const C=D.icon;return r.jsxs("div",{className:`${D.bg} border ${D.border} rounded-xl p-4`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(C,{className:`w-4 h-4 ${D.color}`}),r.jsx("span",{className:`text-sm font-bold tracking-wider ${D.color}`,children:D.label})]}),r.jsx("p",{className:"text-xs text-gray-400",children:D.desc})]},j)})}),f&&r.jsxs("div",{className:"bg-dark-700 border border-dark-500 rounded-xl p-6",children:[r.jsx("h3",{className:"text-sm font-bold tracking-wider text-accent mb-4",children:"CREATE SYNC GROUP"}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"GROUP NAME"}),r.jsx("input",{value:h,onChange:j=>v(j.target.value),placeholder:"e.g., Pavilion Screens",className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white placeholder-gray-600 focus:border-accent focus:outline-none",onKeyDown:j=>j.key==="Enter"&&b(),autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"SYNC MODE"}),r.jsx("div",{className:"flex gap-3",children:Object.entries(ar).map(([j,D])=>{const C=D.icon;return r.jsxs("button",{onClick:()=>g(j),className:`flex-1 flex items-center gap-2 px-4 py-3 rounded-lg border transition ${w===j?`${D.bg} ${D.border} ${D.color}`:"bg-dark-800 border-dark-600 text-gray-500 hover:border-dark-400"}`,children:[r.jsx(C,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold tracking-wider",children:D.label})]},j)})})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white text-sm transition",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:!h.trim(),className:"px-6 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition disabled:opacity-30",children:"CREATE"})]})]})]}),n.length===0&&!f?r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-12 text-center",children:[r.jsx(gi,{className:"w-10 h-10 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-2",children:"No sync groups yet"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create a sync group to coordinate playback across multiple screens"})]}):r.jsx("div",{className:"space-y-4",children:n.map(j=>{var K;const D=o===j.id,C=ar[j.mode]||ar.mirror,A=C.icon,F=j.screens.filter(E=>E.connected).length,$=(K=j.state)==null?void 0:K.playing;return r.jsxs("div",{className:"bg-dark-700/80 border border-dark-500 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 cursor-pointer hover:bg-dark-600/50 transition",onClick:()=>u(D?null:j.id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl ${C.bg} border ${C.border} flex items-center justify-center`,children:r.jsx(A,{className:`w-5 h-5 ${C.color}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-white font-bold tracking-wider",children:j.name}),r.jsx("span",{className:`text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full ${C.bg} ${C.color} border ${C.border}`,children:C.label}),$&&r.jsx("span",{className:"text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full bg-green-500/10 text-green-400 border border-green-500/30 animate-pulse",children:" PLAYING"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.screen_count," screen",j.screen_count!==1?"s":"","  ",F," online",j.playlist_name&&`  Playlist: ${j.playlist_name}`]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!$&&j.playlist_id&&r.jsx("button",{onClick:E=>{E.stopPropagation(),T(j.id)},className:"p-2 rounded-lg bg-green-500/10 text-green-400 hover:bg-green-500/20 transition",title:"Start sync playback",children:r.jsx(xt,{className:"w-4 h-4"})}),$&&r.jsx("button",{onClick:E=>{E.stopPropagation(),I(j.id)},className:"p-2 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 transition",title:"Stop playback",children:r.jsx(Qc,{className:"w-4 h-4"})}),D?r.jsx(Lh,{className:"w-5 h-5 text-gray-500"}):r.jsx(Ph,{className:"w-5 h-5 text-gray-500"})]})]}),D&&r.jsxs("div",{className:"border-t border-dark-500 p-5 space-y-5",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400",children:"SCREENS IN GROUP"}),r.jsxs("button",{onClick:()=>x(O===j.id?null:j.id),className:"text-xs text-accent hover:underline flex items-center gap-1",children:[r.jsx(Ur,{className:"w-3 h-3"})," Add Screens"]})]}),j.screens.length===0?r.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-lg p-6 text-center",children:[r.jsx(ut,{className:"w-6 h-6 text-gray-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No screens assigned yet"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:j.screens.map((E,V)=>r.jsxs("div",{className:"flex items-center justify-between bg-dark-800 border border-dark-600 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ut,{className:"w-5 h-5 text-gray-400"}),r.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2 h-2 rounded-full ${E.connected?"bg-green-500":"bg-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:E.name||E.id}),r.jsxs("div",{className:"text-[10px] text-gray-600",children:[E.platform||"browser","  ",E.resolution||"?","  #",V+1]})]})]}),r.jsx("button",{onClick:()=>S(j.id,E.id),className:"p-1.5 text-gray-600 hover:text-red-400 transition",title:"Remove from group",children:r.jsx(fn,{className:"w-3.5 h-3.5"})})]},E.id))}),O===j.id&&k.length>0&&r.jsxs("div",{className:"mt-3 bg-dark-800/50 border border-accent/20 rounded-lg p-4",children:[r.jsx("h5",{className:"text-xs text-accent tracking-wider mb-3",children:"AVAILABLE SCREENS"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(E=>r.jsxs("button",{onClick:()=>N(j.id,[E.id]),className:"flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-500 rounded-lg hover:border-accent/40 transition text-sm",children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${E.connected?"bg-green-500":"bg-gray-600"}`}),r.jsx("span",{className:"text-gray-300",children:E.name||E.id}),r.jsx(h0,{className:"w-3 h-3 text-gray-500"})]},E.id))})]}),O===j.id&&k.length===0&&r.jsx("div",{className:"mt-3 text-xs text-gray-600 text-center py-3",children:"All screens are already assigned to sync groups"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"PLAYLIST"}),r.jsxs("select",{value:j.playlist_id||"",onChange:E=>R(j.id,{playlist_id:E.target.value||null}),className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-4 py-2.5 text-white focus:border-accent focus:outline-none appearance-none",children:[r.jsx("option",{value:"",children:" No playlist assigned "}),l.map(E=>{var V;return r.jsxs("option",{value:E.id,children:[E.name," (",((V=E.items)==null?void 0:V.length)||0," items)"]},E.id)})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"CONTROLS"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[$?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>I(j.id),className:"flex items-center gap-2 px-4 py-2.5 bg-red-500/10 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/20 transition text-sm font-medium tracking-wider",children:[r.jsx(Qc,{className:"w-4 h-4"})," STOP"]}),r.jsxs("button",{onClick:()=>{var V;const E=(((V=j.state)==null?void 0:V.itemIndex)??0)+1;U(j.id,E)},className:"flex items-center gap-2 px-4 py-2.5 bg-blue-500/10 text-blue-400 border border-blue-500/30 rounded-lg hover:bg-blue-500/20 transition text-sm font-medium tracking-wider",children:[r.jsx(Oh,{className:"w-4 h-4"})," NEXT"]})]}):r.jsxs("button",{onClick:()=>T(j.id),disabled:!j.playlist_id,className:"flex items-center gap-2 px-4 py-2.5 bg-green-500/10 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-500/20 transition text-sm font-medium tracking-wider disabled:opacity-30",children:[r.jsx(xt,{className:"w-4 h-4"})," PLAY"]}),r.jsxs("button",{onClick:()=>ee(j.id),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500/10 text-amber-400 border border-amber-500/30 rounded-lg hover:bg-amber-500/20 transition text-sm font-medium tracking-wider",title:"Flash screen IDs on all group screens",children:[r.jsx(N0,{className:"w-4 h-4"})," IDENTIFY"]}),r.jsxs("button",{onClick:()=>q(j.id),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-500/10 text-purple-400 border border-purple-500/30 rounded-lg hover:bg-purple-500/20 transition text-sm font-medium tracking-wider",title:"Request screenshots from all group screens",children:[r.jsx(No,{className:"w-4 h-4"})," SCREENSHOT"]})]}),$&&j.state&&r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Currently on item #",(j.state.itemIndex||0)+1,"  Started ",new Date(j.state.startedAt).toLocaleTimeString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"SYNC MODE"}),r.jsx("div",{className:"flex gap-3",children:Object.entries(ar).map(([E,V])=>{const J=V.icon;return r.jsxs("button",{onClick:()=>R(j.id,{mode:E}),className:`flex-1 flex items-center gap-2 px-4 py-3 rounded-lg border transition ${j.mode===E?`${V.bg} ${V.border} ${V.color}`:"bg-dark-800 border-dark-600 text-gray-500 hover:border-dark-400"}`,children:[r.jsx(J,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold tracking-wider",children:V.label})]},E)})})]}),r.jsx("div",{className:"pt-3 border-t border-dark-600",children:r.jsxs("button",{onClick:()=>_(j.id),className:"flex items-center gap-2 text-xs text-red-500/60 hover:text-red-400 transition",children:[r.jsx(fn,{className:"w-3.5 h-3.5"})," Delete sync group"]})})]})]},j.id)})}),r.jsx("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(M0,{className:"w-5 h-5 text-accent"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold tracking-wider text-white",children:"PLAYER APPS"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Download and configure player apps for your display screens"})]})]}),r.jsxs("a",{href:"/player",target:"_blank",className:"flex items-center gap-2 px-4 py-2 bg-accent/10 text-accent border border-accent/30 rounded-lg hover:bg-accent/20 transition text-sm font-medium tracking-wider",children:[r.jsx(ut,{className:"w-4 h-4"})," PLAYER SETUP"]})]})})]})}function Ax(){const[e,t]=y.useState({}),[n,s]=y.useState(!1),[l,a]=y.useState(!1);y.useEffect(()=>{fetch("/api/settings").then(o=>o.json()).then(o=>{o.success&&t(o.data)}).catch(console.error)},[]);const i=(o,u)=>{t(f=>({...f,[o]:u})),a(!1)},c=async()=>{s(!0);try{await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})}),a(!0),setTimeout(()=>a(!1),3e3)}catch(o){console.error("Failed to save:",o)}s(!1)};return r.jsxs("div",{className:"space-y-6 animate-fadeIn max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-gray-500 to-gray-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-gray-300",children:"SETTINGS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-500/30 to-transparent"}),r.jsx("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:l?" Saved":n?"Saving...":r.jsxs(r.Fragment,{children:[r.jsx(Yr,{className:"w-4 h-4"})," Save All"]})})]}),r.jsxs(gs,{icon:A0,title:"BRANDING",color:"text-accent",children:[r.jsx(Ct,{label:"Company Name",description:"Displayed on signage screens",children:r.jsx("input",{value:e["global.companyName"]||"",onChange:o=>i("global.companyName",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-64"})}),r.jsx(Ct,{label:"Brand Color",description:"Primary accent color (hex)",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"color",value:e["global.brandColor"]||"#F97316",onChange:o=>i("global.brandColor",o.target.value),className:"w-10 h-10 rounded cursor-pointer bg-dark-700 border border-dark-600"}),r.jsx("input",{value:e["global.brandColor"]||"#F97316",onChange:o=>i("global.brandColor",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28"})]})})]}),r.jsxs(gs,{icon:Ht,title:"TRANSITIONS",color:"text-lcars-blue",children:[r.jsx(Ct,{label:"Default Transition",description:"Used when playlist doesn't specify",children:r.jsxs("select",{value:e["global.transition"]||"fade",onChange:o=>i("global.transition",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-40",children:[r.jsx("option",{value:"fade",children:"Fade"}),r.jsx("option",{value:"slide",children:"Slide"}),r.jsx("option",{value:"none",children:"None"})]})}),r.jsx(Ct,{label:"Transition Duration",description:"Milliseconds",children:r.jsx("input",{type:"number",value:e["global.transitionDuration"]||"500",onChange:o=>i("global.transitionDuration",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:0,max:3e3,step:100})}),r.jsx(Ct,{label:"Default Loop",description:"Loop playlists by default",children:r.jsx("button",{onClick:()=>i("global.defaultPlaylistLoop",e["global.defaultPlaylistLoop"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["global.defaultPlaylistLoop"]==="true"?"bg-accent":"bg-dark-600"}`,children:r.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["global.defaultPlaylistLoop"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),r.jsxs(gs,{icon:p0,title:"ALERTS",color:"text-lcars-amber",children:[r.jsx(Ct,{label:"Auto-Expire Duration",description:"Alert auto-dismiss time (ms)",children:r.jsx("input",{type:"number",value:e["alerts.autoExpire"]||"30000",onChange:o=>i("alerts.autoExpire",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:5e3,max:3e5,step:5e3})}),r.jsx(Ct,{label:"Sound Enabled",description:"Play sound on alert push",children:r.jsx("button",{onClick:()=>i("alerts.soundEnabled",e["alerts.soundEnabled"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["alerts.soundEnabled"]==="true"?"bg-accent":"bg-dark-600"}`,children:r.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["alerts.soundEnabled"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),r.jsx(gs,{icon:ut,title:"MONITORING",color:"text-lcars-teal",children:r.jsx(Ct,{label:"Offline Alert Threshold",description:"Minutes before alerting on offline screen",children:r.jsx("input",{type:"number",value:e["screens.offlineAlertMinutes"]||"10",onChange:o=>i("screens.offlineAlertMinutes",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:1,max:60})})}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Cl,{className:"w-4 h-4"}),"SYSTEM"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Server"}),r.jsx("span",{className:"text-white",children:"http://localhost:3400"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Database"}),r.jsx("span",{className:"text-white",children:"SQLite (signage.db)"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Process Manager"}),r.jsx("span",{className:"text-white",children:"PM2 (skynet-signage)"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Video Storage"}),r.jsx("span",{className:"text-white",children:"/Volumes/Parkwise/Skynet/video/"})]})]})]})]})}function gs({icon:e,title:t,color:n,children:s}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:`text-sm font-semibold tracking-wider mb-4 flex items-center gap-2 ${n}`,children:[r.jsx(e,{className:"w-4 h-4"}),t]}),r.jsx("div",{className:"space-y-4",children:s})]})}function Ct({label:e,description:t,children:n}){return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white",children:e}),r.jsx("div",{className:"text-xs text-gray-500",children:t})]}),n]})}const ys=[{id:"dashboard",label:"DASHBOARD",icon:T0,color:"text-accent"},{id:"screens",label:"SCREENS",icon:ut,color:"text-lcars-blue"},{id:"playlists",label:"PLAYLISTS",icon:Ah,color:"text-lcars-amber"},{id:"content",label:"CONTENT",icon:Sl,color:"text-lcars-purple"},{id:"locations",label:"LOCATIONS",icon:ln,color:"text-lcars-teal"},{id:"sync",label:"SYNC GROUPS",icon:gi,color:"text-lcars-pink"},{id:"schedules",label:"SCHEDULES",icon:jo,color:"text-gray-400"},{id:"settings",label:"SETTINGS",icon:z0,color:"text-gray-400"}];function Ix(){var v;const[e,t]=y.useState("dashboard"),[n,s]=y.useState(!1),[l,a]=y.useState(null),[i,c]=y.useState(!1),[o,u]=y.useState([]),f=y.useCallback(async()=>{try{const g=await(await fetch("/api/screens")).json();g.success&&u(g.data)}catch(w){console.error("Failed to fetch screens:",w)}},[]);y.useEffect(()=>{f();const w=kr(window.location.origin,{transports:["websocket","polling"]});return w.on("connect",()=>c(!0)),w.on("disconnect",()=>c(!1)),w.on("screens:update",()=>f()),w.on("screens:mode-update",({screenId:g,mode:O})=>{u(x=>x.map(d=>d.id===g?{...d,currentMode:O}:d))}),a(w),()=>{w.disconnect()}},[f]),y.useEffect(()=>{const w=window.location.hash.replace("#","");ys.find(O=>O.id===w)&&t(w);const g=()=>{const O=window.location.hash.replace("#","");ys.find(x=>x.id===O)&&t(O)};return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const p=w=>{t(w),window.location.hash=w},h=o.filter(w=>w.connected).length;return r.jsxs("div",{className:"h-screen flex overflow-hidden bg-dark-900",children:[r.jsxs("aside",{className:`flex-shrink-0 flex flex-col border-r border-dark-600 bg-dark-800 transition-all duration-300 ${n?"w-16":"w-56"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-dark-600 h-16",children:[r.jsx("div",{className:"w-8 h-8 bg-accent/20 border border-accent rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Cl,{className:"w-4 h-4 text-accent"})}),!n&&r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("h1",{className:"text-sm font-bold tracking-wider text-accent",children:"SKYNET"}),r.jsx("p",{className:"text-[10px] text-gray-500 tracking-widest",children:"SIGNAGE"})]})]}),r.jsx("nav",{className:"flex-1 py-2 space-y-1 px-2 overflow-y-auto",children:ys.map(w=>{const g=w.icon,O=e===w.id;return r.jsxs("button",{onClick:()=>p(w.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${O?"bg-accent/15 text-accent border-l-2 border-accent":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:n?w.label:void 0,children:[r.jsx(g,{className:`w-4.5 h-4.5 flex-shrink-0 ${O?"text-accent":w.color}`}),!n&&r.jsx("span",{className:"tracking-wider",children:w.label})]},w.id)})}),r.jsxs("div",{className:"p-3 border-t border-dark-600 space-y-2",children:[!n&&r.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-lg text-xs ${i?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[i?r.jsx(Co,{className:"w-3.5 h-3.5"}):r.jsx(So,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:i?"Connected":"Disconnected"}),r.jsxs("span",{className:"ml-auto text-gray-500",children:[h,"/",o.length]})]}),r.jsx("button",{onClick:()=>s(!n),className:"w-full flex items-center justify-center p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-dark-700 transition",children:n?r.jsx(g0,{className:"w-4 h-4"}):r.jsx(x0,{className:"w-4 h-4"})})]})]}),r.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between h-16 px-6 border-b border-dark-600 bg-dark-800/50",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:"text-lg font-semibold tracking-wider",children:(v=ys.find(w=>w.id===e))==null?void 0:v.label})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:f,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:r.jsx(hn,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),h," screens online"]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e==="dashboard"&&r.jsx(vx,{screens:o}),e==="screens"&&r.jsx(jx,{screens:o,onRefresh:f}),e==="playlists"&&r.jsx(Sx,{screens:o}),e==="content"&&r.jsx(Ex,{}),e==="locations"&&r.jsx(Tx,{screens:o,onRefresh:f}),e==="sync"&&r.jsx(Rx,{screens:o,onRefresh:f}),e==="schedules"&&r.jsx(Lx,{}),e==="settings"&&r.jsx(Ax,{})]})]})]})}const vs={energy:.5,warmth:.5,urgency:0,density:.3,tempo:.5,brightness:.5,formality:.5};function Ox(e,t,n){return e+(t-e)*n}const Mx=.08,Dx=100;function zx(e,t){const[n,s]=y.useState({...vs}),l=y.useRef({...vs}),a=y.useRef({...vs}),i=y.useRef(null);return y.useEffect(()=>(i.current=setInterval(()=>{const c=a.current,o=l.current;let u=!1;const f={...c};for(const p of Object.keys(vs)){const h=Ox(c[p],o[p],Mx),v=Math.round(h*1e3)/1e3;Math.abs(v-c[p])>.001&&(u=!0),f[p]=v}u&&(a.current=f,s(f))},Dx),()=>{i.current&&clearInterval(i.current)}),[]),y.useEffect(()=>{const c=t;if(!c)return;const o=u=>{e&&u.locationId&&u.locationId!==e&&u.locationId!=="default"||u.mood&&(l.current={...u.mood})};return c.on("context:mood",o),()=>{c.off("context:mood",o)}},[t,e]),n}function Kt(e,t,n){return e+(t-e)*n}function ir(e,t=0,n=100){return Math.max(t,Math.min(n,e))}function Fx(e){const t=document.documentElement.style;t.setProperty("--mood-energy",String(e.energy)),t.setProperty("--mood-warmth",String(e.warmth)),t.setProperty("--mood-urgency",String(e.urgency)),t.setProperty("--mood-density",String(e.density)),t.setProperty("--mood-tempo",String(e.tempo)),t.setProperty("--mood-brightness",String(e.brightness)),t.setProperty("--mood-formality",String(e.formality));const n=Kt(210,30,e.warmth),s=ir(Kt(30,80,e.energy),0,100),l=ir(Kt(8,45,e.brightness),0,100);t.setProperty("--mood-hue",String(Math.round(n))),t.setProperty("--mood-saturation",`${Math.round(s)}%`),t.setProperty("--mood-lightness",`${Math.round(l)}%`),t.setProperty("--mood-bg",`hsl(${Math.round(n)}, ${Math.round(s)}%, ${Math.round(l)}%)`);const a=n+30,i=ir(s+10,0,100),c=ir(l+20,0,100);t.setProperty("--mood-accent",`hsl(${Math.round(a)}, ${Math.round(i)}%, ${Math.round(c)}%)`);const o=l>50?10:95;if(t.setProperty("--mood-text",`hsl(${Math.round(n)}, 10%, ${o}%)`),e.urgency>.3){const h=ir(Kt(0,.3,(e.urgency-.3)/.7),0,1);t.setProperty("--mood-urgency-overlay",`rgba(255, 40, 40, ${h.toFixed(3)})`)}else t.setProperty("--mood-urgency-overlay","rgba(255, 40, 40, 0)");const u=Kt(8,1,e.tempo);t.setProperty("--mood-anim-speed",`${u.toFixed(2)}s`);const f=Kt(4,.5,e.tempo);t.setProperty("--mood-pulse-rate",`${f.toFixed(2)}s`);const p=Kt(2,.8,e.density);t.setProperty("--mood-spacing-scale",String(p.toFixed(2)))}const Hn=new URLSearchParams(window.location.search),$x=Hn.has("screen")||Hn.has("display"),or=Hn.get("screen")||Hn.get("id")||`screen-${Math.random().toString(36).slice(2,8)}`,su={mode:"hybrid",interactiveUrl:"",idleTimeout:60,touchToInteract:!0};function Bx({widget:e,config:t}){switch(e){case"clock":return r.jsx(Tl,{config:t});case"weather":return r.jsx(Ll,{config:t});case"camera":return r.jsx(_l,{config:t});case"camera-grid":return r.jsx(Pl,{config:t});case"stats":return r.jsx(Rl,{config:t});case"occupancy":return r.jsx(Al,{config:t});case"iframe":return r.jsx(Il,{config:t});case"layout":return r.jsx(Ol,{config:t});case"playlist":return r.jsx(K0,{config:t});case"alert":return r.jsx(Uh,{config:t});case"operations-dashboard":return r.jsx(Eo,{config:t});case"team-activity":return r.jsx(Bh,{config:t});case"sports":case"football":case"rangers":case"celtic":return r.jsx(nx,{config:{team:e==="celtic"?"celtic":e==="rangers"?"rangers":t.team,...t}});case"testcard":case"test-card":return r.jsx(ex,{config:t});case"youngs-menu":case"youngs":return r.jsx(rx,{config:t});case"youngs-kiosk":case"kiosk":return r.jsx(lx,{config:t});case"template":return r.jsx(dx,{config:t});case"security-alert":return r.jsx(fx,{config:t});case"revenue":case"pos-revenue":return r.jsx(px,{config:t});default:return r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl mb-2",children:["Unknown widget: ",e]}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(t,null,2)})]})})}}function Ux(){const[e,t]=y.useState(null),[n,s]=y.useState(!1),[l,a]=y.useState(null),[i,c]=y.useState(null),[o,u]=y.useState(null),[f,p]=y.useState(!1),[h,v]=y.useState(!0),[w,g]=y.useState(su),[O,x]=y.useState("signage"),[d,m]=y.useState(!1),b=y.useRef(null),_=y.useRef(null),R=Hn.get("location")||void 0,N=zx(R,e);y.useEffect(()=>{Fx(N)},[N]);const S=y.useCallback(()=>{const k=document.documentElement;k.requestFullscreen?k.requestFullscreen().then(()=>{p(!0),v(!1)}).catch(console.error):k.webkitRequestFullscreen&&(k.webkitRequestFullscreen(),p(!0),v(!1))},[]);y.useEffect(()=>{const k=()=>{p(!!document.fullscreenElement),document.fullscreenElement||v(!0)};return document.addEventListener("fullscreenchange",k),document.addEventListener("webkitfullscreenchange",k),()=>{document.removeEventListener("fullscreenchange",k),document.removeEventListener("webkitfullscreenchange",k)}},[]);const T=y.useCallback(()=>{var k;w.mode!=="signage-only"&&(x("interactive"),m(!1),(k=_.current)==null||k.emit("mode-change",{mode:"interactive"}))},[w.mode]),I=y.useCallback(()=>{m(!0),setTimeout(()=>{var k;x("signage"),m(!1),(k=_.current)==null||k.emit("mode-change",{mode:"signage"})},500)},[]),U=y.useCallback(()=>{b.current&&clearTimeout(b.current),w.idleTimeout>0&&(b.current=setTimeout(()=>{console.log(" Idle timeout  returning to signage"),I()},w.idleTimeout*1e3))},[w.idleTimeout,I]);y.useEffect(()=>{if(O!=="interactive"){b.current&&clearTimeout(b.current);return}U();const k=()=>U();return window.addEventListener("mousemove",k),window.addEventListener("mousedown",k),window.addEventListener("keydown",k),window.addEventListener("touchstart",k),window.addEventListener("touchmove",k),()=>{b.current&&clearTimeout(b.current),window.removeEventListener("mousemove",k),window.removeEventListener("mousedown",k),window.removeEventListener("keydown",k),window.removeEventListener("touchstart",k),window.removeEventListener("touchmove",k)}},[O,U]),y.useEffect(()=>{const k=j=>{var D;(j.data==="user-activity"||((D=j.data)==null?void 0:D.type)==="user-activity")&&U()};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[U]),y.useEffect(()=>{const k=kr(window.location.origin,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:3e4,randomizationFactor:.5,timeout:2e4});return _.current=k,k.on("connect",()=>{console.log(" Connected to server"),s(!0),k.emit("register",{screenId:or,name:Hn.get("name")||or,type:"browser"})}),k.on("disconnect",j=>{console.log(" Disconnected:",j),s(!1)}),k.on("reconnect_attempt",j=>{console.log(` Reconnecting... attempt ${j}`)}),k.on("reconnect",()=>{console.log(" Reconnected!")}),k.on("screen-config",j=>{console.log(" Screen config received:",j),g({...su,...j})}),k.on("set-mode",j=>{console.log(` Admin forced mode: ${j.mode}`),j.mode==="signage"?I():T()}),k.on("content",j=>{console.log(" Content received:",j),j.type==="alert"?(u(j.content),j.duration&&setTimeout(()=>u(null),j.duration)):j.type==="clear"?(a(null),c(null),u(null)):j.type==="reload"?(console.log(" Reload requested"),window.location.reload()):j.type==="playlist"?(console.log(" Playlist received:",j.content),c(j.content),a(null)):(a(j),c(null)),j.type!=="alert"&&j.type!=="reload"&&(x("signage"),m(!1),k.emit("mode-change",{mode:"signage"}))}),t(k),()=>{k.disconnect()}},[]),y.useEffect(()=>{if(!e)return;const k=setInterval(()=>e.emit("heartbeat"),3e4);return()=>clearInterval(k)},[e]);const ee=y.useCallback(k=>{h&&!f||k.target.closest("video, button, input, a, iframe, [data-no-interact]")||w.touchToInteract&&w.mode!=="signage-only"&&T()},[w,T,h,f]),q=w.interactiveUrl||`${window.location.protocol}//${window.location.hostname}:5180`;return w.mode==="kiosk"?r.jsx("div",{className:"fixed inset-0 bg-black",children:r.jsx("iframe",{src:q,className:"w-full h-full border-0",title:"Kiosk Interface",allow:"camera;microphone;fullscreen"})}):O==="interactive"?r.jsxs("div",{className:`fixed inset-0 bg-black transition-opacity duration-500 ${d?"opacity-0":"opacity-100"}`,children:[r.jsx("iframe",{src:q,className:"w-full h-full border-0",title:"Interactive Interface",allow:"camera;microphone;fullscreen"}),r.jsxs("div",{className:"fixed bottom-4 right-4 bg-black/50 text-gray-500 text-xs px-3 py-1.5 rounded-full backdrop-blur-sm",children:["Auto-return in ",w.idleTimeout,"s idle"]})]}):r.jsxs("div",{className:"fixed inset-0 transition-colors duration-[3000ms]",style:{background:"var(--mood-bg, #0a0a0f)"},onClick:ee,onTouchStart:ee,children:[h&&!f&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[100] cursor-pointer",onClick:k=>{k.stopPropagation(),S()},children:r.jsxs("div",{className:"text-center animate-pulse",children:[r.jsx(yi,{className:"w-20 h-20 mx-auto mb-6 text-accent"}),r.jsx("h2",{className:"text-2xl font-light text-white mb-2",children:"Click anywhere to enter fullscreen"}),r.jsx("p",{className:"text-gray-500 text-sm",children:or})]})}),r.jsxs("div",{className:`fixed top-4 right-4 flex items-center gap-2 text-xs px-3 py-1.5 rounded-full z-40 ${n?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[n?r.jsx(Co,{className:"w-4 h-4"}):r.jsx(So,{className:"w-4 h-4 animate-pulse"}),r.jsx("span",{children:n?or:"Reconnecting..."})]}),o&&r.jsx("div",{className:`fixed top-0 left-0 right-0 p-6 text-center text-2xl font-bold animate-slideUp z-50 ${o.level==="error"?"bg-red-600":o.level==="warning"?"bg-yellow-600":o.level==="success"?"bg-green-600":"bg-accent-dim"}`,children:o.message}),i?r.jsx(xx,{playlist:i,showControls:!1,onComplete:()=>{console.log(" Playlist complete"),c(null)}}):l?l.type==="url"?r.jsx("iframe",{src:l.content.url,className:"w-full h-full border-0",title:"Display Content"}):l.type==="widget"?r.jsx("div",{className:"w-full h-full",children:r.jsx(Bx,{widget:l.content.widget,config:l.content.config||{}})}):l.type==="media"?r.jsx("video",{src:l.content.url,className:"w-full h-full object-contain bg-black",autoPlay:!0,muted:!1,loop:l.content.loop,playsInline:!0}):r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-2xl mb-2",children:"Unknown content type"}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(l,null,2)})]}):r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center animate-fadeIn overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-20 transition-all duration-[5000ms]",style:{background:"radial-gradient(ellipse at 50% 50%, var(--mood-accent, #FF9900) 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full opacity-10 transition-all duration-[5000ms]",style:{background:"radial-gradient(circle, hsl(var(--mood-hue, 210), 60%, 30%) 0%, transparent 70%)",animation:"pulse var(--mood-anim-speed, 4s) ease-in-out infinite"}}),r.jsxs("div",{className:"text-center relative z-10",children:[r.jsx(yi,{className:"w-24 h-24 mx-auto mb-6 opacity-30 transition-colors duration-[3000ms]",style:{color:"var(--mood-accent, #FF9900)"}}),r.jsx("h1",{className:"text-3xl font-light mb-2 transition-colors duration-[3000ms]",style:{color:"var(--mood-text, #888)"},children:"SKYNET Display"}),r.jsx("p",{className:"text-gray-600",children:or}),r.jsx("p",{className:"text-sm text-gray-700 mt-4",children:"Waiting for content..."})]}),w.touchToInteract&&w.mode==="hybrid"&&r.jsx("p",{className:"text-xs text-gray-800 mt-2",children:"Touch to interact"})]})]})}function Vx(){return $x?r.jsx(Ux,{}):r.jsx(Ix,{})}ya.createRoot(document.getElementById("root")).render(r.jsx(lf.StrictMode,{children:r.jsx(Vx,{})}));export{r as j,y as r};
