const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskCompleteTemplate-DcfuVTkJ.js","assets/proxy-CYMh9OX3.js","assets/AlertTemplate-EsxtUeOI.js","assets/MetricsTemplate-C2D1CXwE.js","assets/AnnouncementTemplate-sw2_tidV.js","assets/DailyDigestTemplate-DWmnQd8j.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ud={exports:{}},ca={},hd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),Jh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),Zh=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),af=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),Ro=Symbol.iterator;function of(e){return e===null||typeof e!="object"?null:(e=Ro&&e[Ro]||e["@@iterator"],typeof e=="function"?e:null)}var fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pd=Object.assign,md={};function Gn(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||fd}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xd(){}xd.prototype=Gn.prototype;function bi(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||fd}var Si=bi.prototype=new xd;Si.constructor=bi;pd(Si,Gn.prototype);Si.isPureReactComponent=!0;var Mo=Array.isArray,gd=Object.prototype.hasOwnProperty,Ci={current:null},yd={key:!0,ref:!0,__self:!0,__source:!0};function vd(e,t,n){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)gd.call(t,s)&&!yd.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:Wr,type:e,key:l,ref:i,props:a,_owner:Ci.current}}function cf(e,t){return{$$typeof:Wr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ei(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wr}function df(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Do=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?df(""+e.key):t.toString(36)}function js(e,t,n,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wr:case Jh:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+za(i,0):s,Mo(a)?(n="",e!=null&&(n=e.replace(Do,"$&/")+"/"),js(a,t,n,"",function(d){return d})):a!=null&&(Ei(a)&&(a=cf(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Do,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Mo(e))for(var c=0;c<e.length;c++){l=e[c];var o=s+za(l,c);i+=js(l,t,n,o,a)}else if(o=of(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=s+za(l,c++),i+=js(l,t,n,o,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Jr(e,t,n){if(e==null)return e;var s=[],a=0;return js(e,s,"","",function(l){return t.call(n,l,a++)}),s}function uf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},Ns={transition:null},hf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:Ci};function wd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Jr,forEach:function(e,t,n){Jr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jr(e,function(){t++}),t},toArray:function(e){return Jr(e,function(t){return t})||[]},only:function(e){if(!Ei(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Gn;G.Fragment=Xh;G.Profiler=ef;G.PureComponent=bi;G.StrictMode=Zh;G.Suspense=sf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;G.act=wd;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=pd({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Ci.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)gd.call(t,o)&&!yd.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:Wr,type:e.type,key:a,ref:l,props:s,_owner:i}};G.createContext=function(e){return e={$$typeof:nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tf,_context:e},e.Consumer=e};G.createElement=vd;G.createFactory=function(e){var t=vd.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:rf,render:e}};G.isValidElement=Ei;G.lazy=function(e){return{$$typeof:lf,_payload:{_status:-1,_result:e},_init:uf}};G.memo=function(e,t){return{$$typeof:af,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Ns.transition;Ns.transition={};try{e()}finally{Ns.transition=t}};G.unstable_act=wd;G.useCallback=function(e,t){return Ce.current.useCallback(e,t)};G.useContext=function(e){return Ce.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ce.current.useEffect(e,t)};G.useId=function(){return Ce.current.useId()};G.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ce.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};G.useRef=function(e){return Ce.current.useRef(e)};G.useState=function(e){return Ce.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ce.current.useTransition()};G.version="18.3.1";hd.exports=G;var x=hd.exports;const ff=Kh(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=x,mf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),gf=Object.prototype.hasOwnProperty,yf=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vf={key:!0,ref:!0,__self:!0,__source:!0};function jd(e,t,n){var s,a={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)gf.call(t,s)&&!vf.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:mf,type:e,key:l,ref:i,props:a,_owner:yf.current}}ca.Fragment=xf;ca.jsx=jd;ca.jsxs=jd;ud.exports=ca;var r=ud.exports,jl={},Nd={exports:{}},De={},kd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,z){var B=A.length;A.push(z);e:for(;0<B;){var J=B-1>>>1,P=A[J];if(0<a(P,z))A[J]=z,A[B]=P,B=J;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var z=A[0],B=A.pop();if(B!==z){A[0]=B;e:for(var J=0,P=A.length,W=P>>>1;J<W;){var X=2*(J+1)-1,pe=A[X],q=X+1,O=A[q];if(0>a(pe,B))q<P&&0>a(O,pe)?(A[J]=O,A[q]=B,J=q):(A[J]=pe,A[X]=B,J=X);else if(q<P&&0>a(O,B))A[J]=O,A[q]=B,J=q;else break e}}return z}function a(A,z){var B=A.sortIndex-z.sortIndex;return B!==0?B:A.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],m=1,p=null,u=3,v=!1,b=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(A){for(var z=n(d);z!==null;){if(z.callback===null)s(d);else if(z.startTime<=A)s(d),z.sortIndex=z.expirationTime,t(o,z);else break;z=n(d)}}function w(A){if(E=!1,f(A),!b)if(n(o)!==null)b=!0,D(_);else{var z=n(d);z!==null&&C(w,z.startTime-A)}}function _(A,z){b=!1,E&&(E=!1,y(g),g=-1),v=!0;var B=u;try{for(f(z),p=n(o);p!==null&&(!(p.expirationTime>z)||A&&!F());){var J=p.callback;if(typeof J=="function"){p.callback=null,u=p.priorityLevel;var P=J(p.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?p.callback=P:p===n(o)&&s(o),f(z)}else s(o);p=n(o)}if(p!==null)var W=!0;else{var X=n(d);X!==null&&C(w,X.startTime-z),W=!1}return W}finally{p=null,u=B,v=!1}}var L=!1,j=null,g=-1,T=5,N=-1;function F(){return!(e.unstable_now()-N<T)}function V(){if(j!==null){var A=e.unstable_now();N=A;var z=!0;try{z=j(!0,A)}finally{z?H():(L=!1,j=null)}}else L=!1}var H;if(typeof h=="function")H=function(){h(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,k=S.port2;S.port1.onmessage=V,H=function(){k.postMessage(null)}}else H=function(){M(V,0)};function D(A){j=A,L||(L=!0,H())}function C(A,z){g=M(function(){A(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,D(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(A){switch(u){case 1:case 2:case 3:var z=3;break;default:z=u}var B=u;u=z;try{return A()}finally{u=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=u;u=A;try{return z()}finally{u=B}},e.unstable_scheduleCallback=function(A,z,B){var J=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,A={id:m++,callback:z,priorityLevel:A,startTime:B,expirationTime:P,sortIndex:-1},B>J?(A.sortIndex=B,t(d,A),n(o)===null&&A===n(d)&&(E?(y(g),g=-1):E=!0,C(w,B-J))):(A.sortIndex=P,t(o,A),b||v||(b=!0,D(_))),A},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(A){var z=u;return function(){var B=u;u=z;try{return A.apply(this,arguments)}finally{u=B}}}})(bd);kd.exports=bd;var wf=kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=x,Me=wf;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,Cr={};function pn(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(Cr[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fo={},zo={};function kf(e){return Nl.call(zo,e)?!0:Nl.call(Fo,e)?!1:Nf.test(e)?zo[e]=!0:(Fo[e]=!0,!1)}function bf(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sf(e,t,n,s){if(t===null||typeof t>"u"||bf(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ti=/[\-:]([a-z])/g;function _i(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ti,_i);ve[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ti,_i);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ti,_i);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pi(e,t,n,s){var a=ve.hasOwnProperty(t)?ve[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sf(t,n,a,s)&&(n=null),s||a===null?kf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var bt=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Li=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),Ai=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Oi=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Td=Symbol.for("react.offscreen"),$o=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=$o&&e[$o]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,$a;function ur(e){if($a===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$a=t&&t[1]||""}return`
`+$a+e}var Ba=!1;function Ua(e,t){if(!e||Ba)return"";Ba=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var o=`
`+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Ba=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ur(e):""}function Cf(e){switch(e.tag){case 5:return ur(e.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 2:case 15:return e=Ua(e.type,!1),e;case 11:return e=Ua(e.type.render,!1),e;case 1:return e=Ua(e.type,!0),e;default:return""}}function Cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case kl:return"Profiler";case Li:return"StrictMode";case bl:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ed:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case Ai:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oi:return t=e.displayName||null,t!==null?t:Cl(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return Cl(e(t))}catch{}}return null}function Ef(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(t);case 8:return t===Li?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tf(e){var t=_d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Tf(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=_d(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Vt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ld(e,t){t=t.checked,t!=null&&Pi(e,"checked",t,!1)}function Tl(e,t){Ld(e,t);var n=Vt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_l(e,t.type,n):t.hasOwnProperty("defaultValue")&&_l(e,t.type,Vt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _l(e,t,n){(t!=="number"||Ms(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hr=Array.isArray;function Pn(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Vt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(hr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vt(n)}}function Ad(e,t){var n=Vt(t.value),s=Vt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ho(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Od(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Od(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var es,Id=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_f=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(e){_f.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xr[t]=xr[e]})});function Rd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xr.hasOwnProperty(e)&&xr[e]?(""+t).trim():t+"px"}function Md(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Rd(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var Pf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(e,t){if(t){if(Pf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,Ln=null,An=null;function Wo(e){if(e=Qr(e)){if(typeof Rl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=pa(t),Rl(e.stateNode,e.type,t))}}function Dd(e){Ln?An?An.push(e):An=[e]:Ln=e}function Fd(){if(Ln){var e=Ln,t=An;if(An=Ln=null,Wo(e),t)for(e=0;e<t.length;e++)Wo(t[e])}}function zd(e,t){return e(t)}function $d(){}var Va=!1;function Bd(e,t,n){if(Va)return e(t,n);Va=!0;try{return zd(e,t,n)}finally{Va=!1,(Ln!==null||An!==null)&&($d(),Fd())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var s=pa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Ml=!1;if(wt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Ml=!1}function Lf(e,t,n,s,a,l,i,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var gr=!1,Ds=null,Fs=!1,Dl=null,Af={onError:function(e){gr=!0,Ds=e}};function Of(e,t,n,s,a,l,i,c,o){gr=!1,Ds=null,Lf.apply(Af,arguments)}function If(e,t,n,s,a,l,i,c,o){if(Of.apply(this,arguments),gr){if(gr){var d=Ds;gr=!1,Ds=null}else throw Error(I(198));Fs||(Fs=!0,Dl=d)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qo(e){if(mn(e)!==e)throw Error(I(188))}function Rf(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return qo(a),e;if(l===s)return qo(a),t;l=l.sibling}throw Error(I(188))}if(n.return!==s.return)n=a,s=l;else{for(var i=!1,c=a.child;c;){if(c===n){i=!0,n=a,s=l;break}if(c===s){i=!0,s=a,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,s=a;break}if(c===s){i=!0,s=l,n=a;break}c=c.sibling}if(!i)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Vd(e){return e=Rf(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=Me.unstable_scheduleCallback,Go=Me.unstable_cancelCallback,Mf=Me.unstable_shouldYield,Df=Me.unstable_requestPaint,ce=Me.unstable_now,Ff=Me.unstable_getCurrentPriorityLevel,Ri=Me.unstable_ImmediatePriority,qd=Me.unstable_UserBlockingPriority,zs=Me.unstable_NormalPriority,zf=Me.unstable_LowPriority,Gd=Me.unstable_IdlePriority,da=null,ct=null;function $f(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Vf,Bf=Math.log,Uf=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-(Bf(e)/Uf|0)|0}var ts=64,ns=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $s(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~a;c!==0?s=fr(c):(l&=i,l!==0&&(s=fr(l)))}else i=n&~a,i!==0?s=fr(i):l!==0&&(s=fr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-nt(t),a=1<<n,s|=e[n],t&=~a;return s}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-nt(l),c=1<<i,o=a[i];o===-1?(!(c&n)||c&s)&&(a[i]=Hf(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function Fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qd(){var e=ts;return ts<<=1,!(ts&4194240)&&(ts=64),e}function Ha(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function qf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-nt(n),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~l}}function Mi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-nt(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Z=0;function Yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kd,Di,Jd,Xd,Zd,zl=!1,rs=[],It=null,Rt=null,Mt=null,_r=new Map,Pr=new Map,Pt=[],Gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qo(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":_r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(t.pointerId)}}function Zn(e,t,n,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Qr(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Qf(e,t,n,s,a){switch(t){case"focusin":return It=Zn(It,e,t,n,s,a),!0;case"dragenter":return Rt=Zn(Rt,e,t,n,s,a),!0;case"mouseover":return Mt=Zn(Mt,e,t,n,s,a),!0;case"pointerover":var l=a.pointerId;return _r.set(l,Zn(_r.get(l)||null,e,t,n,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Pr.set(l,Zn(Pr.get(l)||null,e,t,n,s,a)),!0}return!1}function eu(e){var t=nn(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ud(n),t!==null){e.blockedOn=t,Zd(e.priority,function(){Jd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Il=s,n.target.dispatchEvent(s),Il=null}else return t=Qr(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function Yo(e,t,n){ks(e)&&n.delete(t)}function Yf(){zl=!1,It!==null&&ks(It)&&(It=null),Rt!==null&&ks(Rt)&&(Rt=null),Mt!==null&&ks(Mt)&&(Mt=null),_r.forEach(Yo),Pr.forEach(Yo)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Yf)))}function Lr(e){function t(a){return er(a,e)}if(0<rs.length){er(rs[0],e);for(var n=1;n<rs.length;n++){var s=rs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(It!==null&&er(It,e),Rt!==null&&er(Rt,e),Mt!==null&&er(Mt,e),_r.forEach(t),Pr.forEach(t),n=0;n<Pt.length;n++)s=Pt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)eu(n),n.blockedOn===null&&Pt.shift()}var On=bt.ReactCurrentBatchConfig,Bs=!0;function Kf(e,t,n,s){var a=Z,l=On.transition;On.transition=null;try{Z=1,Fi(e,t,n,s)}finally{Z=a,On.transition=l}}function Jf(e,t,n,s){var a=Z,l=On.transition;On.transition=null;try{Z=4,Fi(e,t,n,s)}finally{Z=a,On.transition=l}}function Fi(e,t,n,s){if(Bs){var a=$l(e,t,n,s);if(a===null)el(e,t,s,Us,n),Qo(e,s);else if(Qf(a,e,t,n,s))s.stopPropagation();else if(Qo(e,s),t&4&&-1<Gf.indexOf(e)){for(;a!==null;){var l=Qr(a);if(l!==null&&Kd(l),l=$l(e,t,n,s),l===null&&el(e,t,s,Us,n),l===a)break;a=l}a!==null&&s.stopPropagation()}else el(e,t,s,null,n)}}var Us=null;function $l(e,t,n,s){if(Us=null,e=Ii(s),e=nn(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ud(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ff()){case Ri:return 1;case qd:return 4;case zs:case zf:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var At=null,zi=null,bs=null;function nu(){if(bs)return bs;var e,t=zi,n=t.length,s,a="value"in At?At.value:At.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===a[l-s];s++);return bs=a.slice(e,1<s?1-s:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function Ko(){return!1}function Fe(e){function t(n,s,a,l,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ss:Ko,this.isPropagationStopped=Ko,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Fe(Qn),Gr=le({},Qn,{view:0,detail:0}),Xf=Fe(Gr),Wa,qa,tr,ua=le({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(Wa=e.screenX-tr.screenX,qa=e.screenY-tr.screenY):qa=Wa=0,tr=e),Wa)},movementY:function(e){return"movementY"in e?e.movementY:qa}}),Jo=Fe(ua),Zf=le({},ua,{dataTransfer:0}),ep=Fe(Zf),tp=le({},Gr,{relatedTarget:0}),Ga=Fe(tp),np=le({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=Fe(np),sp=le({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ap=Fe(sp),lp=le({},Qn,{data:0}),Xo=Fe(lp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function Bi(){return dp}var up=le({},Gr,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bi,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=Fe(up),fp=le({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Fe(fp),pp=le({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bi}),mp=Fe(pp),xp=le({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Fe(xp),yp=le({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vp=Fe(yp),wp=[9,13,27,32],Ui=wt&&"CompositionEvent"in window,yr=null;wt&&"documentMode"in document&&(yr=document.documentMode);var jp=wt&&"TextEvent"in window&&!yr,ru=wt&&(!Ui||yr&&8<yr&&11>=yr),ec=" ",tc=!1;function su(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function Np(e,t){switch(e){case"compositionend":return au(t);case"keypress":return t.which!==32?null:(tc=!0,ec);case"textInput":return e=t.data,e===ec&&tc?null:e;default:return null}}function kp(e,t){if(wn)return e==="compositionend"||!Ui&&su(e,t)?(e=nu(),bs=zi=At=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ru&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function lu(e,t,n,s){Dd(s),t=Vs(t,"onChange"),0<t.length&&(n=new $i("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var vr=null,Ar=null;function Sp(e){gu(e,0)}function ha(e){var t=kn(e);if(Pd(t))return e}function Cp(e,t){if(e==="change")return t}var iu=!1;if(wt){var Qa;if(wt){var Ya="oninput"in document;if(!Ya){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Ya=typeof rc.oninput=="function"}Qa=Ya}else Qa=!1;iu=Qa&&(!document.documentMode||9<document.documentMode)}function sc(){vr&&(vr.detachEvent("onpropertychange",ou),Ar=vr=null)}function ou(e){if(e.propertyName==="value"&&ha(Ar)){var t=[];lu(t,Ar,e,Ii(e)),Bd(Sp,t)}}function Ep(e,t,n){e==="focusin"?(sc(),vr=t,Ar=n,vr.attachEvent("onpropertychange",ou)):e==="focusout"&&sc()}function Tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(Ar)}function _p(e,t){if(e==="click")return ha(t)}function Pp(e,t){if(e==="input"||e==="change")return ha(t)}function Lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Lp;function Or(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Nl.call(t,a)||!st(e[a],t[a]))return!1}return!0}function ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,t){var n=ac(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ac(n)}}function cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function du(){for(var e=window,t=Ms();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ap(e){var t=du(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cu(n.ownerDocument.documentElement,n)){if(s!==null&&Vi(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=lc(n,l);var i=lc(n,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=wt&&"documentMode"in document&&11>=document.documentMode,jn=null,Bl=null,wr=null,Ul=!1;function ic(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ul||jn==null||jn!==Ms(s)||(s=jn,"selectionStart"in s&&Vi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wr&&Or(wr,s)||(wr=s,s=Vs(Bl,"onSelect"),0<s.length&&(t=new $i("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=jn)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Ka={},uu={};wt&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function fa(e){if(Ka[e])return Ka[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uu)return Ka[e]=t[n];return e}var hu=fa("animationend"),fu=fa("animationiteration"),pu=fa("animationstart"),mu=fa("transitionend"),xu=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){xu.set(e,t),pn(t,[e])}for(var Ja=0;Ja<oc.length;Ja++){var Xa=oc[Ja],Ip=Xa.toLowerCase(),Rp=Xa[0].toUpperCase()+Xa.slice(1);Qt(Ip,"on"+Rp)}Qt(hu,"onAnimationEnd");Qt(fu,"onAnimationIteration");Qt(pu,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(mu,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function cc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,If(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==l&&a.isPropagationStopped())break e;cc(a,c,d),l=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==l&&a.isPropagationStopped())break e;cc(a,c,d),l=o}}}if(Fs)throw e=Dl,Fs=!1,Dl=null,e}function te(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var s=e+"__bubble";n.has(s)||(yu(t,e,2,!1),n.add(s))}function Za(e,t,n){var s=0;t&&(s|=4),yu(n,e,s,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[ls]){e[ls]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(Mp.has(n)||Za(n,!1,e),Za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Za("selectionchange",!1,t))}}function yu(e,t,n,s){switch(tu(t)){case 1:var a=Kf;break;case 4:a=Jf;break;default:a=Fi}n=a.bind(null,t,n,e),a=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function el(e,t,n,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;i=i.return}for(;c!==null;){if(i=nn(c),i===null)return;if(o=i.tag,o===5||o===6){s=l=i;continue e}c=c.parentNode}}s=s.return}Bd(function(){var d=l,m=Ii(n),p=[];e:{var u=xu.get(e);if(u!==void 0){var v=$i,b=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":v=hp;break;case"focusin":b="focus",v=Ga;break;case"focusout":b="blur",v=Ga;break;case"beforeblur":case"afterblur":v=Ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mp;break;case hu:case fu:case pu:v=rp;break;case mu:v=gp;break;case"scroll":v=Xf;break;case"wheel":v=vp;break;case"copy":case"cut":case"paste":v=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zo}var E=(t&4)!==0,M=!E&&e==="scroll",y=E?u!==null?u+"Capture":null:u;E=[];for(var h=d,f;h!==null;){f=h;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,y!==null&&(w=Tr(h,y),w!=null&&E.push(Rr(h,w,f)))),M)break;h=h.return}0<E.length&&(u=new v(u,b,null,n,m),p.push({event:u,listeners:E}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",u&&n!==Il&&(b=n.relatedTarget||n.fromElement)&&(nn(b)||b[jt]))break e;if((v||u)&&(u=m.window===m?m:(u=m.ownerDocument)?u.defaultView||u.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=d,b=b?nn(b):null,b!==null&&(M=mn(b),b!==M||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(E=Jo,w="onMouseLeave",y="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=Zo,w="onPointerLeave",y="onPointerEnter",h="pointer"),M=v==null?u:kn(v),f=b==null?u:kn(b),u=new E(w,h+"leave",v,n,m),u.target=M,u.relatedTarget=f,w=null,nn(m)===d&&(E=new E(y,h+"enter",b,n,m),E.target=f,E.relatedTarget=M,w=E),M=w,v&&b)t:{for(E=v,y=b,h=0,f=E;f;f=xn(f))h++;for(f=0,w=y;w;w=xn(w))f++;for(;0<h-f;)E=xn(E),h--;for(;0<f-h;)y=xn(y),f--;for(;h--;){if(E===y||y!==null&&E===y.alternate)break t;E=xn(E),y=xn(y)}E=null}else E=null;v!==null&&dc(p,u,v,E,!1),b!==null&&M!==null&&dc(p,M,b,E,!0)}}e:{if(u=d?kn(d):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var _=Cp;else if(nc(u))if(iu)_=Pp;else{_=Tp;var L=Ep}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(_=_p);if(_&&(_=_(e,d))){lu(p,_,n,m);break e}L&&L(e,u,d),e==="focusout"&&(L=u._wrapperState)&&L.controlled&&u.type==="number"&&_l(u,"number",u.value)}switch(L=d?kn(d):window,e){case"focusin":(nc(L)||L.contentEditable==="true")&&(jn=L,Bl=d,wr=null);break;case"focusout":wr=Bl=jn=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,ic(p,n,m);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":ic(p,n,m)}var j;if(Ui)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else wn?su(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(ru&&n.locale!=="ko"&&(wn||g!=="onCompositionStart"?g==="onCompositionEnd"&&wn&&(j=nu()):(At=m,zi="value"in At?At.value:At.textContent,wn=!0)),L=Vs(d,g),0<L.length&&(g=new Xo(g,e,null,n,m),p.push({event:g,listeners:L}),j?g.data=j:(j=au(n),j!==null&&(g.data=j)))),(j=jp?Np(e,n):kp(e,n))&&(d=Vs(d,"onBeforeInput"),0<d.length&&(m=new Xo("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:d}),m.data=j))}gu(p,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Tr(e,n),l!=null&&s.unshift(Rr(e,l,a)),l=Tr(e,t),l!=null&&s.push(Rr(e,l,a))),e=e.return}return s}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dc(e,t,n,s,a){for(var l=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&d!==null&&(c=d,a?(o=Tr(n,l),o!=null&&i.unshift(Rr(n,o,c))):a||(o=Tr(n,l),o!=null&&i.push(Rr(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Dp=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function uc(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Fp,"")}function is(e,t,n){if(t=uc(t),uc(e)!==t&&n)throw Error(I(425))}function Hs(){}var Vl=null,Hl=null;function Wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,zp=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Bp)}:ql;function Bp(e){setTimeout(function(){throw e})}function tl(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Lr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Lr(t)}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Yn,Mr="__reactProps$"+Yn,jt="__reactContainer$"+Yn,Gl="__reactEvents$"+Yn,Up="__reactListeners$"+Yn,Vp="__reactHandles$"+Yn;function nn(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fc(e);e!==null;){if(n=e[ot])return n;e=fc(e)}return t}e=n,n=e.parentNode}return null}function Qr(e){return e=e[ot]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function pa(e){return e[Mr]||null}var Ql=[],bn=-1;function Yt(e){return{current:e}}function ne(e){0>bn||(e.current=Ql[bn],Ql[bn]=null,bn--)}function ee(e,t){bn++,Ql[bn]=e.current,e.current=t}var Ht={},ke=Yt(Ht),Pe=Yt(!1),cn=Ht;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Ht;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Le(e){return e=e.childContextTypes,e!=null}function Ws(){ne(Pe),ne(ke)}function pc(e,t,n){if(ke.current!==Ht)throw Error(I(168));ee(ke,t),ee(Pe,n)}function vu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(I(108,Ef(e)||"Unknown",a));return le({},n,s)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,cn=ke.current,ee(ke,e),ee(Pe,Pe.current),!0}function mc(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=vu(e,t,cn),s.__reactInternalMemoizedMergedChildContext=e,ne(Pe),ne(ke),ee(ke,e)):ne(Pe),ee(Pe,n)}var mt=null,ma=!1,nl=!1;function wu(e){mt===null?mt=[e]:mt.push(e)}function Hp(e){ma=!0,wu(e)}function Kt(){if(!nl&&mt!==null){nl=!0;var e=0,t=Z;try{var n=mt;for(Z=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}mt=null,ma=!1}catch(a){throw mt!==null&&(mt=mt.slice(e+1)),Wd(Ri,Kt),a}finally{Z=t,nl=!1}}return null}var Sn=[],Cn=0,Gs=null,Qs=0,$e=[],Be=0,dn=null,xt=1,gt="";function en(e,t){Sn[Cn++]=Qs,Sn[Cn++]=Gs,Gs=e,Qs=t}function ju(e,t,n){$e[Be++]=xt,$e[Be++]=gt,$e[Be++]=dn,dn=e;var s=xt;e=gt;var a=32-nt(s)-1;s&=~(1<<a),n+=1;var l=32-nt(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,xt=1<<32-nt(t)+a|n<<a|s,gt=l+e}else xt=1<<l|n<<a|s,gt=e}function Hi(e){e.return!==null&&(en(e,1),ju(e,1,0))}function Wi(e){for(;e===Gs;)Gs=Sn[--Cn],Sn[Cn]=null,Qs=Sn[--Cn],Sn[Cn]=null;for(;e===dn;)dn=$e[--Be],$e[Be]=null,gt=$e[--Be],$e[Be]=null,xt=$e[--Be],$e[Be]=null}var Re=null,Ie=null,re=!1,et=null;function Nu(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,Ie=Dt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dn!==null?{id:xt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,Ie=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(re){var t=Ie;if(t){var n=t;if(!xc(e,t)){if(Yl(e))throw Error(I(418));t=Dt(n.nextSibling);var s=Re;t&&xc(e,t)?Nu(s,n):(e.flags=e.flags&-4097|2,re=!1,Re=e)}}else{if(Yl(e))throw Error(I(418));e.flags=e.flags&-4097|2,re=!1,Re=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function os(e){if(e!==Re)return!1;if(!re)return gc(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wl(e.type,e.memoizedProps)),t&&(t=Ie)){if(Yl(e))throw ku(),Error(I(418));for(;t;)Nu(e,t),t=Dt(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Dt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Re?Dt(e.stateNode.nextSibling):null;return!0}function ku(){for(var e=Ie;e;)e=Dt(e.nextSibling)}function Fn(){Ie=Re=null,re=!1}function qi(e){et===null?et=[e]:et.push(e)}var Wp=bt.ReactCurrentBatchConfig;function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yc(e){var t=e._init;return t(e._payload)}function bu(e){function t(y,h){if(e){var f=y.deletions;f===null?(y.deletions=[h],y.flags|=16):f.push(h)}}function n(y,h){if(!e)return null;for(;h!==null;)t(y,h),h=h.sibling;return null}function s(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function a(y,h){return y=Bt(y,h),y.index=0,y.sibling=null,y}function l(y,h,f){return y.index=f,e?(f=y.alternate,f!==null?(f=f.index,f<h?(y.flags|=2,h):f):(y.flags|=2,h)):(y.flags|=1048576,h)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,h,f,w){return h===null||h.tag!==6?(h=cl(f,y.mode,w),h.return=y,h):(h=a(h,f),h.return=y,h)}function o(y,h,f,w){var _=f.type;return _===vn?m(y,h,f.props.children,w,f.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tt&&yc(_)===h.type)?(w=a(h,f.props),w.ref=nr(y,h,f),w.return=y,w):(w=As(f.type,f.key,f.props,null,y.mode,w),w.ref=nr(y,h,f),w.return=y,w)}function d(y,h,f,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==f.containerInfo||h.stateNode.implementation!==f.implementation?(h=dl(f,y.mode,w),h.return=y,h):(h=a(h,f.children||[]),h.return=y,h)}function m(y,h,f,w,_){return h===null||h.tag!==7?(h=on(f,y.mode,w,_),h.return=y,h):(h=a(h,f),h.return=y,h)}function p(y,h,f){if(typeof h=="string"&&h!==""||typeof h=="number")return h=cl(""+h,y.mode,f),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Xr:return f=As(h.type,h.key,h.props,null,y.mode,f),f.ref=nr(y,null,h),f.return=y,f;case yn:return h=dl(h,y.mode,f),h.return=y,h;case Tt:var w=h._init;return p(y,w(h._payload),f)}if(hr(h)||Jn(h))return h=on(h,y.mode,f,null),h.return=y,h;cs(y,h)}return null}function u(y,h,f,w){var _=h!==null?h.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:c(y,h,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xr:return f.key===_?o(y,h,f,w):null;case yn:return f.key===_?d(y,h,f,w):null;case Tt:return _=f._init,u(y,h,_(f._payload),w)}if(hr(f)||Jn(f))return _!==null?null:m(y,h,f,w,null);cs(y,f)}return null}function v(y,h,f,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(f)||null,c(h,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xr:return y=y.get(w.key===null?f:w.key)||null,o(h,y,w,_);case yn:return y=y.get(w.key===null?f:w.key)||null,d(h,y,w,_);case Tt:var L=w._init;return v(y,h,f,L(w._payload),_)}if(hr(w)||Jn(w))return y=y.get(f)||null,m(h,y,w,_,null);cs(h,w)}return null}function b(y,h,f,w){for(var _=null,L=null,j=h,g=h=0,T=null;j!==null&&g<f.length;g++){j.index>g?(T=j,j=null):T=j.sibling;var N=u(y,j,f[g],w);if(N===null){j===null&&(j=T);break}e&&j&&N.alternate===null&&t(y,j),h=l(N,h,g),L===null?_=N:L.sibling=N,L=N,j=T}if(g===f.length)return n(y,j),re&&en(y,g),_;if(j===null){for(;g<f.length;g++)j=p(y,f[g],w),j!==null&&(h=l(j,h,g),L===null?_=j:L.sibling=j,L=j);return re&&en(y,g),_}for(j=s(y,j);g<f.length;g++)T=v(j,y,g,f[g],w),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?g:T.key),h=l(T,h,g),L===null?_=T:L.sibling=T,L=T);return e&&j.forEach(function(F){return t(y,F)}),re&&en(y,g),_}function E(y,h,f,w){var _=Jn(f);if(typeof _!="function")throw Error(I(150));if(f=_.call(f),f==null)throw Error(I(151));for(var L=_=null,j=h,g=h=0,T=null,N=f.next();j!==null&&!N.done;g++,N=f.next()){j.index>g?(T=j,j=null):T=j.sibling;var F=u(y,j,N.value,w);if(F===null){j===null&&(j=T);break}e&&j&&F.alternate===null&&t(y,j),h=l(F,h,g),L===null?_=F:L.sibling=F,L=F,j=T}if(N.done)return n(y,j),re&&en(y,g),_;if(j===null){for(;!N.done;g++,N=f.next())N=p(y,N.value,w),N!==null&&(h=l(N,h,g),L===null?_=N:L.sibling=N,L=N);return re&&en(y,g),_}for(j=s(y,j);!N.done;g++,N=f.next())N=v(j,y,g,N.value,w),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?g:N.key),h=l(N,h,g),L===null?_=N:L.sibling=N,L=N);return e&&j.forEach(function(V){return t(y,V)}),re&&en(y,g),_}function M(y,h,f,w){if(typeof f=="object"&&f!==null&&f.type===vn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Xr:e:{for(var _=f.key,L=h;L!==null;){if(L.key===_){if(_=f.type,_===vn){if(L.tag===7){n(y,L.sibling),h=a(L,f.props.children),h.return=y,y=h;break e}}else if(L.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tt&&yc(_)===L.type){n(y,L.sibling),h=a(L,f.props),h.ref=nr(y,L,f),h.return=y,y=h;break e}n(y,L);break}else t(y,L);L=L.sibling}f.type===vn?(h=on(f.props.children,y.mode,w,f.key),h.return=y,y=h):(w=As(f.type,f.key,f.props,null,y.mode,w),w.ref=nr(y,h,f),w.return=y,y=w)}return i(y);case yn:e:{for(L=f.key;h!==null;){if(h.key===L)if(h.tag===4&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(y,h.sibling),h=a(h,f.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else t(y,h);h=h.sibling}h=dl(f,y.mode,w),h.return=y,y=h}return i(y);case Tt:return L=f._init,M(y,h,L(f._payload),w)}if(hr(f))return b(y,h,f,w);if(Jn(f))return E(y,h,f,w);cs(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,h!==null&&h.tag===6?(n(y,h.sibling),h=a(h,f),h.return=y,y=h):(n(y,h),h=cl(f,y.mode,w),h.return=y,y=h),i(y)):n(y,h)}return M}var zn=bu(!0),Su=bu(!1),Ys=Yt(null),Ks=null,En=null,Gi=null;function Qi(){Gi=En=Ks=null}function Yi(e){var t=Ys.current;ne(Ys),e._currentValue=t}function Jl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Ks=e,Gi=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Ks===null)throw Error(I(308));En=e,Ks.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var rn=null;function Ki(e){rn===null?rn=[e]:rn.push(e)}function Cu(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Ki(t)):(n.next=a.next,a.next=n),t.interleaved=n,Nt(e,s)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _t=!1;function Ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Nt(e,n)}return a=s.interleaved,a===null?(t.next=t,Ki(s)):(t.next=a.next,a.next=t),s.interleaved=t,Nt(e,n)}function Cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Mi(e,n)}}function vc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,s){var a=e.updateQueue;_t=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?l=d:i.next=d,i=o;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==i&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=o))}if(l!==null){var p=a.baseState;i=0,m=d=o=null,c=l;do{var u=c.lane,v=c.eventTime;if((s&u)===u){m!==null&&(m=m.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,E=c;switch(u=t,v=n,E.tag){case 1:if(b=E.payload,typeof b=="function"){p=b.call(v,p,u);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,u=typeof b=="function"?b.call(v,p,u):b,u==null)break e;p=le({},p,u);break e;case 2:_t=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,u=a.effects,u===null?a.effects=[c]:u.push(c))}else v={eventTime:v,lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=v,o=p):m=m.next=v,i|=u;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;u=c,c=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}while(!0);if(m===null&&(o=p),a.baseState=o,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);hn|=i,e.lanes=i,e.memoizedState=p}}function wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(I(191,a));a.call(s)}}}var Yr={},dt=Yt(Yr),Dr=Yt(Yr),Fr=Yt(Yr);function sn(e){if(e===Yr)throw Error(I(174));return e}function Xi(e,t){switch(ee(Fr,t),ee(Dr,e),ee(dt,Yr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}ne(dt),ee(dt,t)}function $n(){ne(dt),ne(Dr),ne(Fr)}function Tu(e){sn(Fr.current);var t=sn(dt.current),n=Ll(t,e.type);t!==n&&(ee(Dr,e),ee(dt,n))}function Zi(e){Dr.current===e&&(ne(dt),ne(Dr))}var se=Yt(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=[];function eo(){for(var e=0;e<rl.length;e++)rl[e]._workInProgressVersionPrimary=null;rl.length=0}var Es=bt.ReactCurrentDispatcher,sl=bt.ReactCurrentBatchConfig,un=0,ae=null,he=null,me=null,Zs=!1,jr=!1,zr=0,qp=0;function we(){throw Error(I(321))}function to(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function no(e,t,n,s,a,l){if(un=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?Kp:Jp,e=n(s,a),jr){l=0;do{if(jr=!1,zr=0,25<=l)throw Error(I(301));l+=1,me=he=null,t.updateQueue=null,Es.current=Xp,e=n(s,a)}while(jr)}if(Es.current=ea,t=he!==null&&he.next!==null,un=0,me=he=ae=null,Zs=!1,t)throw Error(I(300));return e}function ro(){var e=zr!==0;return zr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ae.memoizedState=me=e:me=me.next=e,me}function Ge(){if(he===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=me===null?ae.memoizedState:me.next;if(t!==null)me=t,he=e;else{if(e===null)throw Error(I(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?ae.memoizedState=me=e:me=me.next=e}return me}function $r(e,t){return typeof t=="function"?t(e):t}function al(e){var t=Ge(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=he,a=s.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,s=s.baseState;var c=i=null,o=null,d=l;do{var m=d.lane;if((un&m)===m)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=p,i=s):o=o.next=p,ae.lanes|=m,hn|=m}d=d.next}while(d!==null&&d!==l);o===null?i=s:o.next=c,st(s,t.memoizedState)||(_e=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do l=a.lane,ae.lanes|=l,hn|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ll(e){var t=Ge(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);st(l,t.memoizedState)||(_e=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function _u(){}function Pu(e,t){var n=ae,s=Ge(),a=t(),l=!st(s.memoizedState,a);if(l&&(s.memoizedState=a,_e=!0),s=s.queue,so(Ou.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Br(9,Au.bind(null,n,s,a,t),void 0,null),xe===null)throw Error(I(349));un&30||Lu(n,t,a)}return a}function Lu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Au(e,t,n,s){t.value=n,t.getSnapshot=s,Iu(t)&&Ru(e)}function Ou(e,t,n){return n(function(){Iu(t)&&Ru(e)})}function Iu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function Ru(e){var t=Nt(e,1);t!==null&&rt(t,e,1,-1)}function jc(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=Yp.bind(null,ae,e),[t.memoizedState,e]}function Br(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Mu(){return Ge().memoizedState}function Ts(e,t,n,s){var a=it();ae.flags|=e,a.memoizedState=Br(1|t,n,void 0,s===void 0?null:s)}function xa(e,t,n,s){var a=Ge();s=s===void 0?null:s;var l=void 0;if(he!==null){var i=he.memoizedState;if(l=i.destroy,s!==null&&to(s,i.deps)){a.memoizedState=Br(t,n,l,s);return}}ae.flags|=e,a.memoizedState=Br(1|t,n,l,s)}function Nc(e,t){return Ts(8390656,8,e,t)}function so(e,t){return xa(2048,8,e,t)}function Du(e,t){return xa(4,2,e,t)}function Fu(e,t){return xa(4,4,e,t)}function zu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $u(e,t,n){return n=n!=null?n.concat([e]):null,xa(4,4,zu.bind(null,t,e),n)}function ao(){}function Bu(e,t){var n=Ge();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&to(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Uu(e,t){var n=Ge();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&to(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Vu(e,t,n){return un&21?(st(n,t)||(n=Qd(),ae.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=n)}function Gp(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var s=sl.transition;sl.transition={};try{e(!1),t()}finally{Z=n,sl.transition=s}}function Hu(){return Ge().memoizedState}function Qp(e,t,n){var s=$t(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Wu(e))qu(t,n);else if(n=Cu(e,t,n,s),n!==null){var a=Se();rt(n,e,s,a),Gu(n,t,s)}}function Yp(e,t,n){var s=$t(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))qu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,n);if(a.hasEagerState=!0,a.eagerState=c,st(c,i)){var o=t.interleaved;o===null?(a.next=a,Ki(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch{}finally{}n=Cu(e,t,a,s),n!==null&&(a=Se(),rt(n,e,s,a),Gu(n,t,s))}}function Wu(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function qu(e,t){jr=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Mi(e,n)}}var ea={readContext:qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Kp={readContext:qe,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,zu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=it();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Qp.bind(null,ae,e),[s.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:jc,useDebugValue:ao,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=jc(!1),t=e[0];return e=Gp.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ae,a=it();if(re){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),xe===null)throw Error(I(349));un&30||Lu(s,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Nc(Ou.bind(null,s,l,e),[e]),s.flags|=2048,Br(9,Au.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=it(),t=xe.identifierPrefix;if(re){var n=gt,s=xt;n=(s&~(1<<32-nt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:qe,useCallback:Bu,useContext:qe,useEffect:so,useImperativeHandle:$u,useInsertionEffect:Du,useLayoutEffect:Fu,useMemo:Uu,useReducer:al,useRef:Mu,useState:function(){return al($r)},useDebugValue:ao,useDeferredValue:function(e){var t=Ge();return Vu(t,he.memoizedState,e)},useTransition:function(){var e=al($r)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:_u,useSyncExternalStore:Pu,useId:Hu,unstable_isNewReconciler:!1},Xp={readContext:qe,useCallback:Bu,useContext:qe,useEffect:so,useImperativeHandle:$u,useInsertionEffect:Du,useLayoutEffect:Fu,useMemo:Uu,useReducer:ll,useRef:Mu,useState:function(){return ll($r)},useDebugValue:ao,useDeferredValue:function(e){var t=Ge();return he===null?t.memoizedState=e:Vu(t,he.memoizedState,e)},useTransition:function(){var e=ll($r)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:_u,useSyncExternalStore:Pu,useId:Hu,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Se(),a=$t(e),l=yt(s,a);l.payload=t,n!=null&&(l.callback=n),t=Ft(e,l,a),t!==null&&(rt(t,e,a,s),Cs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Se(),a=$t(e),l=yt(s,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ft(e,l,a),t!==null&&(rt(t,e,a,s),Cs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),s=$t(e),a=yt(n,s);a.tag=2,t!=null&&(a.callback=t),t=Ft(e,a,s),t!==null&&(rt(t,e,s,n),Cs(t,e,s))}};function kc(e,t,n,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!Or(n,s)||!Or(a,l):!0}function Qu(e,t,n){var s=!1,a=Ht,l=t.contextType;return typeof l=="object"&&l!==null?l=qe(l):(a=Le(t)?cn:ke.current,s=t.contextTypes,l=(s=s!=null)?Dn(e,a):Ht),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function bc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function Zl(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ji(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=qe(l):(l=Le(t)?cn:ke.current,a.context=Dn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Xl(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ga.enqueueReplaceState(a,a.state,null),Js(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Bn(e,t){try{var n="",s=t;do n+=Cf(s),s=s.return;while(s);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ei(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zp=typeof WeakMap=="function"?WeakMap:Map;function Yu(e,t,n){n=yt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){na||(na=!0,di=s),ei(e,t)},n}function Ku(e,t,n){n=yt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){ei(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ei(e,t),typeof s!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Sc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Zp;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=fm.bind(null,e,t,n),t.then(e,e))}function Cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ec(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yt(-1,1),t.tag=2,Ft(n,t,1))),n.lanes|=1),e)}var em=bt.ReactCurrentOwner,_e=!1;function be(e,t,n,s){t.child=e===null?Su(t,null,n,s):zn(t,e.child,n,s)}function Tc(e,t,n,s,a){n=n.render;var l=t.ref;return In(t,a),s=no(e,t,n,s,l,a),n=ro(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kt(e,t,a)):(re&&n&&Hi(t),t.flags|=1,be(e,t,s,a),t.child)}function _c(e,t,n,s,a){if(e===null){var l=n.type;return typeof l=="function"&&!po(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ju(e,t,l,s,a)):(e=As(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Or,n(i,s)&&e.ref===t.ref)return kt(e,t,a)}return t.flags|=1,e=Bt(l,s),e.ref=t.ref,e.return=t,t.child=e}function Ju(e,t,n,s,a){if(e!==null){var l=e.memoizedProps;if(Or(l,s)&&e.ref===t.ref)if(_e=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,kt(e,t,a)}return ti(e,t,n,s,a)}function Xu(e,t,n){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(_n,Oe),Oe|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(_n,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,ee(_n,Oe),Oe|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,ee(_n,Oe),Oe|=s;return be(e,t,a,n),t.child}function Zu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ti(e,t,n,s,a){var l=Le(n)?cn:ke.current;return l=Dn(t,l),In(t,a),n=no(e,t,n,s,l,a),s=ro(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kt(e,t,a)):(re&&s&&Hi(t),t.flags|=1,be(e,t,n,a),t.child)}function Pc(e,t,n,s,a){if(Le(n)){var l=!0;qs(t)}else l=!1;if(In(t,a),t.stateNode===null)_s(e,t),Qu(t,n,s),Zl(t,n,s,a),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=qe(d):(d=Le(n)?cn:ke.current,d=Dn(t,d));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==d)&&bc(t,i,s,d),_t=!1;var u=t.memoizedState;i.state=u,Js(t,s,i,a),o=t.memoizedState,c!==s||u!==o||Pe.current||_t?(typeof m=="function"&&(Xl(t,n,m,s),o=t.memoizedState),(c=_t||kc(t,n,c,s,u,o,d))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=d,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Eu(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Je(t.type,c),i.props=d,p=t.pendingProps,u=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=qe(o):(o=Le(n)?cn:ke.current,o=Dn(t,o));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==p||u!==o)&&bc(t,i,s,o),_t=!1,u=t.memoizedState,i.state=u,Js(t,s,i,a);var b=t.memoizedState;c!==p||u!==b||Pe.current||_t?(typeof v=="function"&&(Xl(t,n,v,s),b=t.memoizedState),(d=_t||kc(t,n,d,s,u,b,o)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,b,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,b,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),i.props=s,i.state=b,i.context=o,s=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return ni(e,t,n,s,l,a)}function ni(e,t,n,s,a,l){Zu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&mc(t,n,!1),kt(e,t,l);s=t.stateNode,em.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=zn(t,e.child,null,l),t.child=zn(t,null,c,l)):be(e,t,c,l),t.memoizedState=s.state,a&&mc(t,n,!0),t.child}function eh(e){var t=e.stateNode;t.pendingContext?pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pc(e,t.context,!1),Xi(e,t.containerInfo)}function Lc(e,t,n,s,a){return Fn(),qi(a),t.flags|=256,be(e,t,n,s),t.child}var ri={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:null,transitions:null}}function th(e,t,n){var s=t.pendingProps,a=se.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ee(se,a&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=wa(i,s,0,null),e=on(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=si(n),t.memoizedState=ri,e):lo(t,i));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return tm(e,t,i,s,c,a,n);if(l){l=s.fallback,i=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Bt(a,o),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Bt(c,l):(l=on(l,i,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?si(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ri,s}return l=e.child,e=l.sibling,s=Bt(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lo(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,s){return s!==null&&qi(s),zn(t,e.child,null,n),e=lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tm(e,t,n,s,a,l,i){if(n)return t.flags&256?(t.flags&=-257,s=il(Error(I(422))),ds(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=wa({mode:"visible",children:s.children},a,0,null),l=on(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&zn(t,e.child,null,i),t.child.memoizedState=si(i),t.memoizedState=ri,l);if(!(t.mode&1))return ds(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(I(419)),s=il(l,s,void 0),ds(e,t,i,s)}if(c=(i&e.childLanes)!==0,_e||c){if(s=xe,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Nt(e,a),rt(s,e,a,-1))}return fo(),s=il(Error(I(421))),ds(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pm.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ie=Dt(a.nextSibling),Re=t,re=!0,et=null,e!==null&&($e[Be++]=xt,$e[Be++]=gt,$e[Be++]=dn,xt=e.id,gt=e.overflow,dn=t),t=lo(t,s.children),t.flags|=4096,t)}function Ac(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jl(e.return,t,n)}function ol(e,t,n,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=a)}function nh(e,t,n){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(be(e,t,s.children,n),s=se.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ac(e,n,t);else if(e.tag===19)Ac(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ee(se,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Xs(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ol(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xs(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ol(t,!0,n,null,l);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Bt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nm(e,t,n){switch(t.tag){case 3:eh(t),Fn();break;case 5:Tu(t);break;case 1:Le(t.type)&&qs(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ee(Ys,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ee(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?th(e,t,n):(ee(se,se.current&1),e=kt(e,t,n),e!==null?e.sibling:null);ee(se,se.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return nh(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ee(se,se.current),s)break;return null;case 22:case 23:return t.lanes=0,Xu(e,t,n)}return kt(e,t,n)}var rh,ai,sh,ah;rh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ai=function(){};sh=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,sn(dt.current);var l=null;switch(n){case"input":a=El(e,a),s=El(e,s),l=[];break;case"select":a=le({},a,{value:void 0}),s=le({},s,{value:void 0}),l=[];break;case"textarea":a=Pl(e,a),s=Pl(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Hs)}Al(n,s);var i;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cr.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in s){var o=s[d];if(c=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(l||(l=[]),l.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&te("scroll",e),l||c===o||(l=[])):(l=l||[]).push(d,o))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};ah=function(e,t,n,s){n!==s&&(t.flags|=4)};function rr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function rm(e,t,n){var s=t.pendingProps;switch(Wi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Le(t.type)&&Ws(),je(t),null;case 3:return s=t.stateNode,$n(),ne(Pe),ne(ke),eo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(fi(et),et=null))),ai(e,t),je(t),null;case 5:Zi(t);var a=sn(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)sh(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return je(t),null}if(e=sn(dt.current),os(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[ot]=t,s[Mr]=l,e=(t.mode&1)!==0,n){case"dialog":te("cancel",s),te("close",s);break;case"iframe":case"object":case"embed":te("load",s);break;case"video":case"audio":for(a=0;a<pr.length;a++)te(pr[a],s);break;case"source":te("error",s);break;case"img":case"image":case"link":te("error",s),te("load",s);break;case"details":te("toggle",s);break;case"input":Bo(s,l),te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},te("invalid",s);break;case"textarea":Vo(s,l),te("invalid",s)}Al(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&is(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&is(s.textContent,c,e),a=["children",""+c]):Cr.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&te("scroll",s)}switch(n){case"input":Zr(s),Uo(s,l,!0);break;case"textarea":Zr(s),Ho(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Hs)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Od(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[ot]=t,e[Mr]=s,rh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ol(n,s),n){case"dialog":te("cancel",e),te("close",e),a=s;break;case"iframe":case"object":case"embed":te("load",e),a=s;break;case"video":case"audio":for(a=0;a<pr.length;a++)te(pr[a],e);a=s;break;case"source":te("error",e),a=s;break;case"img":case"image":case"link":te("error",e),te("load",e),a=s;break;case"details":te("toggle",e),a=s;break;case"input":Bo(e,s),a=El(e,s),te("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=le({},s,{value:void 0}),te("invalid",e);break;case"textarea":Vo(e,s),a=Pl(e,s),te("invalid",e);break;default:a=s}Al(n,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?Md(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Id(e,o)):l==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Er(e,o):typeof o=="number"&&Er(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cr.hasOwnProperty(l)?o!=null&&l==="onScroll"&&te("scroll",e):o!=null&&Pi(e,l,o,i))}switch(n){case"input":Zr(e),Uo(e,s,!1);break;case"textarea":Zr(e),Ho(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Vt(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Pn(e,!!s.multiple,l,!1):s.defaultValue!=null&&Pn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)ah(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=sn(Fr.current),sn(dt.current),os(t)){if(s=t.stateNode,n=t.memoizedProps,s[ot]=t,(l=s.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:is(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ot]=t,t.stateNode=s}return je(t),null;case 13:if(ne(se),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ie!==null&&t.mode&1&&!(t.flags&128))ku(),Fn(),t.flags|=98560,l=!1;else if(l=os(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[ot]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),l=!1}else et!==null&&(fi(et),et=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?fe===0&&(fe=3):fo())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return $n(),ai(e,t),e===null&&Ir(t.stateNode.containerInfo),je(t),null;case 10:return Yi(t.type._context),je(t),null;case 17:return Le(t.type)&&Ws(),je(t),null;case 19:if(ne(se),l=t.memoizedState,l===null)return je(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)rr(l,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xs(e),i!==null){for(t.flags|=128,rr(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(se,se.current&1|2),t.child}e=e.sibling}l.tail!==null&&ce()>Un&&(t.flags|=128,s=!0,rr(l,!1),t.lanes=4194304)}else{if(!s)if(e=Xs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!re)return je(t),null}else 2*ce()-l.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,s=!0,rr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ce(),t.sibling=null,n=se.current,ee(se,s?n&1|2:n&1),t):(je(t),null);case 22:case 23:return ho(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Oe&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function sm(e,t){switch(Wi(t),t.tag){case 1:return Le(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),ne(Pe),ne(ke),eo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zi(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return $n(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return ho(),null;case 24:return null;default:return null}}var us=!1,Ne=!1,am=typeof WeakSet=="function"?WeakSet:Set,$=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ie(e,t,s)}else n.current=null}function li(e,t,n){try{n()}catch(s){ie(e,t,s)}}var Oc=!1;function lm(e,t){if(Vl=Bs,e=du(),Vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,d=0,m=0,p=e,u=null;t:for(;;){for(var v;p!==n||a!==0&&p.nodeType!==3||(c=i+a),p!==l||s!==0&&p.nodeType!==3||(o=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)u=p,p=v;for(;;){if(p===e)break t;if(u===n&&++d===a&&(c=i),u===l&&++m===s&&(o=i),(v=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=v}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hl={focusedElem:e,selectionRange:n},Bs=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,M=b.memoizedState,y=t.stateNode,h=y.getSnapshotBeforeUpdate(t.elementType===t.type?E:Je(t.type,E),M);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){ie(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return b=Oc,Oc=!1,b}function Nr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&li(t,n,l)}a=a.next}while(a!==s)}}function ya(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ii(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[Mr],delete t[Gl],delete t[Up],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ih(e){return e.tag===5||e.tag===3||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hs));else if(s!==4&&(e=e.child,e!==null))for(oi(e,t,n),e=e.sibling;e!==null;)oi(e,t,n),e=e.sibling}function ci(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ci(e,t,n),e=e.sibling;e!==null;)ci(e,t,n),e=e.sibling}var ge=null,Xe=!1;function Ct(e,t,n){for(n=n.child;n!==null;)oh(e,t,n),n=n.sibling}function oh(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:Ne||Tn(n,t);case 6:var s=ge,a=Xe;ge=null,Ct(e,t,n),ge=s,Xe=a,ge!==null&&(Xe?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Xe?(e=ge,n=n.stateNode,e.nodeType===8?tl(e.parentNode,n):e.nodeType===1&&tl(e,n),Lr(e)):tl(ge,n.stateNode));break;case 4:s=ge,a=Xe,ge=n.stateNode.containerInfo,Xe=!0,Ct(e,t,n),ge=s,Xe=a;break;case 0:case 11:case 14:case 15:if(!Ne&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&li(n,t,i),a=a.next}while(a!==s)}Ct(e,t,n);break;case 1:if(!Ne&&(Tn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){ie(n,t,c)}Ct(e,t,n);break;case 21:Ct(e,t,n);break;case 22:n.mode&1?(Ne=(s=Ne)||n.memoizedState!==null,Ct(e,t,n),Ne=s):Ct(e,t,n);break;default:Ct(e,t,n)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new am),t.forEach(function(s){var a=mm.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:ge=c.stateNode,Xe=!1;break e;case 3:ge=c.stateNode.containerInfo,Xe=!0;break e;case 4:ge=c.stateNode.containerInfo,Xe=!0;break e}c=c.return}if(ge===null)throw Error(I(160));oh(l,i,a),ge=null,Xe=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(d){ie(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}function ch(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),at(e),s&4){try{Nr(3,e,e.return),ya(3,e)}catch(E){ie(e,e.return,E)}try{Nr(5,e,e.return)}catch(E){ie(e,e.return,E)}}break;case 1:Ke(t,e),at(e),s&512&&n!==null&&Tn(n,n.return);break;case 5:if(Ke(t,e),at(e),s&512&&n!==null&&Tn(n,n.return),e.flags&32){var a=e.stateNode;try{Er(a,"")}catch(E){ie(e,e.return,E)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Ld(a,l),Ol(c,i);var d=Ol(c,l);for(i=0;i<o.length;i+=2){var m=o[i],p=o[i+1];m==="style"?Md(a,p):m==="dangerouslySetInnerHTML"?Id(a,p):m==="children"?Er(a,p):Pi(a,m,p,d)}switch(c){case"input":Tl(a,l);break;case"textarea":Ad(a,l);break;case"select":var u=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Pn(a,!!l.multiple,v,!1):u!==!!l.multiple&&(l.defaultValue!=null?Pn(a,!!l.multiple,l.defaultValue,!0):Pn(a,!!l.multiple,l.multiple?[]:"",!1))}a[Mr]=l}catch(E){ie(e,e.return,E)}}break;case 6:if(Ke(t,e),at(e),s&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(E){ie(e,e.return,E)}}break;case 3:if(Ke(t,e),at(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(E){ie(e,e.return,E)}break;case 4:Ke(t,e),at(e);break;case 13:Ke(t,e),at(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(co=ce())),s&4&&Rc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(d=Ne)||m,Ke(t,e),Ne=d):Ke(t,e),at(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(p=$=m;$!==null;){switch(u=$,v=u.child,u.tag){case 0:case 11:case 14:case 15:Nr(4,u,u.return);break;case 1:Tn(u,u.return);var b=u.stateNode;if(typeof b.componentWillUnmount=="function"){s=u,n=u.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(E){ie(s,n,E)}}break;case 5:Tn(u,u.return);break;case 22:if(u.memoizedState!==null){Dc(p);continue}}v!==null?(v.return=u,$=v):Dc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=p.stateNode,o=p.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Rd("display",i))}catch(E){ie(e,e.return,E)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(E){ie(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ke(t,e),at(e),s&4&&Rc(e);break;case 21:break;default:Ke(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ih(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Er(a,""),s.flags&=-33);var l=Ic(e);ci(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Ic(e);oi(e,c,i);break;default:throw Error(I(161))}}catch(o){ie(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e,t,n){$=e,dh(e)}function dh(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var a=$,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||us;if(!i){var c=a.alternate,o=c!==null&&c.memoizedState!==null||Ne;c=us;var d=Ne;if(us=i,(Ne=o)&&!d)for($=a;$!==null;)i=$,o=i.child,i.tag===22&&i.memoizedState!==null?Fc(a):o!==null?(o.return=i,$=o):Fc(a);for(;l!==null;)$=l,dh(l),l=l.sibling;$=a,us=c,Ne=d}Mc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,$=l):Mc(e)}}function Mc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||ya(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ne)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&wc(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wc(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Lr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ne||t.flags&512&&ii(t)}catch(u){ie(t,t.return,u)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Dc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Fc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ya(4,t)}catch(o){ie(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(o){ie(t,a,o)}}var l=t.return;try{ii(t)}catch(o){ie(t,l,o)}break;case 5:var i=t.return;try{ii(t)}catch(o){ie(t,i,o)}}}catch(o){ie(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var om=Math.ceil,ta=bt.ReactCurrentDispatcher,io=bt.ReactCurrentOwner,He=bt.ReactCurrentBatchConfig,K=0,xe=null,de=null,ye=0,Oe=0,_n=Yt(0),fe=0,Ur=null,hn=0,va=0,oo=0,kr=null,Te=null,co=0,Un=1/0,pt=null,na=!1,di=null,zt=null,hs=!1,Ot=null,ra=0,br=0,ui=null,Ps=-1,Ls=0;function Se(){return K&6?ce():Ps!==-1?Ps:Ps=ce()}function $t(e){return e.mode&1?K&2&&ye!==0?ye&-ye:Wp.transition!==null?(Ls===0&&(Ls=Qd()),Ls):(e=Z,e!==0||(e=window.event,e=e===void 0?16:tu(e.type)),e):1}function rt(e,t,n,s){if(50<br)throw br=0,ui=null,Error(I(185));qr(e,n,s),(!(K&2)||e!==xe)&&(e===xe&&(!(K&2)&&(va|=n),fe===4&&Lt(e,ye)),Ae(e,s),n===1&&K===0&&!(t.mode&1)&&(Un=ce()+500,ma&&Kt()))}function Ae(e,t){var n=e.callbackNode;Wf(e,t);var s=$s(e,e===xe?ye:0);if(s===0)n!==null&&Go(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Go(n),t===1)e.tag===0?Hp(zc.bind(null,e)):wu(zc.bind(null,e)),$p(function(){!(K&6)&&Kt()}),n=null;else{switch(Yd(s)){case 1:n=Ri;break;case 4:n=qd;break;case 16:n=zs;break;case 536870912:n=Gd;break;default:n=zs}n=yh(n,uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uh(e,t){if(Ps=-1,Ls=0,K&6)throw Error(I(327));var n=e.callbackNode;if(Rn()&&e.callbackNode!==n)return null;var s=$s(e,e===xe?ye:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=sa(e,s);else{t=s;var a=K;K|=2;var l=fh();(xe!==e||ye!==t)&&(pt=null,Un=ce()+500,ln(e,t));do try{um();break}catch(c){hh(e,c)}while(!0);Qi(),ta.current=l,K=a,de!==null?t=0:(xe=null,ye=0,t=fe)}if(t!==0){if(t===2&&(a=Fl(e),a!==0&&(s=a,t=hi(e,a))),t===1)throw n=Ur,ln(e,0),Lt(e,s),Ae(e,ce()),n;if(t===6)Lt(e,s);else{if(a=e.current.alternate,!(s&30)&&!cm(a)&&(t=sa(e,s),t===2&&(l=Fl(e),l!==0&&(s=l,t=hi(e,l))),t===1))throw n=Ur,ln(e,0),Lt(e,s),Ae(e,ce()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:tn(e,Te,pt);break;case 3:if(Lt(e,s),(s&130023424)===s&&(t=co+500-ce(),10<t)){if($s(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Se(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ql(tn.bind(null,e,Te,pt),t);break}tn(e,Te,pt);break;case 4:if(Lt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-nt(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=ce()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*om(s/1960))-s,10<s){e.timeoutHandle=ql(tn.bind(null,e,Te,pt),s);break}tn(e,Te,pt);break;case 5:tn(e,Te,pt);break;default:throw Error(I(329))}}}return Ae(e,ce()),e.callbackNode===n?uh.bind(null,e):null}function hi(e,t){var n=kr;return e.current.memoizedState.isDehydrated&&(ln(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Te,Te=n,t!==null&&fi(t)),e}function fi(e){Te===null?Te=e:Te.push.apply(Te,e)}function cm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],l=a.getSnapshot;a=a.value;try{if(!st(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~oo,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),s=1<<n;e[n]=-1,t&=~s}}function zc(e){if(K&6)throw Error(I(327));Rn();var t=$s(e,0);if(!(t&1))return Ae(e,ce()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var s=Fl(e);s!==0&&(t=s,n=hi(e,s))}if(n===1)throw n=Ur,ln(e,0),Lt(e,t),Ae(e,ce()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tn(e,Te,pt),Ae(e,ce()),null}function uo(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Un=ce()+500,ma&&Kt())}}function fn(e){Ot!==null&&Ot.tag===0&&!(K&6)&&Rn();var t=K;K|=1;var n=He.transition,s=Z;try{if(He.transition=null,Z=1,e)return e()}finally{Z=s,He.transition=n,K=t,!(K&6)&&Kt()}}function ho(){Oe=_n.current,ne(_n)}function ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zp(n)),de!==null)for(n=de.return;n!==null;){var s=n;switch(Wi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ws();break;case 3:$n(),ne(Pe),ne(ke),eo();break;case 5:Zi(s);break;case 4:$n();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Yi(s.type._context);break;case 22:case 23:ho()}n=n.return}if(xe=e,de=e=Bt(e.current,null),ye=Oe=t,fe=0,Ur=null,oo=va=hn=0,Te=kr=null,rn!==null){for(t=0;t<rn.length;t++)if(n=rn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}n.pending=s}rn=null}return e}function hh(e,t){do{var n=de;try{if(Qi(),Es.current=ea,Zs){for(var s=ae.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zs=!1}if(un=0,me=he=ae=null,jr=!1,zr=0,io.current=null,n===null||n.return===null){fe=1,Ur=t,de=null;break}e:{var l=e,i=n.return,c=n,o=t;if(t=ye,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,m=c,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var u=m.alternate;u?(m.updateQueue=u.updateQueue,m.memoizedState=u.memoizedState,m.lanes=u.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Cc(i);if(v!==null){v.flags&=-257,Ec(v,i,c,l,t),v.mode&1&&Sc(l,d,t),t=v,o=d;var b=t.updateQueue;if(b===null){var E=new Set;E.add(o),t.updateQueue=E}else b.add(o);break e}else{if(!(t&1)){Sc(l,d,t),fo();break e}o=Error(I(426))}}else if(re&&c.mode&1){var M=Cc(i);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Ec(M,i,c,l,t),qi(Bn(o,c));break e}}l=o=Bn(o,c),fe!==4&&(fe=2),kr===null?kr=[l]:kr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=Yu(l,o,t);vc(l,y);break e;case 1:c=o;var h=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zt===null||!zt.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Ku(l,c,t);vc(l,w);break e}}l=l.return}while(l!==null)}mh(n)}catch(_){t=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function fh(){var e=ta.current;return ta.current=ea,e===null?ea:e}function fo(){(fe===0||fe===3||fe===2)&&(fe=4),xe===null||!(hn&268435455)&&!(va&268435455)||Lt(xe,ye)}function sa(e,t){var n=K;K|=2;var s=fh();(xe!==e||ye!==t)&&(pt=null,ln(e,t));do try{dm();break}catch(a){hh(e,a)}while(!0);if(Qi(),K=n,ta.current=s,de!==null)throw Error(I(261));return xe=null,ye=0,fe}function dm(){for(;de!==null;)ph(de)}function um(){for(;de!==null&&!Mf();)ph(de)}function ph(e){var t=gh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?mh(e):de=t,io.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sm(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,de=null;return}}else if(n=rm(n,t,Oe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);fe===0&&(fe=5)}function tn(e,t,n){var s=Z,a=He.transition;try{He.transition=null,Z=1,hm(e,t,n,s)}finally{He.transition=a,Z=s}return null}function hm(e,t,n,s){do Rn();while(Ot!==null);if(K&6)throw Error(I(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(qf(e,l),e===xe&&(de=xe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,yh(zs,function(){return Rn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=He.transition,He.transition=null;var i=Z;Z=1;var c=K;K|=4,io.current=null,lm(e,n),ch(n,e),Ap(Hl),Bs=!!Vl,Hl=Vl=null,e.current=n,im(n),Df(),K=c,Z=i,He.transition=l}else e.current=n;if(hs&&(hs=!1,Ot=e,ra=a),l=e.pendingLanes,l===0&&(zt=null),$f(n.stateNode),Ae(e,ce()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(na)throw na=!1,e=di,di=null,e;return ra&1&&e.tag!==0&&Rn(),l=e.pendingLanes,l&1?e===ui?br++:(br=0,ui=e):br=0,Kt(),null}function Rn(){if(Ot!==null){var e=Yd(ra),t=He.transition,n=Z;try{if(He.transition=null,Z=16>e?16:e,Ot===null)var s=!1;else{if(e=Ot,Ot=null,ra=0,K&6)throw Error(I(331));var a=K;for(K|=4,$=e.current;$!==null;){var l=$,i=l.child;if($.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for($=d;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:Nr(8,m,l)}var p=m.child;if(p!==null)p.return=m,$=p;else for(;$!==null;){m=$;var u=m.sibling,v=m.return;if(lh(m),m===d){$=null;break}if(u!==null){u.return=v,$=u;break}$=v}}}var b=l.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var M=E.sibling;E.sibling=null,E=M}while(E!==null)}}$=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,$=i;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Nr(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,$=y;break e}$=l.return}}var h=e.current;for($=h;$!==null;){i=$;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,$=f;else e:for(i=h;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ya(9,c)}}catch(_){ie(c,c.return,_)}if(c===i){$=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,$=w;break e}$=c.return}}if(K=a,Kt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(da,e)}catch{}s=!0}return s}finally{Z=n,He.transition=t}}return!1}function $c(e,t,n){t=Bn(n,t),t=Yu(e,t,1),e=Ft(e,t,1),t=Se(),e!==null&&(qr(e,1,t),Ae(e,t))}function ie(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zt===null||!zt.has(s))){e=Bn(n,e),e=Ku(t,e,1),t=Ft(t,e,1),e=Se(),t!==null&&(qr(t,1,e),Ae(t,e));break}}t=t.return}}function fm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ce()-co?ln(e,0):oo|=n),Ae(e,t)}function xh(e,t){t===0&&(e.mode&1?(t=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):t=1);var n=Se();e=Nt(e,t),e!==null&&(qr(e,t,n),Ae(e,n))}function pm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xh(e,n)}function mm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),xh(e,n)}var gh;gh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)_e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _e=!1,nm(e,t,n);_e=!!(e.flags&131072)}else _e=!1,re&&t.flags&1048576&&ju(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;_s(e,t),e=t.pendingProps;var a=Dn(t,ke.current);In(t,n),a=no(null,t,s,e,a,n);var l=ro();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(s)?(l=!0,qs(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ji(t),a.updater=ga,t.stateNode=a,a._reactInternals=t,Zl(t,s,e,n),t=ni(null,t,s,!0,l,n)):(t.tag=0,re&&l&&Hi(t),be(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=gm(s),e=Je(s,e),a){case 0:t=ti(null,t,s,e,n);break e;case 1:t=Pc(null,t,s,e,n);break e;case 11:t=Tc(null,t,s,e,n);break e;case 14:t=_c(null,t,s,Je(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Je(s,a),ti(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Je(s,a),Pc(e,t,s,a,n);case 3:e:{if(eh(t),e===null)throw Error(I(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Eu(e,t),Js(t,s,null,n);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Bn(Error(I(423)),t),t=Lc(e,t,s,n,a);break e}else if(s!==a){a=Bn(Error(I(424)),t),t=Lc(e,t,s,n,a);break e}else for(Ie=Dt(t.stateNode.containerInfo.firstChild),Re=t,re=!0,et=null,n=Su(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),s===a){t=kt(e,t,n);break e}be(e,t,s,n)}t=t.child}return t;case 5:return Tu(t),e===null&&Kl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Wl(s,a)?i=null:l!==null&&Wl(s,l)&&(t.flags|=32),Zu(e,t),be(e,t,i,n),t.child;case 6:return e===null&&Kl(t),null;case 13:return th(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=zn(t,null,s,n):be(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Je(s,a),Tc(e,t,s,a,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ee(Ys,s._currentValue),s._currentValue=i,l!==null)if(st(l.value,i)){if(l.children===a.children&&!Pe.current){t=kt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(l.tag===1){o=yt(-1,n&-n),o.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o}}l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Jl(l.return,n,t),c.lanes|=n;break}o=o.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Jl(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}be(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,In(t,n),a=qe(a),s=s(a),t.flags|=1,be(e,t,s,n),t.child;case 14:return s=t.type,a=Je(s,t.pendingProps),a=Je(s.type,a),_c(e,t,s,a,n);case 15:return Ju(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Je(s,a),_s(e,t),t.tag=1,Le(s)?(e=!0,qs(t)):e=!1,In(t,n),Qu(t,s,a),Zl(t,s,a,n),ni(null,t,s,!0,e,n);case 19:return nh(e,t,n);case 22:return Xu(e,t,n)}throw Error(I(156,t.tag))};function yh(e,t){return Wd(e,t)}function xm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,s){return new xm(e,t,n,s)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gm(e){if(typeof e=="function")return po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ai)return 11;if(e===Oi)return 14}return 2}function Bt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function As(e,t,n,s,a,l){var i=2;if(s=e,typeof e=="function")po(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vn:return on(n.children,a,l,t);case Li:i=8,a|=8;break;case kl:return e=Ve(12,n,t,a|2),e.elementType=kl,e.lanes=l,e;case bl:return e=Ve(13,n,t,a),e.elementType=bl,e.lanes=l,e;case Sl:return e=Ve(19,n,t,a),e.elementType=Sl,e.lanes=l,e;case Td:return wa(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:i=10;break e;case Ed:i=9;break e;case Ai:i=11;break e;case Oi:i=14;break e;case Tt:i=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ve(i,n,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function on(e,t,n,s){return e=Ve(7,e,s,t),e.lanes=n,e}function wa(e,t,n,s){return e=Ve(22,e,s,t),e.elementType=Td,e.lanes=n,e.stateNode={isHidden:!1},e}function cl(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function dl(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ym(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mo(e,t,n,s,a,l,i,c,o){return e=new ym(e,t,n,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ve(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ji(l),e}function vm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function vh(e){if(!e)return Ht;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Le(n))return vu(e,n,t)}return t}function wh(e,t,n,s,a,l,i,c,o){return e=mo(n,s,!0,e,a,l,i,c,o),e.context=vh(null),n=e.current,s=Se(),a=$t(n),l=yt(s,a),l.callback=t??null,Ft(n,l,a),e.current.lanes=a,qr(e,a,s),Ae(e,s),e}function ja(e,t,n,s){var a=t.current,l=Se(),i=$t(a);return n=vh(n),t.context===null?t.context=n:t.pendingContext=n,t=yt(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ft(a,t,i),e!==null&&(rt(e,a,i,l),Cs(e,a,i)),i}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xo(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}function wm(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function go(e){this._internalRoot=e}Na.prototype.render=go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ja(e,t,null,null)};Na.prototype.unmount=go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fn(function(){ja(null,e,null,null)}),t[jt]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&t!==0&&t<Pt[n].priority;n++);Pt.splice(n,0,e),n===0&&eu(e)}};function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function jm(e,t,n,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var d=aa(i);l.call(d)}}var i=wh(t,s,e,0,null,!1,!1,"",Uc);return e._reactRootContainer=i,e[jt]=i.current,Ir(e.nodeType===8?e.parentNode:e),fn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var d=aa(o);c.call(d)}}var o=mo(e,0,!1,null,null,!1,!1,"",Uc);return e._reactRootContainer=o,e[jt]=o.current,Ir(e.nodeType===8?e.parentNode:e),fn(function(){ja(t,o,n,s)}),o}function ba(e,t,n,s,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var o=aa(i);c.call(o)}}ja(t,i,e,a)}else i=jm(n,t,e,a,s);return aa(i)}Kd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fr(t.pendingLanes);n!==0&&(Mi(t,n|1),Ae(t,ce()),!(K&6)&&(Un=ce()+500,Kt()))}break;case 13:fn(function(){var s=Nt(e,1);if(s!==null){var a=Se();rt(s,e,1,a)}}),xo(e,1)}};Di=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=Se();rt(t,e,134217728,n)}xo(e,134217728)}};Jd=function(e){if(e.tag===13){var t=$t(e),n=Nt(e,t);if(n!==null){var s=Se();rt(n,e,t,s)}xo(e,t)}};Xd=function(){return Z};Zd=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};Rl=function(e,t,n){switch(t){case"input":if(Tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=pa(s);if(!a)throw Error(I(90));Pd(s),Tl(s,a)}}}break;case"textarea":Ad(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};zd=uo;$d=fn;var Nm={usingClientEntryPoint:!1,Events:[Qr,kn,pa,Dd,Fd,uo]},sr={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vd(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{da=fs.inject(km),ct=fs}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nm;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yo(t))throw Error(I(200));return vm(e,t,null,n)};De.createRoot=function(e,t){if(!yo(e))throw Error(I(299));var n=!1,s="",a=jh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mo(e,1,!1,null,null,n,!1,s,a),e[jt]=t.current,Ir(e.nodeType===8?e.parentNode:e),new go(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Vd(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return fn(e)};De.hydrate=function(e,t,n){if(!ka(t))throw Error(I(200));return ba(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!yo(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,a=!1,l="",i=jh;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=wh(t,null,e,1,n??null,a,!1,l,i),e[jt]=t.current,Ir(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Na(t)};De.render=function(e,t,n){if(!ka(t))throw Error(I(200));return ba(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!ka(e))throw Error(I(40));return e._reactRootContainer?(fn(function(){ba(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};De.unstable_batchedUpdates=uo;De.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ka(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return ba(e,t,n,!1,s)};De.version="18.3.1-next-f1338f8080-20240426";function Nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nh)}catch(e){console.error(e)}}Nh(),Nd.exports=De;var bm=Nd.exports,Vc=bm;jl.createRoot=Vc.createRoot,jl.hydrateRoot=Vc.hydrateRoot;const ft=Object.create(null);ft.open="0";ft.close="1";ft.ping="2";ft.pong="3";ft.message="4";ft.upgrade="5";ft.noop="6";const Os=Object.create(null);Object.keys(ft).forEach(e=>{Os[ft[e]]=e});const pi={type:"error",data:"parser error"},kh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bh=typeof ArrayBuffer=="function",Sh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,vo=({type:e,data:t},n,s)=>kh&&t instanceof Blob?n?s(t):Hc(t,s):bh&&(t instanceof ArrayBuffer||Sh(t))?n?s(t):Hc(new Blob([t]),s):s(ft[e]+(t||"")),Hc=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Wc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ul;function Sm(e,t){if(kh&&e.data instanceof Blob)return e.data.arrayBuffer().then(Wc).then(t);if(bh&&(e.data instanceof ArrayBuffer||Sh(e.data)))return t(Wc(e.data));vo(e,!1,n=>{ul||(ul=new TextEncoder),t(ul.encode(n))})}const qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<qc.length;e++)mr[qc.charCodeAt(e)]=e;const Cm=e=>{let t=e.length*.75,n=e.length,s,a=0,l,i,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),m=new Uint8Array(d);for(s=0;s<n;s+=4)l=mr[e.charCodeAt(s)],i=mr[e.charCodeAt(s+1)],c=mr[e.charCodeAt(s+2)],o=mr[e.charCodeAt(s+3)],m[a++]=l<<2|i>>4,m[a++]=(i&15)<<4|c>>2,m[a++]=(c&3)<<6|o&63;return d},Em=typeof ArrayBuffer=="function",wo=(e,t)=>{if(typeof e!="string")return{type:"message",data:Ch(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Tm(e.substring(1),t)}:Os[n]?e.length>1?{type:Os[n],data:e.substring(1)}:{type:Os[n]}:pi},Tm=(e,t)=>{if(Em){const n=Cm(e);return Ch(n,t)}else return{base64:!0,data:e}},Ch=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Eh="",_m=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((l,i)=>{vo(l,!1,c=>{s[i]=c,++a===n&&t(s.join(Eh))})})},Pm=(e,t)=>{const n=e.split(Eh),s=[];for(let a=0;a<n.length;a++){const l=wo(n[a],t);if(s.push(l),l.type==="error")break}return s};function Lm(){return new TransformStream({transform(e,t){Sm(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let hl;function ps(e){return e.reduce((t,n)=>t+n.length,0)}function ms(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Am(e,t){hl||(hl=new TextDecoder);const n=[];let s=0,a=-1,l=!1;return new TransformStream({transform(i,c){for(n.push(i);;){if(s===0){if(ps(n)<1)break;const o=ms(n,1);l=(o[0]&128)===128,a=o[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(ps(n)<2)break;const o=ms(n,2);a=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),s=3}else if(s===2){if(ps(n)<8)break;const o=ms(n,8),d=new DataView(o.buffer,o.byteOffset,o.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(pi);break}a=m*Math.pow(2,32)+d.getUint32(4),s=3}else{if(ps(n)<a)break;const o=ms(n,a);c.enqueue(wo(l?o:hl.decode(o),t)),s=0}if(a===0||a>e){c.enqueue(pi);break}}}})}const Th=4;function ue(e){if(e)return Om(e)}function Om(e){for(var t in ue.prototype)e[t]=ue.prototype[t];return e}ue.prototype.on=ue.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ue.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ue.prototype.off=ue.prototype.removeListener=ue.prototype.removeAllListeners=ue.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ue.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};ue.prototype.emitReserved=ue.prototype.emit;ue.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ue.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Sa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ue=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Im="arraybuffer";function _h(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Rm=Ue.setTimeout,Mm=Ue.clearTimeout;function Ca(e,t){t.useNativeTimers?(e.setTimeoutFn=Rm.bind(Ue),e.clearTimeoutFn=Mm.bind(Ue)):(e.setTimeoutFn=Ue.setTimeout.bind(Ue),e.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const Dm=1.33;function Fm(e){return typeof e=="string"?zm(e):Math.ceil((e.byteLength||e.size)*Dm)}function zm(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Ph(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function $m(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Bm(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let l=n[s].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Um extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class jo extends ue{constructor(t){super(),this.writable=!1,Ca(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new Um(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=wo(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=$m(t);return n.length?"?"+n:""}}class Vm extends jo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Pm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_m(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ph()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Lh=!1;try{Lh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Hm=Lh;function Wm(){}class qm extends Vm{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class ut extends ue{constructor(t,n,s){super(),this.createRequest=t,Ca(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=_h(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ut.requestsCount++,ut.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Wm,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ut.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ut.requestsCount=0;ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gc);else if(typeof addEventListener=="function"){const e="onpagehide"in Ue?"pagehide":"unload";addEventListener(e,Gc,!1)}}function Gc(){for(let e in ut.requests)ut.requests.hasOwnProperty(e)&&ut.requests[e].abort()}const Gm=function(){const e=Ah({xdomain:!1});return e&&e.responseType!==null}();class Qm extends qm{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Gm&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ut(Ah,this.uri(),t)}}function Ah(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Hm))return new XMLHttpRequest}catch{}if(!t)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Oh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ym extends jo{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=Oh?{}:_h(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;vo(s,this.supportsBinary,l=>{try{this.doWrite(s,l)}catch{}a&&Sa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ph()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const fl=Ue.WebSocket||Ue.MozWebSocket;class Km extends Ym{createSocket(t,n,s){return Oh?new fl(t,n,s):n?new fl(t,n):new fl(t)}doWrite(t,n){this.ws.send(n)}}class Jm extends jo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Am(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=Lm();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const l=()=>{s.read().then(({done:c,value:o})=>{c||(this.onPacket(o),l())}).catch(c=>{})};l();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this._writer.write(s).then(()=>{a&&Sa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Xm={websocket:Km,webtransport:Jm,polling:Qm},Zm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mi(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=Zm.exec(e||""),l={},i=14;for(;i--;)l[e0[i]]=a[i]||"";return n!=-1&&s!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=t0(l,l.path),l.queryKey=n0(l,l.query),l}function t0(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function n0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,l){a&&(n[a]=l)}),n}const xi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Is=[];xi&&addEventListener("offline",()=>{Is.forEach(e=>e())},!1);class Ut extends ue{constructor(t,n){if(super(),this.binaryType=Im,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=mi(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=mi(n.host).host);Ca(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Bm(this.opts.query)),xi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Is.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Th,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ut.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ut.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=Fm(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Sa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:t,data:n,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Ut.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Is.indexOf(this._offlineEventListener);s!==-1&&Is.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ut.protocol=Th;class r0 extends Ut{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;Ut.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!s)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ut.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const u=new Error("probe error");u.transport=n.name,this.emitReserved("upgradeError",u)}}))};function l(){s||(s=!0,m(),n.close(),n=null)}const i=p=>{const u=new Error("probe error: "+p);u.transport=n.name,l(),this.emitReserved("upgradeError",u)};function c(){i("transport closed")}function o(){i("socket closed")}function d(p){n&&p.name!==n.name&&l()}const m=()=>{n.removeListener("open",a),n.removeListener("error",i),n.removeListener("close",c),this.off("close",o),this.off("upgrading",d)};n.once("open",a),n.once("error",i),n.once("close",c),this.once("close",o),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let s0=class extends r0{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>Xm[a]).filter(a=>!!a)),super(t,s)}};function a0(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=mi(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+t,s.href=s.protocol+"://"+l+(n&&n.port===s.port?"":":"+s.port),s}const l0=typeof ArrayBuffer=="function",i0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ih=Object.prototype.toString,o0=typeof Blob=="function"||typeof Blob<"u"&&Ih.call(Blob)==="[object BlobConstructor]",c0=typeof File=="function"||typeof File<"u"&&Ih.call(File)==="[object FileConstructor]";function No(e){return l0&&(e instanceof ArrayBuffer||i0(e))||o0&&e instanceof Blob||c0&&e instanceof File}function Rs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Rs(e[n]))return!0;return!1}if(No(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Rs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Rs(e[n]))return!0;return!1}function d0(e){const t=[],n=e.data,s=e;return s.data=gi(n,t),s.attachments=t.length,{packet:s,buffers:t}}function gi(e,t){if(!e)return e;if(No(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=gi(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=gi(e[s],t));return n}return e}function u0(e,t){return e.data=yi(e.data,t),delete e.attachments,e}function yi(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=yi(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=yi(e[n],t));return e}const h0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class f0{constructor(t){this.replacer=t}encode(t){return(t.type===Q.EVENT||t.type===Q.ACK)&&Rs(t)?this.encodeAsBinary({type:t.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Q.BINARY_EVENT||t.type===Q.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=d0(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}class ko extends ue{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Q.BINARY_EVENT;s||n.type===Q.BINARY_ACK?(n.type=s?Q.EVENT:Q.ACK,this.reconstructor=new p0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(No(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Q[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Q.BINARY_EVENT||s.type===Q.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(l,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(l,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const l=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(ko.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Q.CONNECT:return Qc(n);case Q.DISCONNECT:return n===void 0;case Q.CONNECT_ERROR:return typeof n=="string"||Qc(n);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&h0.indexOf(n[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class p0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=u0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Qc(e){return Object.prototype.toString.call(e)==="[object Object]"}const m0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ko,Encoder:f0,get PacketType(){return Q}},Symbol.toStringTag,{value:"Module"}));function Ze(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const x0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Rh extends ue{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ze(t,"open",this.onopen.bind(this)),Ze(t,"packet",this.onpacket.bind(this)),Ze(t,"error",this.onerror.bind(this)),Ze(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,a,l;if(x0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Q.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,p=n.pop();this._registerAckCallback(m,p),i.id=m}const c=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,o=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},a),i=(...c)=>{this.io.clearTimeoutFn(l),n.apply(this,c)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,a)=>{const l=(i,c)=>i?a(i):s(c);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...l)=>(this._queue[0],a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(t);break;case Q.ACK:case Q.BINARY_ACK:this.onack(t);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Q.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Kn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Kn.prototype.reset=function(){this.attempts=0};Kn.prototype.setMin=function(e){this.ms=e};Kn.prototype.setMax=function(e){this.max=e};Kn.prototype.setJitter=function(e){this.jitter=e};class vi extends ue{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ca(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||m0;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new s0(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Ze(n,"open",function(){s.onopen(),t&&t()}),l=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},i=Ze(n,"error",l);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(a),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ze(t,"ping",this.onping.bind(this)),Ze(t,"data",this.ondata.bind(this)),Ze(t,"error",this.onerror.bind(this)),Ze(t,"close",this.onclose.bind(this)),Ze(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Sa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Rh(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ar={};function Sr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=a0(e,t.path||"/socket.io"),s=n.source,a=n.id,l=n.path,i=ar[a]&&l in ar[a].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let o;return c?o=new vi(s,t):(ar[a]||(ar[a]=new vi(s,t)),o=ar[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Sr,{Manager:vi,Socket:Rh,io:Sr,connect:Sr});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(e,t)=>{const n=x.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...d},m)=>x.createElement("svg",{ref:m,...g0,width:a,height:a,stroke:s,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${y0(e)}`,c].join(" "),...d},[...t.map(([p,u])=>x.createElement(p,u)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=R("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=R("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=R("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=R("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=R("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=R("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=R("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=R("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=R("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=R("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=R("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=R("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=R("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=R("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=R("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=R("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=R("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=R("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=R("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=R("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=R("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=R("Grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=R("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=R("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=R("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=R("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=R("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=R("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=R("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=R("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=R("MonitorOff",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=R("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=R("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=R("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=R("ParkingCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=R("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=R("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=R("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=R("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=R("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=R("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=R("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=R("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=R("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=R("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=R("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=R("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=R("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=R("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=R("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=R("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=R("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=R("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=R("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=R("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=R("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=R("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=R("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=R("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function La({config:e}){const[t,n]=x.useState(new Date);x.useEffect(()=>{const l=setInterval(()=>n(new Date),1e3);return()=>clearInterval(l)},[]);const s=()=>{const l={hour:"2-digit",minute:"2-digit",...e.showSeconds&&{second:"2-digit"},hour12:e.format==="12h",...e.timezone&&{timeZone:e.timezone}};return t.toLocaleTimeString("en-GB",l)},a=()=>t.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric",...e.timezone&&{timeZone:e.timezone}});return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[r.jsx("div",{className:"text-[12vw] font-light tracking-tight text-white leading-none",children:s()}),e.showDate!==!1&&r.jsx("div",{className:"text-[2.5vw] text-gray-400 mt-4",children:a()})]})}function Aa({config:e}){const[t,n]=x.useState(!1),[s,a]=x.useState(""),l=x.useRef(null),i=e.go2rtcHost||`${window.location.hostname}:1984`,c=e.mode||"jpeg",o=e.refreshInterval||2e3;x.useEffect(()=>{if(c==="jpeg"){const p=()=>{const v=`http://${i}/api/frame.jpeg?src=${encodeURIComponent(e.src)}&t=${Date.now()}`;a(v)};p();const u=setInterval(p,o);return()=>clearInterval(u)}},[e.src,i,c,o]);const d=()=>{n(!0)},m=()=>{n(!1)};if(c==="mse"||c==="webrtc"){const p=`http://${i}/stream.html?src=${encodeURIComponent(e.src)}&mode=${c}`;return r.jsxs("div",{className:"relative w-full h-full bg-black",children:[r.jsx("iframe",{src:p,className:"w-full h-full border-0",allow:"autoplay"}),e.showLabel&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsx("span",{className:"text-white text-lg font-medium",children:e.src})})]})}return r.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[t?r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(bo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("div",{children:"Camera unavailable"}),r.jsx("div",{className:"text-sm mt-1",children:e.src})]}):r.jsx("img",{ref:l,src:s,alt:e.src,className:"max-w-full max-h-full object-contain",onError:d,onLoad:m}),e.showLabel&&!t&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Uh,{className:"w-4 h-4 text-red-500 animate-pulse"}),r.jsx("span",{className:"text-white font-medium",children:e.src})]})})]})}function Oa({config:e}){const[t,n]=x.useState(null),[s,a]=x.useState(0),[l,i]=x.useState(new Set),c=e.go2rtcHost||`${window.location.hostname}:1984`,o=e.columns||2,d=e.refreshInterval||3e3,m=e.rotateInterval||1e4;x.useEffect(()=>{if(e.autoRotate&&t===null){const v=setInterval(()=>{a(b=>(b+1)%e.cameras.length)},m);return()=>clearInterval(v)}},[e.autoRotate,e.cameras.length,t,m]);const p=v=>{i(b=>new Set(b).add(v))},u=v=>`http://${c}/api/frame.jpeg?src=${encodeURIComponent(v)}&t=${Math.floor(Date.now()/d)}`;if(t)return r.jsxs("div",{className:"relative w-full h-full bg-black cursor-pointer",onClick:()=>n(null),children:[r.jsx(ml,{src:u(t),camera:t,onError:()=>p(t),hasError:l.has(t),showLabel:!0}),r.jsx("div",{className:"absolute top-4 right-4 text-white/50 text-sm",children:"Click to exit full screen"})]});if(e.autoRotate){const v=e.cameras[s];return r.jsxs("div",{className:"relative w-full h-full bg-black",children:[r.jsx(ml,{src:u(v),camera:v,onError:()=>p(v),hasError:l.has(v),showLabel:!0}),r.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:e.cameras.map((b,E)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition ${E===s?"bg-accent":"bg-white/30"}`},b))}),r.jsx("div",{className:"absolute bottom-4 right-4",children:r.jsx("button",{onClick:b=>{b.stopPropagation(),n(v)},className:"p-2 bg-black/50 rounded-lg hover:bg-black/70 transition",children:r.jsx(F0,{className:"w-5 h-5 text-white"})})})]})}return r.jsx("div",{className:"w-full h-full grid gap-1 bg-black p-1",style:{gridTemplateColumns:`repeat(${o}, 1fr)`},children:e.cameras.map(v=>r.jsx("div",{className:"relative bg-dark-900 cursor-pointer hover:ring-2 ring-accent transition",onClick:()=>n(v),children:r.jsx(ml,{src:u(v),camera:v,onError:()=>p(v),hasError:l.has(v),showLabel:!0})},v))})}function ml({src:e,camera:t,onError:n,hasError:s,showLabel:a}){const[l,i]=x.useState(0);return x.useEffect(()=>{const c=setInterval(()=>i(o=>o+1),3e3);return()=>clearInterval(c)},[]),s?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bo,{className:"w-8 h-8 mx-auto mb-1 opacity-50"}),r.jsx("div",{className:"text-xs",children:t})]})}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:e,alt:t,className:"absolute inset-0 w-full h-full object-cover",onError:n},l),a&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Uh,{className:"w-3 h-3 text-red-500 animate-pulse"}),r.jsx("span",{className:"text-white text-xs font-medium truncate",children:t})]})})]})}const nd={0:{icon:td,description:"Clear sky"},1:{icon:td,description:"Mainly clear"},2:{icon:an,description:"Partly cloudy"},3:{icon:an,description:"Overcast"},45:{icon:an,description:"Foggy"},48:{icon:an,description:"Depositing rime fog"},51:{icon:lt,description:"Light drizzle"},53:{icon:lt,description:"Moderate drizzle"},55:{icon:lt,description:"Dense drizzle"},61:{icon:lt,description:"Slight rain"},63:{icon:lt,description:"Moderate rain"},65:{icon:lt,description:"Heavy rain"},71:{icon:pl,description:"Slight snow"},73:{icon:pl,description:"Moderate snow"},75:{icon:pl,description:"Heavy snow"},80:{icon:lt,description:"Rain showers"},81:{icon:lt,description:"Moderate showers"},82:{icon:lt,description:"Violent showers"},95:{icon:lt,description:"Thunderstorm"}};function Ia({config:e}){var p;const[t,n]=x.useState(null),[s,a]=x.useState(!0),[l,i]=x.useState(null),c=e.latitude||55.4583,o=e.longitude||-4.6292,d=e.location||"Ayr, Scotland";if(x.useEffect(()=>{const u=async()=>{var b;try{const E=`https://api.open-meteo.com/v1/forecast?latitude=${c}&longitude=${o}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m`,y=await(await fetch(E)).json();y.current&&n({temperature:Math.round(y.current.temperature_2m),feelsLike:Math.round(y.current.apparent_temperature),humidity:y.current.relative_humidity_2m,windSpeed:Math.round(y.current.wind_speed_10m),weatherCode:y.current.weather_code,description:((b=nd[y.current.weather_code])==null?void 0:b.description)||"Unknown"}),a(!1)}catch{i("Failed to fetch weather"),a(!1)}};u();const v=setInterval(u,3e5);return()=>clearInterval(v)},[c,o]),s)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading weather..."})});if(l||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:l||"No weather data"})});const m=((p=nd[t.weatherCode])==null?void 0:p.icon)||an;return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[r.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[r.jsx(m,{className:"w-24 h-24 text-accent"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-[8vw] font-light leading-none text-white",children:[t.temperature,""]}),r.jsx("div",{className:"text-xl text-gray-400",children:t.description})]})]}),r.jsx("div",{className:"text-2xl text-gray-500 mb-8",children:d}),r.jsxs("div",{className:"flex gap-8 text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Q0,{className:"w-5 h-5"}),r.jsxs("span",{children:["Feels ",t.feelsLike,""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(T0,{className:"w-5 h-5"}),r.jsxs("span",{children:[t.humidity,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(K0,{className:"w-5 h-5"}),r.jsxs("span",{children:[t.windSpeed," km/h"]})]})]})]})}function Ra({config:e}){const[t,n]=x.useState(e.stats||[]),[s,a]=x.useState({}),l=e.columns||3,i=e.refreshInterval||3e4;x.useEffect(()=>{if(!e.apiUrl)return;const d=async()=>{try{const u=await(await fetch(e.apiUrl)).json();Array.isArray(u)?n(u):u.stats&&n(u.stats)}catch(p){console.error("Failed to fetch stats:",p)}};d();const m=setInterval(d,i);return()=>clearInterval(m)},[e.apiUrl,i]),x.useEffect(()=>{t.forEach((d,m)=>{if(typeof d.value=="number"){const p=`${m}-${d.label}`,u=s[p]||0,v=d.value;if(u!==v){const E=(v-u)/30;let M=0;const y=()=>{M++,M<=30?(a(h=>({...h,[p]:Math.round(u+E*M)})),requestAnimationFrame(y)):a(h=>({...h,[p]:v}))};requestAnimationFrame(y)}}})},[t]);const c=(d,m)=>{if(typeof d.value=="number"){const p=`${m}-${d.label}`;return s[p]??d.value}return d.value},o=d=>d?d>0?r.jsx(Pa,{className:"w-5 h-5 text-green-500"}):r.jsx($h,{className:"w-5 h-5 text-red-500"}):r.jsx(z0,{className:"w-5 h-5 text-gray-500"});return r.jsxs("div",{className:"flex flex-col h-full p-8",children:[e.title&&r.jsx("h2",{className:"text-2xl font-semibold text-white mb-8",children:e.title}),r.jsx("div",{className:"grid gap-6 flex-1",style:{gridTemplateColumns:`repeat(${l}, 1fr)`},children:t.map((d,m)=>r.jsxs("div",{className:"bg-dark-700/50 rounded-2xl p-6 flex flex-col",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:d.label}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-4xl font-semibold",style:{color:d.color||"#00d4ff"},children:c(d,m)}),d.unit&&r.jsx("span",{className:"text-xl text-gray-500",children:d.unit})]}),d.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[o(d.change),r.jsxs("span",{className:d.change>0?"text-green-500":d.change<0?"text-red-500":"text-gray-500",children:[d.change>0?"+":"",d.change,"%"]})]})]},`${m}-${d.label}`))})]})}function Ma({config:e}){const[t,n]=x.useState(null),[s,a]=x.useState(!0),l=e.capacity||100,i=e.warningThreshold||80,c=e.criticalThreshold||95,o=e.refreshInterval||1e4;if(x.useEffect(()=>{const E=async()=>{if(e.apiUrl)try{const h=await(await fetch(e.apiUrl)).json();n({current:h.current||h.occupied||0,capacity:h.capacity||l,available:h.available||h.capacity-h.current||0,percentage:h.percentage||Math.round(h.current/h.capacity*100)||0})}catch(y){console.error("Failed to fetch occupancy:",y)}else{const y=Math.floor(Math.random()*l*.9);n({current:y,capacity:l,available:l-y,percentage:Math.round(y/l*100)})}a(!1)};E();const M=setInterval(E,o);return()=>clearInterval(M)},[e.apiUrl,l,o]),s||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading occupancy..."})});const m=t.percentage>=c?{color:"#ef4444",label:"FULL",icon:ht}:t.percentage>=i?{color:"#f59e0b",label:"FILLING",icon:ht}:{color:"#10b981",label:"AVAILABLE",icon:la},p=m.icon,u=120,v=2*Math.PI*u,b=v-t.percentage/100*v;return r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.siteName&&r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(Po,{className:"w-8 h-8 text-accent"}),r.jsx("h2",{className:"text-3xl font-semibold text-white",children:e.siteName})]}),r.jsxs("div",{className:"relative mb-8",children:[r.jsxs("svg",{width:"280",height:"280",className:"transform -rotate-90",children:[r.jsx("circle",{cx:"140",cy:"140",r:u,fill:"none",stroke:"#1f2937",strokeWidth:"20"}),r.jsx("circle",{cx:"140",cy:"140",r:u,fill:"none",stroke:m.color,strokeWidth:"20",strokeLinecap:"round",strokeDasharray:v,strokeDashoffset:b,className:"transition-all duration-1000 ease-out"})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r.jsx("div",{className:"text-6xl font-bold text-white",children:t.available}),r.jsx("div",{className:"text-xl text-gray-400",children:"spaces"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 rounded-full text-lg font-semibold mb-8",style:{backgroundColor:`${m.color}20`,color:m.color},children:[r.jsx(p,{className:"w-6 h-6"}),m.label]}),r.jsxs("div",{className:"flex gap-12 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-semibold text-white",children:[r.jsx(Eo,{className:"w-8 h-8"}),t.current]}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Occupied"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-semibold text-white",children:t.capacity}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Capacity"})]}),e.showPercentage!==!1&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-semibold",style:{color:m.color},children:[t.percentage,"%"]}),r.jsx("div",{className:"text-gray-500 mt-1",children:"Full"})]})]})]})}function Da({config:e}){const t=e.refreshInterval?Math.floor(Date.now()/e.refreshInterval):0;return r.jsx("iframe",{src:e.url,title:e.title||"Embedded Content",className:"w-full h-full border-0",allow:"autoplay; fullscreen"},t)}function X0({data:e,label:t="Hourly Activity",color:n="#06b6d4",height:s=60}){const a=new Date().getHours(),l=x.useMemo(()=>{const o=new Map(e.map(u=>[u.hour,u.count])),d=[];for(let u=0;u<24;u++)d.push({hour:u,count:o.get(u)||0});const m=(a-11+24)%24,p=[];for(let u=0;u<12;u++){const v=(m+u)%24;p.push(d[v])}return p},[e,a]),i=Math.max(...l.map(o=>o.count),1),c=l.reduce((o,d)=>o+d.count,0);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx(Pa,{className:"w-3 h-3"}),r.jsx("span",{children:t})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[c," movements (12h)"]})]}),r.jsx("div",{className:"flex items-end gap-[2px] rounded-lg bg-dark-700/50 p-2",style:{height:s},children:l.map((o,d)=>{const m=i>0?o.count/i*100:0,p=o.hour===a;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[r.jsx("div",{className:"w-full rounded-t transition-all duration-300 hover:opacity-80",style:{height:`${Math.max(m,2)}%`,backgroundColor:p?"#22d3ee":n,opacity:p?1:.7,boxShadow:p?"0 0 8px #22d3ee60":"none"}}),r.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:r.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap",children:[String(o.hour).padStart(2,"0"),":00 - ",o.count," movements"]})}),d%3===0&&r.jsx("div",{className:"text-[9px] text-gray-500 mt-1",children:String(o.hour).padStart(2,"0")})]},o.hour)})})]})}function Z0({sites:e,height:t=80}){const n=new Date().getHours(),s=x.useMemo(()=>{const o=new Map;e.forEach(u=>{u.stats.hourlyActivity.forEach(({hour:v,count:b})=>{o.set(v,(o.get(v)||0)+b)})});const d=[];for(let u=0;u<24;u++)d.push({hour:u,count:o.get(u)||0});const m=(n-11+24)%24,p=[];for(let u=0;u<12;u++){const v=(m+u)%24;p.push(d[v])}return p},[e,n]),a=Math.max(...s.map(o=>o.count),1),l=s.reduce((o,d)=>o+d.count,0),i=Math.round(l/12),c=s.reduce((o,d)=>d.count>o.count?d:o,s[0]);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[r.jsx(Pa,{className:"w-4 h-4 text-cyan-400"}),r.jsx("span",{className:"font-medium",children:"Activity Trends (12h)"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[l," total"]}),r.jsxs("span",{children:["~",i,"/hr avg"]})]})]}),r.jsx("div",{className:"flex items-end gap-1 rounded-xl bg-dark-700/30 p-3",style:{height:t},children:s.map((o,d)=>{const m=a>0?o.count/a*100:0,p=o.hour===n,u=o.hour===c.hour&&o.count>0,v=a>0?o.count/a:0,b=p?"#22d3ee":u?"#fbbf24":`rgba(6, 182, 212, ${.4+v*.6})`;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group relative",children:[r.jsx("div",{className:"w-full rounded-t-sm transition-all duration-300",style:{height:`${Math.max(m,3)}%`,backgroundColor:b,boxShadow:p?"0 0 10px #22d3ee60":u?"0 0 8px #fbbf2440":"none"}}),r.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:r.jsxs("div",{className:"bg-dark-600 text-white text-xs px-2 py-1.5 rounded-lg shadow-lg whitespace-nowrap border border-dark-500",children:[r.jsxs("div",{className:"font-medium",children:[String(o.hour).padStart(2,"0"),":00"]}),r.jsxs("div",{className:"text-gray-400",children:[o.count," movements"]}),u&&r.jsx("div",{className:"text-amber-400",children:" Peak hour"})]})}),d%2===0&&r.jsx("div",{className:`text-[10px] mt-1 ${p?"text-cyan-400 font-medium":"text-gray-500"}`,children:String(o.hour).padStart(2,"0")})]},o.hour)})}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-[10px] text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-sm bg-cyan-400"}),r.jsx("span",{children:"Current"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-sm bg-amber-400"}),r.jsx("span",{children:"Peak"})]})]})]})}const ex=(e,t=.5,n)=>e==="custom"&&n?()=>{const s=new Audio(n);s.volume=t,s.play().catch(a=>console.warn("Failed to play custom alert:",a))}:()=>{try{const s=new(window.AudioContext||window.webkitAudioContext),a=s.createGain();a.connect(s.destination),a.gain.value=t;const l=(i,c,o,d="sine")=>{const m=s.createOscillator();m.type=d,m.frequency.value=i,m.connect(a),m.start(s.currentTime+c),m.stop(s.currentTime+c+o)};switch(e){case"chime":l(880,0,.15),l(1108.73,.15,.2);break;case"alert":l(523.25,0,.1),l(659.25,.1,.1),l(783.99,.2,.15);break;case"urgent":l(880,0,.1,"square"),l(880,.15,.1,"square"),l(1046.5,.3,.15,"square");break;case"bell":l(1396.91,0,.3),l(698.46,.05,.25);break;case"none":default:break}setTimeout(()=>s.close(),1e3)}catch(s){console.warn("Web Audio API not supported or failed:",s)}};function Oo({config:e}){var B,J,P,W,X,pe,q;const[t,n]=x.useState(null),[s,a]=x.useState([]),[l,i]=x.useState([]),[c,o]=x.useState(!0),[d,m]=x.useState(null),[p,u]=x.useState(null),[v,b]=x.useState(!1),E=x.useRef(0),M=x.useRef(0),y=x.useRef(!0),h=e.posApiUrl||"http://localhost:3000",f=e.siteIds||["kyle-rise","KCS01"],w=e.refreshInterval||3e4,_=e.eventLimit||8,L=e.showEnforcement!==!1,j=e.showHealth!==!1,g={enabled:((B=e.alertSound)==null?void 0:B.enabled)!==!1,threshold:((J=e.alertSound)==null?void 0:J.threshold)??3,soundType:((P=e.alertSound)==null?void 0:P.soundType)||"chime",customSoundUrl:((W=e.alertSound)==null?void 0:W.customSoundUrl)||"",volume:((X=e.alertSound)==null?void 0:X.volume)??.5,repeatInterval:((pe=e.alertSound)==null?void 0:pe.repeatInterval)??6e4,playOnIncrease:((q=e.alertSound)==null?void 0:q.playOnIncrease)!==!1},T=x.useCallback(()=>{if(v||!g.enabled||g.soundType==="none")return;const O=Date.now();if(O-M.current<g.repeatInterval)return;M.current=O,ex(g.soundType,g.volume,g.customSoundUrl)()},[v,g]),N=x.useCallback(O=>{if(y.current){y.current=!1,E.current=O;return}const Y=E.current,St=O>=g.threshold,Qe=O>Y;E.current=O,St&&(g.playOnIncrease?Qe&&T():T())},[g,T]),F=x.useCallback(async()=>{try{const[O,Y,St]=await Promise.all([fetch(`${h}/api/operations/dashboard`),fetch(`${h}/api/operations/events?limit=${_}`),L?fetch(`${h}/enforcement/queue?limit=5`):Promise.resolve({ok:!0,json:()=>Promise.resolve({items:[],total:0})})]);if(O.ok){const Qe=await O.json();Qe.sites=Qe.sites.filter(Ye=>f.includes(Ye.siteId)),n(Qe)}if(Y.ok){const Ye=(await Y.json()).events.filter(Jt=>f.includes(Jt.siteId));a(Ye.slice(0,_))}if(L&&St.ok){const Qe=await St.json(),Ye=Qe.items||[];i(Ye);const Jt=Qe.total??Ye.length;N(Jt)}m(new Date),u(null)}catch(O){console.error("Failed to fetch dashboard data:",O),u("Unable to connect to POS API")}finally{o(!1)}},[h,f,_,L,N]);x.useEffect(()=>{F();const O=setInterval(F,w);return()=>clearInterval(O)},[F,w]);const V=O=>new Date(O).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),H=O=>{const Y=new Date,St=new Date(O),Qe=Y.getTime()-St.getTime(),Ye=Math.floor(Qe/6e4);if(Ye<1)return"Just now";if(Ye<60)return`${Ye}m ago`;const Jt=Math.floor(Ye/60);return Jt<24?`${Jt}h ago`:`${Math.floor(Jt/24)}d ago`},S=O=>{switch(O){case"healthy":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444"}},k=O=>{switch(O){case"healthy":return r.jsx(la,{className:"w-5 h-5"});case"warning":return r.jsx(ht,{className:"w-5 h-5"});case"critical":return r.jsx(ht,{className:"w-5 h-5"})}};if(c)return r.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:r.jsxs("div",{className:"text-gray-500 flex items-center gap-3",children:[r.jsx(qt,{className:"w-6 h-6 animate-spin"}),r.jsx("span",{className:"text-xl",children:"Loading Operations Dashboard..."})]})});if(p)return r.jsx("div",{className:"flex items-center justify-center h-full bg-dark-900",children:r.jsxs("div",{className:"text-red-400 flex items-center gap-3",children:[r.jsx(ht,{className:"w-8 h-8"}),r.jsx("span",{className:"text-xl",children:p})]})});const D=(t==null?void 0:t.sites.reduce((O,Y)=>O+Y.stats.today.entries,0))||0,C=(t==null?void 0:t.sites.reduce((O,Y)=>O+Y.stats.today.exits,0))||0,A=D-C,z=(t==null?void 0:t.summary.systemStatus)||"healthy";return r.jsxs("div",{className:"h-full bg-dark-900 text-white p-6 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Vr,{className:"w-8 h-8 text-accent"}),r.jsx("h1",{className:"text-2xl font-bold",children:e.title||"Operations Dashboard"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[g.enabled&&g.soundType!=="none"&&r.jsxs("button",{onClick:()=>b(!v),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${v?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:v?"Click to unmute alerts":"Click to mute alerts",children:[v?r.jsx(Hh,{className:"w-4 h-4"}):r.jsx(Vh,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:v?"Muted":`Alert: ${g.threshold}+`})]}),j&&r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium",style:{backgroundColor:`${S(z)}20`,color:S(z)},children:[k(z),r.jsxs("span",{children:["System ",z.toUpperCase()]})]}),d&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[r.jsx(Wt,{className:"w-4 h-4"}),"Updated ",V(d.toISOString())]})]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4",children:[r.jsxs("div",{className:"col-span-4 space-y-4",children:[t==null?void 0:t.sites.map(O=>r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Po,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:O.siteName})]}),r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S(O.health.status)}})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-400",children:[r.jsx(Kc,{className:"w-4 h-4"}),r.jsx("span",{className:"text-3xl font-bold",children:O.stats.today.entries})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Entries"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-400",children:[r.jsx(Yc,{className:"w-4 h-4"}),r.jsx("span",{className:"text-3xl font-bold",children:O.stats.today.exits})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Exits"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-accent",children:O.stats.today.entries-O.stats.today.exits}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"On Site"})]})]}),O.stats.hourlyActivity&&O.stats.hourlyActivity.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-dark-700",children:r.jsx(X0,{data:O.stats.hourlyActivity,label:"Site Activity",color:"#06b6d4",height:50})}),O.cameras.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[r.jsx(Co,{className:"w-4 h-4"}),"Cameras"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.cameras.map(Y=>r.jsxs("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-dark-700",children:[r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Y.status==="online"?"#10b981":Y.status==="warning"?"#f59e0b":"#ef4444"}}),r.jsx("span",{className:"truncate max-w-[100px]",children:Y.name})]},Y.cameraId))})]})]},O.siteId)),r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Fh,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Summary"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-gray-500",children:"Current Occupancy"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-white",children:D+C}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Movements"})]})]}),t&&t.sites.length>0&&r.jsx("div",{className:"pt-4 border-t border-dark-700",children:r.jsx(Z0,{sites:t.sites,height:70})})]})]}),r.jsxs("div",{className:"col-span-5 bg-dark-800 rounded-2xl p-5 border border-dark-700 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Eo,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Recent ANPR Events"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," events"]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"space-y-2",children:s.length===0?r.jsx("div",{className:"text-center text-gray-500 py-8",children:"No recent events for selected sites"}):s.map(O=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`p-2 rounded-lg ${O.direction==="ENTRY"?"bg-green-500/20 text-green-400":O.direction==="EXIT"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:O.direction==="ENTRY"?r.jsx(Kc,{className:"w-5 h-5"}):r.jsx(Yc,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-bold text-lg",children:O.vrm==="unknown"?"---":O.vrm}),r.jsx("span",{className:"text-xs text-gray-500 truncate",children:O.siteName})]}),r.jsx("div",{className:"text-xs text-gray-500",children:O.cameraName})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-medium",children:V(O.timestamp)}),r.jsx("div",{className:"text-xs text-gray-500",children:H(O.timestamp)})]})]},O.id))})})]}),r.jsxs("div",{className:"col-span-3 space-y-4",children:[L&&r.jsxs("div",{className:`bg-dark-800 rounded-2xl p-5 border ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=g.threshold?"border-orange-500 shadow-lg shadow-orange-500/20":"border-dark-700"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_a,{className:`w-6 h-6 ${((t==null?void 0:t.summary.reviewQueueCount)||0)>=g.threshold?"text-orange-500 animate-pulse":"text-orange-400"}`}),r.jsx("h3",{className:"text-lg font-semibold",children:"Enforcement Queue"})]}),r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:((t==null?void 0:t.summary.reviewQueueCount)||0)>=g.threshold?"#ef444440":l.length>0?"#f59e0b20":"#10b98120",color:((t==null?void 0:t.summary.reviewQueueCount)||0)>=g.threshold?"#ef4444":l.length>0?"#f59e0b":"#10b981"},children:[(t==null?void 0:t.summary.reviewQueueCount)||0," pending"]})]}),r.jsx("div",{className:"space-y-2",children:l.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-6",children:[r.jsx(la,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),"Queue is clear"]}):l.slice(0,4).map(O=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-mono font-bold",children:O.vrm}),r.jsx("div",{className:"text-xs text-gray-500",children:O.siteId})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-orange-400",children:[O.durationMinutes,"min"]}),r.jsx("div",{className:"text-xs text-gray-500",children:H(O.timestamp)})]})]},O.id))})]}),j&&t&&r.jsxs("div",{className:"bg-dark-800 rounded-2xl p-5 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vr,{className:"w-6 h-6 text-accent"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Health"})]}),r.jsxs("div",{className:"space-y-3",children:[t.sites.map(O=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S(O.health.status)}}),r.jsx("span",{className:"text-sm",children:O.siteName})]}),r.jsx("div",{className:"text-xs text-gray-500",children:O.health.lastSync?H(O.health.lastSync):"No sync"})]},O.siteId)),r.jsx("div",{className:"pt-2 border-t border-dark-700",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Active Alarms"}),r.jsx("span",{className:"font-medium",style:{color:t.summary.totalActiveAlarms>0?"#f59e0b":"#10b981"},children:t.summary.totalActiveAlarms})]})})]})]})]})]})]})}const xs={blue:"",mentor:"",pepper:"",professor:"",wonda:"",archie:"",atlas:"",cipher:"",friday:"",jarvis:"",lexis:"",wong:"",loki:"",quill:"",scout:"",vision:""},rd={blue:"Monday.com Specialist",mentor:"HR & Talent Development",pepper:"Admin & Comms",professor:"Agent Trainer",wonda:"Designer",archie:"Technical Documentation",atlas:"BPA & Parking Expert",cipher:"Security & Compliance",friday:"Lead Developer",jarvis:"Project Lead",lexis:"Legal Research",wong:"Tech Writer",loki:"Content Writer",quill:"Social Media",scout:"Market Research",vision:"SEO Analyst"},xl={blue:"#3B82F6",mentor:"#F59E0B",pepper:"#8B5CF6",professor:"#10B981",wonda:"#EC4899",archie:"#6366F1",atlas:"#22C55E",cipher:"#EF4444",friday:"#F97316",jarvis:"#0EA5E9",lexis:"#8B5CF6",wong:"#6366F1",loki:"#F472B6",quill:"#A78BFA",scout:"#34D399",vision:"#60A5FA"},tx=["critical","high","medium","low"],Xt={critical:"#EF4444",high:"#F97316",medium:"#F59E0B",low:"#22C55E"};function Wh({config:e}){const t=e.hqApiUrl||"http://localhost:3800",n=e.refreshInterval||3e4,s=e.maxItems||15,a=e.showMondayStatus!==!1,l=e.autoScroll!==!1;e.autoScrollInterval;const i=e.title||"Team Activity",c=e.compact||!1,o=e.filterByAgents||[],d=e.filterByPriority||[],m=e.excludeAgents||[],p=e.excludePriorities||[],u=e.showFilterControls||!1,[v,b]=x.useState([]),[E,M]=x.useState([]),[y,h]=x.useState(!0),[f,w]=x.useState(null),[_,L]=x.useState(!0),[j,g]=x.useState(null),[T,N]=x.useState(0),[F,V]=x.useState(null),[H,S]=x.useState(null),k=x.useRef(null);x.useRef();const D=x.useCallback(async()=>{try{const[P,W]=await Promise.all([fetch(`${t}/api/tasks`),fetch(`${t}/api/agents`)]);if(!P.ok||!W.ok)throw new Error("Failed to fetch data");const X=await P.json(),pe=await W.json();let q=X.filter(O=>O.status==="done"&&O.completedAt).sort((O,Y)=>new Date(Y.completedAt).getTime()-new Date(O.completedAt).getTime());o.length>0&&(q=q.filter(O=>O.assignedTo&&o.includes(O.assignedTo))),m.length>0&&(q=q.filter(O=>!O.assignedTo||!m.includes(O.assignedTo))),d.length>0&&(q=q.filter(O=>{var Y;return d.includes(((Y=O.priority)==null?void 0:Y.toLowerCase())||"medium")})),p.length>0&&(q=q.filter(O=>{var Y;return!p.includes(((Y=O.priority)==null?void 0:Y.toLowerCase())||"medium")})),F&&(q=q.filter(O=>O.assignedTo===F)),H&&(q=q.filter(O=>{var Y;return(((Y=O.priority)==null?void 0:Y.toLowerCase())||"medium")===H})),q=q.slice(0,s),b(q),M(pe),w(new Date),g(null),L(!1)}catch(P){console.error("Failed to fetch HQ data:",P),g("Failed to connect to HQ"),L(!1)}},[t,s,o,d,m,p,F,H]);x.useEffect(()=>{D();const P=setInterval(D,n);return()=>clearInterval(P)},[D,n]),x.useEffect(()=>{if(!l||!k.current)return;const W=setInterval(()=>{if(k.current){const X=k.current.scrollHeight-k.current.clientHeight;if(X<=0)return;N(pe=>{const q=pe+1;return q>=X?(setTimeout(()=>N(0),2e3),X):q})}},50);return()=>clearInterval(W)},[l,v]),x.useEffect(()=>{k.current&&(k.current.scrollTop=T)},[T]);const C=P=>{const W=new Date(P),pe=new Date().getTime()-W.getTime(),q=Math.floor(pe/6e4),O=Math.floor(q/60),Y=Math.floor(O/24);return q<1?"Just now":q<60?`${q}m ago`:O<24?`${O}h ago`:Y===1?"Yesterday":`${Y}d ago`},A=P=>new Date(P).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),z=E.filter(P=>P.status==="working"),B=E.filter(P=>P.status==="idle"),J=v.filter(P=>{const W=new Date(P.completedAt||P.updatedAt),X=new Date;return W.toDateString()===X.toDateString()});return _?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:r.jsx("div",{className:"animate-spin",children:r.jsx(qt,{className:"w-8 h-8 text-cyan-400"})})}):r.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-cyan-400 to-emerald-400 rounded-full"}),r.jsx("h1",{className:"text-2xl font-light tracking-wider text-cyan-400",children:i.split(" ").map((P,W)=>r.jsxs("span",{className:W===1?"font-semibold":"",children:[P," "]},W))}),(o.length>0||d.length>0||F||H)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"|"}),(o.length>0||F)&&r.jsxs("span",{className:"flex items-center gap-1 text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded-full",children:[r.jsx(Y0,{className:"w-3 h-3"}),F?r.jsx("span",{className:"capitalize",children:F}):r.jsx("span",{children:o.join(", ")})]}),(d.length>0||H)&&r.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Xt[H||d[0]]||"#F59E0B"}20`,color:Xt[H||d[0]]||"#F59E0B"},children:[r.jsx(Wn,{className:"w-3 h-3"}),H||d.join(", ")]})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[a&&r.jsx("div",{className:"flex items-center gap-2 text-sm",children:y?r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-gray-400",children:"Monday.com"}),r.jsx("span",{className:"text-emerald-400",children:"Synced"})]}):r.jsxs(r.Fragment,{children:[r.jsx(C0,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-gray-400",children:"Monday.com"}),r.jsx("span",{className:"text-red-400",children:"Offline"})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-mono text-emerald-400",children:new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})]})]})]}),u&&r.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 bg-gray-800/30 border-b border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Agent:"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>V(null),className:`px-2 py-1 text-xs rounded transition-colors ${F?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),E.slice(0,8).map(P=>r.jsxs("button",{onClick:()=>V(F===P.id?null:P.id),className:`px-2 py-1 text-xs rounded transition-colors flex items-center gap-1 ${F===P.id?"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:rd[P.id]||P.role,children:[r.jsx("span",{children:xs[P.id]||""}),r.jsx("span",{className:"capitalize hidden sm:inline",children:P.id})]},P.id))]})]}),r.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Priority:"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>S(null),className:`px-2 py-1 text-xs rounded transition-colors ${H?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50"}`,children:"All"}),tx.map(P=>r.jsx("button",{onClick:()=>S(H===P?null:P),className:`px-2 py-1 text-xs rounded capitalize transition-colors ${H===P?"border":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,style:H===P?{backgroundColor:`${Xt[P]}30`,color:Xt[P],borderColor:`${Xt[P]}80`}:{},children:P},P))]})]}),(F||H)&&r.jsxs("button",{onClick:()=>{V(null),S(null)},className:"ml-auto text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[r.jsx("span",{children:"Clear filters"}),r.jsx("span",{className:"text-cyan-400",children:""})]})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-gray-800/50",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Vr,{className:"w-4 h-4"}),r.jsx("span",{children:"Recent Completions"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[J.length," today"]})]}),r.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto px-4 py-4 space-y-3 scrollbar-hide",style:{scrollBehavior:"auto"},children:[v.map((P,W)=>{const X=P.assignedTo||"unknown",pe=xs[X]||"",q=rd[X]||"Agent",O=xl[X]||"#64748B",Y=P.completedAt?A(P.completedAt):A(P.updatedAt),St=P.completedAt?C(P.completedAt):C(P.updatedAt);return r.jsxs("div",{className:"flex gap-3 animate-fadeIn",style:{animationDelay:`${W*.1}s`,opacity:0,animation:"fadeIn 0.5s ease forwards"},children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs font-mono text-gray-500 mb-2",children:Y}),r.jsx("div",{className:"w-3 h-3 rounded-full ring-2 ring-gray-700",style:{backgroundColor:O}}),W<v.length-1&&r.jsx("div",{className:"w-0.5 flex-1 bg-gradient-to-b from-gray-700 to-transparent mt-2"})]}),r.jsxs("div",{className:"flex-1 bg-gray-800/50 rounded-lg p-4 border-l-2 hover:bg-gray-800/80 transition-colors",style:{borderLeftColor:O},children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-100 line-clamp-1",children:P.title}),r.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[P.priority&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full capitalize",style:{backgroundColor:`${Xt[P.priority.toLowerCase()]||"#64748B"}20`,color:Xt[P.priority.toLowerCase()]||"#64748B"},children:P.priority}),r.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded-full",children:[r.jsx(k0,{className:"w-3 h-3"}),"Done"]})]})]}),!c&&P.output&&r.jsxs("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:[P.output.split("##")[0].substring(0,150),"..."]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-lg",children:pe}),r.jsx("span",{className:"text-gray-300 capitalize",children:X}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-500",children:q}),r.jsx("span",{className:"ml-auto text-xs text-gray-500",children:St})]})]})]},P.id)}),v.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(M0,{className:"w-12 h-12 mb-4 opacity-50"}),r.jsx("p",{children:"No completed tasks yet"})]})]})]}),r.jsxs("div",{className:"w-72 flex flex-col bg-gray-800/30",children:[r.jsx("div",{className:"p-4 border-b border-gray-800",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-3xl font-bold font-mono text-emerald-400",children:J.length}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Completed Today"})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-3xl font-bold font-mono text-cyan-400",children:z.length}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active Agents"})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("div",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Bh,{className:"w-4 h-4"}),"Team Status"]}),r.jsxs("div",{className:"px-3 space-y-2",children:[z.map(P=>{const W=xs[P.id]||P.avatar,X=xl[P.id]||"#64748B",pe=v.find(q=>q.id===P.currentTask);return r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/50",children:[r.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${X}30`},children:W}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-200 capitalize",children:P.name||P.id}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:(pe==null?void 0:pe.title)||"Working..."})]}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"})]},P.id)}),B.slice(0,5).map(P=>{const W=xs[P.id]||P.avatar,X=xl[P.id]||"#64748B";return r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-800/30 opacity-60",children:[r.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${X}20`},children:W}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-400 capitalize",children:P.name||P.id}),r.jsx("div",{className:"text-xs text-gray-600",children:"Idle"})]}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"})]},P.id)})]})]}),r.jsxs("div",{className:"p-3 border-t border-gray-800 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"ParkWise"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400"}),"Local Connect"]})]}),f&&r.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Last sync: ",C(f.toISOString())]})]})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-10px); }
          to { opacity: 1; transform: translateX(0); }
        }
        
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 1;
        }
        .line-clamp-2 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
        }
      `})]})}function qh({config:e}){const[t,n]=x.useState(!1),s=e.level||"info",a=e.animate!==!1,l=e.fullscreen||s==="critical";x.useEffect(()=>{if(s==="critical"&&a){const d=setInterval(()=>{n(m=>!m)},500);return()=>clearInterval(d)}},[s,a]),x.useEffect(()=>{if(e.sound&&(s==="critical"||s==="error"))try{new Audio("/alert.mp3").play().catch(()=>{})}catch{}},[e.sound,s]);const i=()=>{switch(s){case"success":return{bg:"bg-green-600",text:"text-white",border:"border-green-400"};case"warning":return{bg:"bg-yellow-600",text:"text-white",border:"border-yellow-400"};case"error":return{bg:"bg-red-600",text:"text-white",border:"border-red-400"};case"critical":return{bg:t?"bg-red-700":"bg-red-900",text:"text-white",border:"border-red-500"};default:return{bg:"bg-accent-dim",text:"text-white",border:"border-accent"}}},c=()=>{switch(s){case"success":return r.jsx(la,{className:"w-12 h-12"});case"warning":return r.jsx(ht,{className:"w-12 h-12"});case"error":return r.jsx(J0,{className:"w-12 h-12"});case"critical":return r.jsx(ht,{className:"w-12 h-12 animate-pulse"});default:return r.jsx(Mh,{className:"w-12 h-12"})}},o=i();return l?r.jsxs("div",{className:`w-full h-full ${o.bg} ${o.text} flex flex-col items-center justify-center p-12 transition-colors duration-300`,children:[e.icon!==!1&&r.jsx("div",{className:"mb-8",children:c()}),e.title&&r.jsx("h1",{className:"text-5xl font-bold mb-6 text-center",children:e.title}),r.jsx("p",{className:"text-3xl text-center max-w-4xl leading-relaxed",children:e.message})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900",children:r.jsx("div",{className:`${o.bg} ${o.text} border-2 ${o.border} rounded-2xl p-8 max-w-3xl mx-8 shadow-2xl`,children:r.jsxs("div",{className:"flex items-center gap-6",children:[e.icon!==!1&&c(),r.jsxs("div",{children:[e.title&&r.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),r.jsx("p",{className:"text-xl",children:e.message})]})]})})})}function Fa({config:e}){const{layout:t,panels:n}=e,s=()=>{switch(t){case"split-h":return"flex flex-row";case"split-v":return"flex flex-col";case"grid-2x2":return"grid grid-cols-2 grid-rows-2";case"sidebar-left":return"flex flex-row";case"sidebar-right":return"flex flex-row";case"pip":return"relative";case"control-room":return"grid grid-cols-3 grid-rows-2";case"dashboard-cameras":return"flex flex-row";default:return"flex flex-row"}},a=(l,i)=>t==="pip"?l===0?{position:"absolute",inset:0}:{position:"absolute",bottom:20,right:20,width:"30%",height:"30%",zIndex:10,borderRadius:12,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}:t==="control-room"?l===0?{gridColumn:"1",gridRow:"1 / 3"}:{}:t==="dashboard-cameras"?l===0?{width:"40%",flexShrink:0}:{flex:1}:t==="sidebar-left"&&l===0?{width:i.size||300,flexShrink:0}:t==="sidebar-right"&&l===n.length-1?{width:i.size||300,flexShrink:0}:{flex:i.size||1};return r.jsx("div",{className:`w-full h-full ${s()}`,children:n.map((l,i)=>r.jsx("div",{className:"overflow-hidden bg-dark-900",style:a(i,l),children:r.jsx(nx,{widget:l.widget,config:l.config||{}})},i))})}function nx({widget:e,config:t}){switch(e){case"clock":return r.jsx(La,{config:t});case"weather":return r.jsx(Ia,{config:t});case"camera":return r.jsx(Aa,{config:t});case"camera-grid":return r.jsx(Oa,{config:t});case"stats":return r.jsx(Ra,{config:t});case"occupancy":return r.jsx(Ma,{config:t});case"iframe":return r.jsx(Da,{config:t});case"operations-dashboard":return r.jsx(Oo,{config:t});case"team-activity":return r.jsx(Wh,{config:t});case"alert":return r.jsx(qh,{config:t});case"layout":return r.jsx(Fa,{config:t});default:return r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function rx({config:e}){const[t,n]=x.useState(0),[s,a]=x.useState(!1),[l,i]=x.useState(0),c=e.defaultDuration||30,o=e.transition||"fade",d=e.shuffle?ax([...e.items]):e.items;x.useEffect(()=>{if(d.length<=1)return;const v=(d[t].duration||c)*1e3,b=setTimeout(()=>{a(!0),setTimeout(()=>{n(E=>(E+1)%d.length),i(E=>(E+1)%d.length),a(!1)},500)},v);return()=>clearTimeout(b)},[t,d,c]);const m=d[l];if(!m)return null;const p=()=>o==="none"?"":o==="fade"?s?"opacity-0":"opacity-100":o==="slide"?s?"translate-x-full":"translate-x-0":"";return r.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[r.jsx("div",{className:`w-full h-full transition-all duration-500 ${p()}`,children:r.jsx(sx,{widget:m.widget,config:m.config||{}})}),d.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:d.map((u,v)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${v===l?"bg-accent w-6":"bg-white/30"}`},v))})]})}function sx({widget:e,config:t}){switch(e){case"clock":return r.jsx(La,{config:t});case"weather":return r.jsx(Ia,{config:t});case"camera":return r.jsx(Aa,{config:t});case"camera-grid":return r.jsx(Oa,{config:t});case"stats":return r.jsx(Ra,{config:t});case"occupancy":return r.jsx(Ma,{config:t});case"iframe":return r.jsx(Da,{config:t});case"layout":return r.jsx(Fa,{config:t});default:return r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Unknown: ",e]})}}function ax(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function lx(e){let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);return`hsl(${Math.abs(t%360)}, 70%, 50%)`}function ix({config:e}){const[t,n]=x.useState(new Date),[s,a]=x.useState(!0),l=new URLSearchParams(window.location.search),i=(e==null?void 0:e.screenId)||l.get("screen")||l.get("id")||"unknown",c=(e==null?void 0:e.screenName)||l.get("name")||i,o=lx(i);x.useEffect(()=>{const m=setInterval(()=>n(new Date),1e3);return()=>clearInterval(m)},[]);const d=["#c0c0c0","#c0c000","#00c0c0","#00c000","#c000c0","#c00000","#0000c0","#000000"];return r.jsxs("div",{className:"w-full h-full bg-[#1a1a2e] flex flex-col overflow-hidden",children:[r.jsx("div",{className:"flex h-16 shrink-0",children:d.map((m,p)=>r.jsx("div",{className:"flex-1",style:{backgroundColor:m}},p))}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:[r.jsx("div",{className:"px-8 py-4 rounded-2xl mb-8",style:{backgroundColor:o+"30",borderColor:o,borderWidth:3},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(We,{className:"w-12 h-12",style:{color:o}}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-5xl font-bold tracking-wider",style:{color:o},children:i.toUpperCase()}),c!==i&&r.jsx("p",{className:"text-xl text-gray-400 mt-1",children:c})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center mb-8",children:[r.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[r.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Time"}),r.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),r.jsxs("div",{className:"bg-black/30 rounded-xl p-6 min-w-[200px]",children:[r.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wider mb-2",children:"Date"}),r.jsx("div",{className:"text-3xl font-mono text-white",children:t.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})]}),r.jsx("div",{className:"flex items-center gap-3 text-lg",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Ao,{className:"w-6 h-6 text-green-400"}),r.jsx("span",{className:"text-green-400",children:"Connected to Signage Server"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Lo,{className:"w-6 h-6 text-red-400 animate-pulse"}),r.jsx("span",{className:"text-red-400",children:"Disconnected"})]})}),r.jsxs("div",{className:"mt-6 flex items-center gap-2 text-gray-600 text-sm",children:[r.jsx(Fh,{className:"w-4 h-4"}),r.jsx("span",{children:window.location.host})]})]}),r.jsx("div",{className:"h-8 shrink-0",style:{backgroundColor:o}}),r.jsx("div",{className:"absolute bottom-12 right-8 text-gray-700 text-sm font-mono",children:"SKYNET SIGNAGE v0.1"})]})}const Io={rangers:{name:"Rangers FC",colors:{primary:"#0066CC",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/rangers/rss.xml",hashtag:"#RangersFC"},celtic:{name:"Celtic FC",colors:{primary:"#16A34A",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/celtic/rss.xml",hashtag:"#CelticFC"},"ayr-united":{name:"Ayr United",colors:{primary:"#000000",secondary:"#FFFFFF"},badge:"",rssUrl:"https://www.bbc.co.uk/sport/football/teams/ayr-united/rss.xml",hashtag:"#AyrUnited"}};async function sd(e){var t;try{const n=Io[e],s=`/api/proxy/rss?url=${encodeURIComponent(n.rssUrl)}`,a=await fetch(s);return a.ok&&((t=(await a.json()).items)==null?void 0:t.slice(0,5))||gl(e)}catch(n){return console.error("Failed to fetch news:",n),gl(e)}}function gl(e){const t=Io[e].name;return[{title:`${t} latest transfer news and updates`,link:"#",pubDate:new Date().toISOString()},{title:`Match preview: ${t} prepare for weekend fixture`,link:"#",pubDate:new Date().toISOString()},{title:"Manager discusses squad depth and upcoming challenges",link:"#",pubDate:new Date().toISOString()}]}function ox(e){const t=e==="rangers"?["Celtic","Aberdeen","Hearts","Hibernian","Dundee United"]:e==="celtic"?["Rangers","Aberdeen","Hearts","Hibernian","Dundee United"]:["Partick Thistle","Queen of the South","Dunfermline","Raith Rovers","Morton"],n=new Date;return[{date:new Date(n.getTime()-4*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[0],venue:"H",competition:"Scottish Premiership",result:"2-1"},{date:new Date(n.getTime()+3*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[1],venue:"A",competition:"Scottish Premiership",isNext:!0},{date:new Date(n.getTime()+10*24*60*60*1e3).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),opponent:t[2],venue:"H",competition:"Scottish Cup"}]}function cx({config:e}){var p;const t=e.team||"rangers",n=Io[t],[s,a]=x.useState([]),[l]=x.useState(ox(t)),[i,c]=x.useState(0),[o,d]=x.useState(!0);x.useEffect(()=>{sd(t).then(v=>{a(v),d(!1)});const u=setInterval(()=>{sd(t).then(a)},(e.refreshInterval||300)*1e3);return()=>clearInterval(u)},[t,e.refreshInterval]),x.useEffect(()=>{if(s.length===0)return;const u=setInterval(()=>{c(v=>(v+1)%s.length)},8e3);return()=>clearInterval(u)},[s.length]);const m=l.find(u=>u.isNext);return r.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden",style:{background:`linear-gradient(135deg, ${n.colors.primary} 0%, ${n.colors.primary}dd 100%)`,color:n.colors.secondary},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-5xl",children:n.badge}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:n.name}),r.jsx("p",{className:"text-sm opacity-75",children:n.hashtag})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm opacity-75",children:"SCOTTISH PREMIERSHIP"}),r.jsx("div",{className:"text-2xl font-bold",children:"2nd"})]})]}),r.jsxs("div",{className:"flex-1 flex",children:[m&&r.jsxs("div",{className:"flex-1 p-6 border-r border-white/20 flex flex-col justify-center",children:[r.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-2",children:"Next Match"}),r.jsxs("div",{className:"text-4xl font-bold mb-2",children:[m.venue==="H"?"vs":"@"," ",m.opponent]}),r.jsx("div",{className:"text-xl opacity-90",children:m.date}),r.jsx("div",{className:"text-sm opacity-75 mt-1",children:m.competition}),r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2 w-fit",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm",children:"Ibrox Stadium"})]})]}),r.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[r.jsx("div",{className:"text-sm uppercase tracking-wider opacity-75 mb-3",children:"Fixtures & Results"}),r.jsx("div",{className:"space-y-3",children:l.map((u,v)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${u.isNext?"bg-white/20 ring-2 ring-white/50":"bg-white/10"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:u.venue}),r.jsx("span",{className:"font-medium",children:u.opponent})]}),r.jsx("div",{className:"text-right",children:u.result?r.jsx("span",{className:`font-bold ${u.result.startsWith("W")||u.result.split("-")[0]>u.result.split("-")[1]?"text-green-300":u.result.split("-")[0]<u.result.split("-")[1]?"text-red-300":""}`,children:u.result}):r.jsx("span",{className:"text-sm opacity-75",children:u.date})})]},v))})]})]}),r.jsx("div",{className:"bg-black/30 p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"bg-white text-black px-3 py-1 rounded font-bold text-sm shrink-0",children:"NEWS"}),r.jsx("div",{className:"overflow-hidden flex-1",children:o?r.jsx("span",{className:"opacity-75",children:"Loading latest news..."}):s.length>0?r.jsx("span",{className:"block truncate text-lg",children:(p=s[i])==null?void 0:p.title}):r.jsx("span",{className:"opacity-75",children:"No news available"})})]})})]})}const lr={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},soup:{title:"Homemade Soup",icon:"",items:[{name:"Regular",price:2.5},{name:"Large",price:2.9},{name:"+ Buttered Roll",price:.5}]},chips:{title:"Chips",icon:"",items:[{name:"Chips",price:3,large:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Salt + Pepper",price:3.5,large:4.5},{name:"Cajun",price:3.5,large:4.5},{name:"+ Cheese",price:4,large:5},{name:"+ Curry Sauce",price:4,large:5},{name:"Loaded",price:4.5,large:5.5,popular:!0}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"Served with side salad",items:[{name:"Plain",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Egg Mayo",price:4.8},{name:"Chicken",price:5.3},{name:"Tuna",price:5.3},{name:"Chicken Curry",price:6.3,popular:!0},{name:"Cheese & Bacon",price:5.8}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4},{name:"Espresso",price:1.8},{name:"+ Flavour Shot",price:.5}]}},yl=[{name:"Chicken Curry + Rice",price:5.8,tag:"Most Popular",emoji:""},{name:"Steak Pie + Chips",price:5.3,tag:"Scottish Classic",emoji:""},{name:"Loaded Chips",price:5.5,tag:"Comfort Food",emoji:""},{name:"Homemade Soup + Roll",price:3.4,tag:"Warm Up",emoji:""}],oe={title:"clamp(28px, 3.5vw, 72px)",subtitle:"clamp(10px, 1vw, 20px)",sectionTitle:"clamp(14px, 1.5vw, 30px)",sectionIcon:"clamp(18px, 1.8vw, 36px)",item:"clamp(11px, 1.15vw, 22px)",price:"clamp(11px, 1.15vw, 22px)",small:"clamp(9px, 0.85vw, 16px)",tiny:"clamp(8px, 0.7vw, 14px)",gap:"clamp(8px, 1vw, 20px)",padding:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"};function ir({data:e}){return r.jsxs("div",{className:"h-full relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(10px)",borderRadius:oe.radius,padding:oe.padding,border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[r.jsxs("div",{className:"flex items-center border-b border-amber-400/30",style:{gap:"clamp(6px, 0.6vw, 12px)",paddingBottom:"clamp(8px, 0.8vw, 16px)",marginBottom:"clamp(10px, 1vw, 20px)"},children:[r.jsx("span",{style:{fontSize:oe.sectionIcon},children:e.icon}),r.jsx("h2",{className:"font-bold tracking-wide",style:{fontSize:oe.sectionTitle,background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 10px rgba(251,191,36,0.3)"},children:e.title})]}),e.subtitle&&r.jsx("p",{className:"text-gray-400 italic",style:{fontSize:oe.tiny,marginBottom:"clamp(6px, 0.6vw, 12px)",marginTop:"clamp(-6px, -0.5vw, -10px)"},children:e.subtitle}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(6px, 0.6vw, 14px)"},children:e.items.map((t,n)=>r.jsxs("div",{className:"flex justify-between items-center",style:{padding:"clamp(2px, 0.2vw, 4px) 0",borderBottom:n<e.items.length-1?"1px dotted rgba(255,255,255,0.1)":"none"},children:[r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[r.jsx("span",{className:"text-white/90 font-medium",style:{fontSize:oe.item},children:t.name}),t.popular&&r.jsx("span",{className:"text-orange-400 animate-pulse",style:{fontSize:oe.tiny},children:""})]}),r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(4px, 0.4vw, 8px)"},children:[r.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:oe.price,color:"#34d399",textShadow:"0 0 20px rgba(52,211,153,0.3)"},children:["",t.price.toFixed(2)]}),t.large&&r.jsxs("span",{className:"text-gray-500 tabular-nums",style:{fontSize:oe.small},children:["/ ",t.large.toFixed(2)]})]})]},n))})]})}function dx({config:e}){const[t,n]=x.useState(new Date),[s,a]=x.useState(0);x.useEffect(()=>{const c=setInterval(()=>n(new Date),1e3);return()=>clearInterval(c)},[]),x.useEffect(()=>{const c=setInterval(()=>{a(o=>(o+1)%yl.length)},5e3);return()=>clearInterval(c)},[]);const l=t.getHours()>=11&&t.getHours()<14,i=yl[s];return r.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},children:[r.jsx("div",{className:"absolute rounded-full blur-3xl opacity-30 animate-pulse",style:{top:"-10%",left:"-5%",width:"40vw",height:"40vw",background:"radial-gradient(circle, rgba(251,191,36,0.4) 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute rounded-full blur-3xl opacity-20",style:{bottom:"-15%",right:"-10%",width:"50vw",height:"50vw",background:"radial-gradient(circle, rgba(52,211,153,0.3) 0%, transparent 70%)",animation:"pulse 4s ease-in-out infinite alternate"}}),r.jsx("div",{className:"absolute rounded-full blur-2xl opacity-10",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",height:"30vw",background:"radial-gradient(ellipse, rgba(139,92,246,0.2) 0%, transparent 60%)"}}),r.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:oe.padding},children:[r.jsxs("div",{className:"text-center",style:{marginBottom:oe.gap},children:[r.jsx("h1",{className:"font-bold tracking-tight",style:{fontSize:oe.title,background:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"shimmer 3s linear infinite",filter:"drop-shadow(0 4px 20px rgba(251,191,36,0.4))"},children:"Young's Food Emporium"}),r.jsxs("div",{className:"flex items-center justify-center text-gray-400",style:{gap:"clamp(12px, 2vw, 32px)",marginTop:"clamp(4px, 0.5vw, 12px)",fontSize:oe.subtitle},children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-amber-500",children:""})," 01292 652 043"]}),r.jsx("span",{className:"text-amber-500/50",children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-amber-500",children:""})," @youngsfoodemporium"]}),r.jsx("span",{className:"text-amber-500/50",children:""}),r.jsx("span",{className:"text-amber-400 font-semibold tabular-nums",children:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})]}),r.jsx("div",{style:{marginBottom:oe.gap},children:r.jsxs("div",{className:"relative overflow-hidden",style:{background:l?"linear-gradient(135deg, rgba(249,115,22,0.2) 0%, rgba(239,68,68,0.15) 50%, rgba(249,115,22,0.2) 100%)":"linear-gradient(135deg, rgba(251,191,36,0.15) 0%, rgba(245,158,11,0.1) 50%, rgba(251,191,36,0.15) 100%)",border:l?"1px solid rgba(249,115,22,0.3)":"1px solid rgba(251,191,36,0.3)",borderRadius:oe.radius,padding:"clamp(10px, 1.2vw, 24px)"},children:[r.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",animation:"shimmer 2s ease-in-out infinite"}}),r.jsxs("div",{className:"relative flex items-center justify-center flex-wrap",style:{gap:"clamp(12px, 2vw, 32px)"},children:[r.jsx("span",{className:"uppercase tracking-[0.2em] font-medium",style:{fontSize:oe.tiny,color:l?"#fb923c":"#fbbf24"},children:l?" Lunch Special":" Today's Recommendation"}),r.jsxs("div",{className:"flex items-center",style:{gap:"clamp(8px, 1vw, 16px)"},children:[r.jsx("span",{style:{fontSize:"clamp(16px, 1.8vw, 36px)"},children:i.emoji}),r.jsx("span",{className:"font-bold text-white",style:{fontSize:"clamp(14px, 1.5vw, 30px)"},children:i.name})]}),r.jsxs("span",{className:"font-black tabular-nums",style:{fontSize:"clamp(16px, 1.8vw, 36px)",color:"#34d399",textShadow:"0 0 30px rgba(52,211,153,0.5)"},children:["",i.price.toFixed(2)]}),r.jsx("span",{className:"rounded-full font-medium",style:{fontSize:oe.tiny,padding:"clamp(3px, 0.3vw, 6px) clamp(10px, 1vw, 20px)",background:"rgba(251,191,36,0.2)",color:"#fcd34d",border:"1px solid rgba(251,191,36,0.3)"},children:i.tag})]}),r.jsx("div",{className:"flex justify-center",style:{gap:"clamp(4px, 0.4vw, 8px)",marginTop:"clamp(8px, 0.8vw, 16px)"},children:yl.map((c,o)=>r.jsx("div",{className:"rounded-full transition-all duration-300",style:{width:o===s?"clamp(16px, 1.5vw, 28px)":"clamp(6px, 0.5vw, 10px)",height:"clamp(6px, 0.5vw, 10px)",background:o===s?"#fbbf24":"rgba(255,255,255,0.2)"}},o))})]})}),r.jsxs("div",{className:"flex-1 grid grid-cols-4 min-h-0",style:{gap:oe.gap},children:[r.jsxs("div",{className:"flex flex-col",style:{gap:oe.gap},children:[r.jsx("div",{className:"flex-[2]",children:r.jsx(ir,{data:lr.hotDrinks})}),r.jsx("div",{className:"flex-1",children:r.jsx(ir,{data:lr.soup})})]}),r.jsx("div",{children:r.jsx(ir,{data:lr.bakedPotato})}),r.jsx("div",{children:r.jsx(ir,{data:lr.chips})}),r.jsx("div",{children:r.jsx(ir,{data:lr.hotMeals})})]}),r.jsx("div",{className:"text-center",style:{marginTop:oe.gap,paddingTop:"clamp(8px, 0.8vw, 16px)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:r.jsxs("p",{style:{fontSize:oe.subtitle},children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"text-amber-400 font-medium",children:" Phone ahead for collection "}),r.jsx("span",{className:"text-gray-600 mx-2",children:""}),r.jsx("span",{className:"text-gray-500",children:"Fresh"}),r.jsx("span",{className:"text-gray-600 mx-1",children:""}),r.jsx("span",{className:"text-gray-500",children:"Homemade"}),r.jsx("span",{className:"text-gray-600 mx-1",children:""}),r.jsx("span",{className:"text-gray-500",children:"Delicious"})]})})]}),r.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: -200% center; }
          100% { background-position: 200% center; }
        }
      `})]})}const U={heading:"clamp(20px, 2.5vw, 50px)",large:"clamp(14px, 1.5vw, 30px)",body:"clamp(12px, 1.2vw, 24px)",small:"clamp(10px, 1vw, 20px)",tiny:"clamp(8px, 0.8vw, 16px)",iconSmall:"clamp(14px, 1.4vw, 28px)",gap:"clamp(8px, 1vw, 20px)",gapSmall:"clamp(4px, 0.5vw, 10px)",gapTiny:"clamp(2px, 0.25vw, 5px)",pad:"clamp(12px, 1.5vw, 28px)",radius:"clamp(8px, 1vw, 20px)"},ad={gold:"#fbbf24",emerald:"#34d399"},ld={goldText:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 25%, #f59e0b 50%, #fcd34d 75%, #fef3c7 100%)",darkBg:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #0f172a 70%, #1e1a2e 100%)"},ux={noiseTexture:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`},vl=["Ewan","Megan","Guest"],ki={hotMeals:{title:"Hot Meals",icon:"",items:[{name:"Chicken Curry + Chips",price:5.8,popular:!0},{name:"Chicken Curry + Rice",price:5.8},{name:"Chicken Curry, Rice + Chips",price:6.3},{name:"Pie + Chips",price:4.8},{name:"Pie, Chips + Beans",price:5.3},{name:"Steak Pie + Chips",price:5.3,popular:!0},{name:"Links + Chips",price:4.8},{name:"Macaroni",price:5.3},{name:"Macaroni + Chips",price:5.3}]},bakedPotato:{title:"Baked Potatoes",icon:"",subtitle:"With side salad",items:[{name:"Plain Jacket",price:3.7},{name:"Cheese",price:4.8},{name:"Beans",price:4.8},{name:"Cheese & Beans",price:5.3,popular:!0},{name:"Coleslaw",price:4.8},{name:"Cheese & Coleslaw",price:5.3},{name:"Tuna Mayo",price:5.3},{name:"Chicken Curry",price:6.3},{name:"Cheese & Bacon",price:5.8}]},chips:{title:"Chips",icon:"",items:[{name:"Chips (Reg)",price:3},{name:"Chips (Large)",price:4},{name:"Salt + Chilli",price:3.5,large:4.5},{name:"Cajun Chips",price:3.5,large:4.5},{name:"Chips + Cheese",price:4,large:5},{name:"Loaded Chips",price:4.5,large:5.5,popular:!0}]},soup:{title:"Soup",icon:"",items:[{name:"Soup (Regular)",price:2.5},{name:"Soup (Large)",price:2.9},{name:"Soup + Roll",price:3.4,popular:!0}]},hotDrinks:{title:"Hot Drinks",icon:"",items:[{name:"Tea",price:1.4},{name:"Coffee",price:1.4},{name:"Latte",price:2.2},{name:"Cappuccino",price:2.4},{name:"Hot Chocolate",price:2.4}]}},id=Object.keys(ki);function hx({config:e}){const[t,n]=x.useState(vl[0]),[s,a]=x.useState(id[0]),[l,i]=x.useState([]),[c,o]=x.useState(!0),[d,m]=x.useState(null),[p,u]=x.useState(new Date);x.useEffect(()=>{const f=setInterval(()=>u(new Date),1e3);return()=>clearInterval(f)},[]);const v=f=>{const w=l.find(_=>_.name===f.name&&_.person===t);i(w?l.map(_=>_.name===f.name&&_.person===t?{..._,quantity:_.quantity+1}:_):[...l,{name:f.name,price:f.price,quantity:1,person:t}]),m(f.name),setTimeout(()=>m(null),500)},b=f=>{f.quantity>1?i(l.map(w=>w.name===f.name&&w.person===f.person?{...w,quantity:w.quantity-1}:w)):i(l.filter(w=>!(w.name===f.name&&w.person===f.person)))},E=()=>i([]),M=f=>l.filter(w=>w.person===f).reduce((w,_)=>w+_.price*_.quantity,0),y=l.reduce((f,w)=>f+w.price*w.quantity,0),h=ki[s];return r.jsxs("div",{className:"w-full h-full text-white overflow-hidden relative select-none",style:{background:ld.darkBg},children:[r.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:ux.noiseTexture}}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",style:{padding:U.pad},children:[r.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:U.gap},children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold",style:{fontSize:U.heading,background:ld.goldText,backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Young's Food Emporium"}),r.jsxs("p",{className:"text-gray-400",style:{fontSize:U.small},children:["Tap items to add  ",p.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),r.jsxs("div",{className:"flex items-center",style:{gap:U.gapSmall},children:[r.jsx("span",{className:"text-gray-400",style:{fontSize:U.small},children:"Ordering as:"}),r.jsx("div",{className:"flex",style:{gap:U.gapTiny},children:vl.map(f=>r.jsx("button",{onClick:()=>n(f),className:"transition-all",style:{padding:`${U.gapSmall} ${U.pad}`,borderRadius:U.radius,fontSize:U.body,fontWeight:t===f?"bold":"normal",background:t===f?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"rgba(255,255,255,0.1)",color:t===f?"#000":"#fff",border:"none",cursor:"pointer"},children:f},f))})]})]}),r.jsxs("div",{className:"flex-1 flex min-h-0",style:{gap:U.gap},children:[r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsx("div",{className:"flex flex-wrap",style:{gap:U.gapSmall,marginBottom:U.gap},children:id.map(f=>{const w=ki[f],_=s===f;return r.jsxs("button",{onClick:()=>a(f),className:"transition-all",style:{padding:`${U.gapSmall} ${U.pad}`,borderRadius:U.radius,fontSize:U.body,background:_?"rgba(251,191,36,0.2)":"rgba(255,255,255,0.05)",border:_?"2px solid rgba(251,191,36,0.5)":"2px solid transparent",color:_?ad.gold:"rgba(255,255,255,0.7)",cursor:"pointer"},children:[w.icon," ",w.title]},f)})}),r.jsx("div",{className:"flex-1 overflow-auto",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 280px), 1fr))",gap:U.gap,alignContent:"start"},children:h.items.map((f,w)=>{const _=d===f.name,L=l.find(j=>j.name===f.name&&j.person===t);return r.jsx("button",{onClick:()=>v(f),className:"text-left transition-all active:scale-95",style:{padding:U.pad,borderRadius:U.radius,background:_?"rgba(52,211,153,0.3)":"rgba(255,255,255,0.05)",border:L?"2px solid rgba(52,211,153,0.5)":"2px solid rgba(255,255,255,0.1)",cursor:"pointer",transform:_?"scale(1.02)":"scale(1)"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",style:{gap:U.gapSmall},children:[r.jsx("span",{className:"font-medium text-white",style:{fontSize:U.body},children:f.name}),f.popular&&r.jsx("span",{className:"text-orange-400",style:{fontSize:U.tiny},children:" Popular"})]}),L&&r.jsxs("span",{className:"text-emerald-400",style:{fontSize:U.small},children:[" ",L.quantity," in order"]})]}),r.jsxs("span",{className:"font-bold tabular-nums",style:{fontSize:U.large,color:ad.emerald},children:["",f.price.toFixed(2)]})]})},w)})})]}),c&&r.jsxs("div",{style:{width:"clamp(280px, 25vw, 400px)",background:"rgba(255,255,255,0.05)",borderRadius:U.radius,padding:U.pad,display:"flex",flexDirection:"column",border:"1px solid rgba(255,255,255,0.1)"},children:[r.jsxs("h2",{className:"font-bold text-amber-400 flex items-center justify-between",style:{fontSize:U.large,marginBottom:U.gap},children:[r.jsx("span",{children:" Order"}),l.length>0&&r.jsx("button",{onClick:E,className:"text-red-400 hover:text-red-300",style:{fontSize:U.small},children:"Clear all"})]}),l.length===0?r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",style:{fontSize:U.body},children:"Tap menu items to add"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 overflow-auto",style:{marginBottom:U.gap},children:vl.filter(f=>l.some(w=>w.person===f)).map(f=>r.jsxs("div",{style:{marginBottom:U.gap},children:[r.jsxs("div",{className:"flex justify-between items-center text-gray-400 border-b border-white/10",style:{fontSize:U.small,paddingBottom:U.gapSmall,marginBottom:U.gapSmall},children:[r.jsx("span",{className:"font-medium",children:f}),r.jsxs("span",{children:["",M(f).toFixed(2)]})]}),l.filter(w=>w.person===f).map((w,_)=>r.jsxs("div",{className:"flex items-center justify-between",style:{padding:`${U.gapTiny} 0`},children:[r.jsxs("div",{className:"flex items-center",style:{gap:U.gapSmall},children:[r.jsx("button",{onClick:()=>b(w),className:"text-red-400 hover:text-red-300 active:scale-90",style:{fontSize:U.body,width:U.iconSmall,height:U.iconSmall,borderRadius:"50%",background:"rgba(239,68,68,0.2)",border:"none",cursor:"pointer"},children:""}),r.jsxs("span",{style:{fontSize:U.small},children:[w.quantity," ",w.name]})]}),r.jsxs("span",{className:"tabular-nums text-emerald-400",style:{fontSize:U.small},children:["",(w.price*w.quantity).toFixed(2)]})]},_))]},f))}),r.jsxs("div",{className:"border-t border-white/20",style:{paddingTop:U.gap},children:[r.jsxs("div",{className:"flex justify-between items-center font-bold",style:{fontSize:U.large,marginBottom:U.gap},children:[r.jsx("span",{className:"text-white",children:"Total"}),r.jsxs("span",{className:"text-emerald-400",children:["",y.toFixed(2)]})]}),r.jsx("a",{href:"tel:01292652043",className:"block text-center font-bold transition-all active:scale-95",style:{padding:U.pad,borderRadius:U.radius,fontSize:U.body,background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",textDecoration:"none",boxShadow:"0 4px 20px rgba(34,197,94,0.4)"},children:" Call to Order"}),r.jsx("p",{className:"text-center text-gray-500",style:{fontSize:U.tiny,marginTop:U.gapSmall},children:"01292 652 043"})]})]})]})]})]})]})}const fx="modulepreload",px=function(e){return"/"+e},od={},ze=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(o=>{if(o=px(o),o in od)return;od[o]=!0;const d=o.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${m}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":fx,d||(p.as="script"),p.crossOrigin="",p.href=o,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((u,v)=>{p.addEventListener("load",u),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},gs={energy:.5,warmth:.5,urgency:0,density:.3,tempo:.5,brightness:.5,formality:.5};function mx(e,t,n){return e+(t-e)*n}const xx=.08,gx=100;function Gh(e,t){const[n,s]=x.useState({...gs}),a=x.useRef({...gs}),l=x.useRef({...gs}),i=x.useRef(null);return x.useEffect(()=>(i.current=setInterval(()=>{const c=l.current,o=a.current;let d=!1;const m={...c};for(const p of Object.keys(gs)){const u=mx(c[p],o[p],xx),v=Math.round(u*1e3)/1e3;Math.abs(v-c[p])>.001&&(d=!0),m[p]=v}d&&(l.current=m,s(m))},gx),()=>{i.current&&clearInterval(i.current)}),[]),x.useEffect(()=>{const c=t;if(!c)return;const o=d=>{e&&d.locationId&&d.locationId!==e&&d.locationId!=="default"||d.mood&&(a.current={...d.mood})};return c.on("context:mood",o),()=>{c.off("context:mood",o)}},[t,e]),n}const yx={"task-complete":()=>ze(()=>import("./TaskCompleteTemplate-DcfuVTkJ.js"),__vite__mapDeps([0,1])).then(e=>e.TaskCompleteTemplate),alert:()=>ze(()=>import("./AlertTemplate-EsxtUeOI.js"),__vite__mapDeps([2,1])).then(e=>e.AlertTemplate),metrics:()=>ze(()=>import("./MetricsTemplate-C2D1CXwE.js"),__vite__mapDeps([3,1])).then(e=>e.MetricsTemplate),announcement:()=>ze(()=>import("./AnnouncementTemplate-sw2_tidV.js"),__vite__mapDeps([4,1])).then(e=>e.AnnouncementTemplate),"daily-digest":()=>ze(()=>import("./DailyDigestTemplate-DWmnQd8j.js"),__vite__mapDeps([5,1])).then(e=>e.DailyDigestTemplate),"welcome-display":()=>ze(()=>import("./WelcomeDisplayTemplate-D1IHHCO1.js"),[]).then(e=>e.WelcomeDisplayTemplate),"parking-rates":()=>ze(()=>import("./ParkingRatesTemplate-SCMjmJK8.js"),[]).then(e=>e.ParkingRatesTemplate),"multi-zone":()=>ze(()=>import("./MultiZoneTemplate-D77jBCy4.js"),[]).then(e=>e.MultiZoneTemplate),"announcement-rotator":()=>ze(()=>import("./AnnouncementRotatorTemplate-DDy3Wh48.js"),[]).then(e=>e.AnnouncementRotatorTemplate),"site-info":()=>ze(()=>import("./SiteInfoTemplate-KIYKnLgF.js"),[]).then(e=>e.SiteInfoTemplate),"announcement-board":()=>ze(()=>import("./AnnouncementBoardTemplate-abSqD58F.js"),[]).then(e=>e.AnnouncementBoardTemplate),"schedule-display":()=>ze(()=>import("./ScheduleDisplayTemplate-BHUozYTa.js"),[]).then(e=>e.ScheduleDisplayTemplate)};function vx(){return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:r.jsx("div",{className:"text-white text-xl animate-pulse",children:"Loading..."})})}function wx({template:e}){return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),r.jsx("div",{className:"text-white text-xl",children:"Template not found"}),r.jsx("div",{className:"text-gray-400 mt-2",children:e})]})})}function jx({config:e}){const[t,n]=x.useState(null),[s,a]=x.useState(!1);return x.useEffect(()=>{(async()=>{const i=yx[e.template];if(!i){a(!0);return}try{const c=await i();n(()=>c)}catch(c){console.error("Failed to load template:",c),a(!0)}})()},[e.template]),s?r.jsx(wx,{template:e.template}):t?r.jsx(t,{data:e.data}):r.jsx(vx,{})}const Nx={info:{bg:"from-blue-900/80 to-dark-900",border:"border-blue-500/50",icon:Mh,iconColor:"text-blue-400",pulse:!1,badge:"bg-blue-500/20 text-blue-400"},warning:{bg:"from-amber-900/60 to-dark-900",border:"border-amber-500/50",icon:ht,iconColor:"text-amber-400",pulse:!0,badge:"bg-amber-500/20 text-amber-400"},critical:{bg:"from-red-900/60 to-dark-900",border:"border-red-500/50",icon:ht,iconColor:"text-red-400",pulse:!0,badge:"bg-red-500/20 text-red-400"}};function kx({config:e}){const[t,n]=x.useState([]),s=e.level||"info",a=Nx[s];return a.icon,x.useEffect(()=>{if(!e.pullFromApi)return;const l=e.apiUrl||"http://localhost:3890/api/alerts",i=async()=>{try{const d=await(await fetch(l)).json();Array.isArray(d)?n(d.slice(0,5)):d.alerts&&n(d.alerts.slice(0,5))}catch(o){console.error("Failed to fetch security alerts:",o)}};i();const c=setInterval(i,e.refreshInterval||3e4);return()=>clearInterval(c)},[e.pullFromApi,e.apiUrl,e.refreshInterval]),r.jsxs("div",{className:`flex flex-col items-center justify-center h-full p-8 bg-gradient-to-b ${a.bg}`,children:[a.pulse&&r.jsx("div",{className:"absolute inset-0 border-4 border-red-500/30 animate-pulse rounded-none"}),r.jsx("div",{className:`mb-6 ${a.pulse?"animate-pulse":""}`,children:r.jsx(_a,{className:`w-20 h-20 ${a.iconColor}`})}),r.jsxs("div",{className:`${a.badge} px-4 py-1.5 rounded-full text-sm font-bold tracking-widest mb-6`,children:[e.escalationLevel?`LEVEL ${e.escalationLevel}`:s.toUpperCase()," ALERT"]}),r.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-4",style:{fontFamily:"Antonio, sans-serif"},children:e.title}),r.jsx("p",{className:"text-xl text-gray-300 text-center max-w-2xl mb-6",children:e.message}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.source&&r.jsxs("span",{children:["Source: ",e.source]}),e.timestamp&&r.jsx("span",{children:new Date(e.timestamp).toLocaleTimeString("en-GB")})]}),t.length>0&&r.jsxs("div",{className:"mt-8 w-full max-w-xl space-y-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider",children:"RECENT ALERTS"}),t.map((l,i)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(bo,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm text-white truncate",children:l.message||l.title}),r.jsx("div",{className:"text-xs text-gray-500",children:l.timestamp||l.time})]}),l.level&&r.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${l.level>=3?"bg-red-500/20 text-red-400":l.level>=2?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:["L",l.level]})]},i))]})]})}function bx({config:e}){const[t,n]=x.useState(null),[s,a]=x.useState(!0),l=e.refreshInterval||6e4;if(x.useEffect(()=>{const o=async()=>{const m=e.apiUrl||"http://localhost:3000";try{const[p,u]=await Promise.allSettled([fetch(`${m}/api/revenue/today${e.siteId?`?site=${e.siteId}`:""}`),fetch(`${m}/api/revenue/week${e.siteId?`?site=${e.siteId}`:""}`)]),v=p.status==="fulfilled"?await p.value.json():null,b=u.status==="fulfilled"?await u.value.json():null;n(v||b?{today:(v==null?void 0:v.total)||(v==null?void 0:v.revenue)||0,yesterday:(v==null?void 0:v.yesterday)||0,weekTotal:(b==null?void 0:b.total)||(b==null?void 0:b.revenue)||0,monthTotal:(b==null?void 0:b.monthTotal)||0,transactionCount:(v==null?void 0:v.count)||(v==null?void 0:v.transactions)||0,averageStay:(v==null?void 0:v.averageStay)||"N/A",recentTransactions:(v==null?void 0:v.recent)||[]}:{today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[{id:"1",amount:4.5,plate:"SA23 KRG",time:"14:32",site:"Kyle Rise"},{id:"2",amount:6,plate:"GN21 XWB",time:"14:15",site:"Kyle Rise"},{id:"3",amount:3,plate:"SD19 PPL",time:"13:48",site:"Kyle Surface"}]})}catch(p){console.error("Revenue fetch error:",p),n({today:342.5,yesterday:289,weekTotal:2145.8,monthTotal:8920.5,transactionCount:47,averageStay:"2h 15m",recentTransactions:[]})}a(!1)};o();const d=setInterval(o,l);return()=>clearInterval(d)},[e.apiUrl,e.siteId,l]),s||!t)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-gray-500",children:"Loading revenue data..."})});const i=t.yesterday>0?((t.today-t.yesterday)/t.yesterday*100).toFixed(1):"0",c=parseFloat(i)>=0;return r.jsxs("div",{className:"flex flex-col h-full p-8",style:{fontFamily:"Antonio, sans-serif"},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(Jc,{className:"w-8 h-8 text-accent"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white tracking-wider",children:e.siteName||"REVENUE"}),r.jsx("p",{className:"text-sm text-gray-500",children:"POS Overview"})]})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"text-6xl font-bold text-white mb-2",children:["",t.today.toFixed(2)]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg",children:[c?r.jsx(Pa,{className:"w-5 h-5 text-green-400"}):r.jsx($h,{className:"w-5 h-5 text-red-400"}),r.jsxs("span",{className:c?"text-green-400":"text-red-400",children:[c?"+":"",i,"%"]}),r.jsx("span",{className:"text-gray-500",children:"vs yesterday"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(ys,{label:"YESTERDAY",value:`${t.yesterday.toFixed(2)}`}),r.jsx(ys,{label:"THIS WEEK",value:`${t.weekTotal.toFixed(2)}`}),r.jsx(ys,{label:"TRANSACTIONS",value:t.transactionCount.toString(),icon:r.jsx(Eo,{className:"w-4 h-4"})}),r.jsx(ys,{label:"AVG STAY",value:t.averageStay,icon:r.jsx(Wt,{className:"w-4 h-4"})})]}),e.showTransactions!==!1&&t.recentTransactions.length>0&&r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider mb-3",children:"RECENT"}),r.jsx("div",{className:"space-y-2",children:t.recentTransactions.map(o=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(Jc,{className:"w-4 h-4 text-accent flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"text-sm text-white",children:["",o.amount.toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[o.plate||"Cash","  ",o.site]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:o.time})]},o.id))})]})]})}function ys({label:e,value:t,icon:n}){return r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-4 text-center",children:[n&&r.jsx("div",{className:"flex justify-center mb-1 text-gray-500",children:n}),r.jsx("div",{className:"text-xl font-bold text-white",children:t}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 tracking-wider",children:e})]})}function Sx(e,t){if(e.urgency>.6)return" Stay alert  I'm monitoring!";if(e.urgency>.3)return" Keeping watch...";if(t){const s=t.condition.toLowerCase();if(s.includes("snow"))return` ${t.temp}C  Brrr! Watch for ice!`;if(s.includes("rain")||s.includes("drizzle"))return` ${t.temp}C  Stay dry out there!`;if(s.includes("thunder"))return" Storm warning  park safely!";if(t.temp<2)return` ${t.temp}C  Wrap up warm!`;if(t.temp>25)return` ${t.temp}C  Stay cool!`;if(s.includes("sun")||s.includes("clear"))return` ${t.temp}C  Beautiful day!`}const n=new Date().getHours();return n<6?" All quiet on the night watch":n<9&&e.energy>.5?" Good morning! Have a great day!":n<12?" Plenty of spaces  park easy!":n<14?" Lunchtime! Your car's safe with me":n<17?" Afternoon! Need any help?":n<20?" Good evening! Drive safely":n<22?" Evening watch  all systems normal":" Night mode  I'm still watching!"}function Cx(e,t){const n=new Date().getHours(),s=n<6||n>=22,a=s&&e.energy<.3;let l="none";if(t){const c=t.condition.toLowerCase();c.includes("rain")||c.includes("drizzle")?l="umbrella":t.temp<5?l="scarf":c.includes("sun")&&t.temp>18&&(l="sunglasses")}e.urgency>.5&&(l="shield"),s&&e.urgency<.3&&(l="torch"),e.tempo>.7&&(l="headphones");const i=30+e.warmth*20;return{eyeSize:.8+e.energy*.4,eyeOpenness:a?.2:.5+e.energy*.5,pupilX:Math.sin(Date.now()/3e3)*.3,pupilY:e.urgency>.3?-.3:0,mouthCurve:e.urgency>.5?-.3:.2+e.energy*.6,mouthOpen:e.tempo>.6?.5:.1,bodyBob:2+(1-e.tempo)*4,bodyTilt:a?8:0,blushOpacity:e.warmth>.6?.3:0,glowColor:`hsl(${i}, 70%, 50%)`,glowIntensity:.1+e.energy*.2,accessory:l,antennaWiggle:1+(1-e.energy)*3}}function Ex({config:e}){const t=Gh(e.locationId),[n,s]=x.useState(e.weather||null),[a,l]=x.useState(0),i=e.brandColor||"#FF9900",c=e.size||"medium",o=e.showSpeechBubble!==!1;x.useEffect(()=>{if(e.weather)return;const y=async()=>{var f,w,_;try{const g=(f=(await(await fetch("https://wttr.in/Ayr?format=j1")).json()).current_condition)==null?void 0:f[0];g&&s({condition:((_=(w=g.weatherDesc)==null?void 0:w[0])==null?void 0:_.value)||"",temp:parseInt(g.temp_C)})}catch{}};y();const h=setInterval(y,6e5);return()=>clearInterval(h)},[e.weather]),x.useEffect(()=>{const y=setInterval(()=>l(h=>h+1),100);return()=>clearInterval(y)},[]);const d=x.useMemo(()=>Cx(t,n||void 0),[t,n,a]),m=x.useMemo(()=>Sx(t,n||void 0),[t,n]),p={small:{w:200,h:280},medium:{w:300,h:420},large:{w:400,h:560},fullscreen:{w:500,h:700}},{w:u,h:v}=p[c],M=Math.floor(a/30)%20===0?.05:d.eyeOpenness;return r.jsxs("div",{className:`flex flex-col items-center justify-center ${e.overlay?"":"h-full"}`,style:{background:e.overlay?"transparent":"var(--mood-bg, #0a0a0f)"},children:[o&&r.jsxs("div",{className:"relative mb-4 px-6 py-3 rounded-2xl max-w-sm text-center transition-all duration-1000",style:{background:`${i}20`,border:`1px solid ${i}40`,color:"#e0e0e0",fontSize:c==="small"?"12px":"16px",fontFamily:"system-ui, sans-serif"},children:[m,r.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rotate-45",style:{background:`${i}20`,borderRight:`1px solid ${i}40`,borderBottom:`1px solid ${i}40`}})]}),r.jsxs("svg",{width:u,height:v,viewBox:"0 0 200 280",className:"transition-transform duration-1000",style:{transform:`rotate(${d.bodyTilt}deg)`,filter:`drop-shadow(0 0 ${20+d.glowIntensity*40}px ${d.glowColor})`},children:[r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"bodyGlow",children:[r.jsx("stop",{offset:"0%",stopColor:i,stopOpacity:d.glowIntensity}),r.jsx("stop",{offset:"100%",stopColor:i,stopOpacity:"0"})]}),r.jsxs("linearGradient",{id:"bodyGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#3a3a5c"}),r.jsx("stop",{offset:"100%",stopColor:"#22223a"})]}),r.jsxs("linearGradient",{id:"headGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#4a4a6c"}),r.jsx("stop",{offset:"100%",stopColor:"#2a2a4a"})]}),r.jsxs("linearGradient",{id:"visorGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#1a1a2e"}),r.jsx("stop",{offset:"100%",stopColor:"#0a0a1a"})]})]}),r.jsx("circle",{cx:"100",cy:"140",r:"90",fill:"url(#bodyGlow)"}),r.jsxs("g",{style:{animation:`mascotBob ${d.bodyBob}s ease-in-out infinite`,transformOrigin:"100px 140px"},children:[r.jsx("rect",{x:"65",y:"155",width:"70",height:"75",rx:"20",fill:"url(#bodyGrad)",stroke:i,strokeWidth:"1.5",strokeOpacity:"0.3"}),r.jsx("rect",{x:"90",y:"160",width:"20",height:"30",rx:"5",fill:i,opacity:"0.3"}),r.jsx("rect",{x:"45",y:"165",width:"18",height:"45",rx:"9",fill:"#2a2a4a",stroke:i,strokeWidth:"1",strokeOpacity:"0.2",children:r.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-5,54,165;5,54,165;-5,54,165",dur:`${d.bodyBob*1.5}s`,repeatCount:"indefinite"})}),r.jsx("rect",{x:"137",y:"165",width:"18",height:"45",rx:"9",fill:"#2a2a4a",stroke:i,strokeWidth:"1",strokeOpacity:"0.2",children:r.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"5,146,165;-5,146,165;5,146,165",dur:`${d.bodyBob*1.5}s`,repeatCount:"indefinite"})}),r.jsx("rect",{x:"75",y:"225",width:"18",height:"30",rx:"9",fill:"#2a2a4a"}),r.jsx("rect",{x:"107",y:"225",width:"18",height:"30",rx:"9",fill:"#2a2a4a"}),r.jsx("ellipse",{cx:"84",cy:"258",rx:"14",ry:"6",fill:"#22223a"}),r.jsx("ellipse",{cx:"116",cy:"258",rx:"14",ry:"6",fill:"#22223a"}),r.jsx("rect",{x:"55",y:"70",width:"90",height:"80",rx:"25",fill:"url(#headGrad)",stroke:i,strokeWidth:"1.5",strokeOpacity:"0.3"}),r.jsx("rect",{x:"65",y:"85",width:"70",height:"45",rx:"15",fill:"url(#visorGrad)",stroke:i,strokeWidth:"1",strokeOpacity:"0.4"}),r.jsxs("g",{className:"transition-all duration-300",children:[r.jsx("ellipse",{cx:"85",cy:105+(1-M)*5,rx:8*d.eyeSize,ry:10*M*d.eyeSize,fill:"white",opacity:"0.95"}),r.jsx("circle",{cx:85+d.pupilX*3,cy:105+d.pupilY*2,r:4*d.eyeSize,fill:t.urgency>.5?"#ef4444":i}),r.jsx("circle",{cx:87+d.pupilX*2,cy:103,r:1.5,fill:"white",opacity:"0.8"}),r.jsx("ellipse",{cx:"115",cy:105+(1-M)*5,rx:8*d.eyeSize,ry:10*M*d.eyeSize,fill:"white",opacity:"0.95"}),r.jsx("circle",{cx:115+d.pupilX*3,cy:105+d.pupilY*2,r:4*d.eyeSize,fill:t.urgency>.5?"#ef4444":i}),r.jsx("circle",{cx:117+d.pupilX*2,cy:103,r:1.5,fill:"white",opacity:"0.8"})]}),r.jsx("circle",{cx:"72",cy:"115",r:"6",fill:"#ff6b6b",opacity:d.blushOpacity}),r.jsx("circle",{cx:"128",cy:"115",r:"6",fill:"#ff6b6b",opacity:d.blushOpacity}),r.jsx("path",{d:d.mouthOpen>.3?`M 88,${122-d.mouthCurve*3} Q 100,${128+d.mouthCurve*8} 112,${122-d.mouthCurve*3} Q 100,${130+d.mouthOpen*5} 88,${122-d.mouthCurve*3}`:`M 88,${122-d.mouthCurve*3} Q 100,${122+d.mouthCurve*8} 112,${122-d.mouthCurve*3}`,fill:d.mouthOpen>.3?"#1a1a2e":"none",stroke:i,strokeWidth:"2",strokeOpacity:"0.6",strokeLinecap:"round"}),r.jsx("line",{x1:"100",y1:"70",x2:"100",y2:"52",stroke:"#4a4a6c",strokeWidth:"3",strokeLinecap:"round",children:r.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"-3,100,70;3,100,70;-3,100,70",dur:`${d.antennaWiggle}s`,repeatCount:"indefinite"})}),r.jsx("circle",{cx:"100",cy:"48",r:"5",fill:i,opacity:"0.8",children:r.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"})}),d.accessory==="umbrella"&&r.jsxs("g",{transform:"translate(140, 60)",children:[r.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"70",stroke:"#666",strokeWidth:"2"}),r.jsx("path",{d:"M -25,-5 Q 0,-30 25,-5",fill:i,opacity:"0.6",stroke:i,strokeWidth:"1"})]}),d.accessory==="scarf"&&r.jsxs("g",{children:[r.jsx("path",{d:"M 70,145 Q 100,155 130,145 L 135,165 Q 100,175 65,165 Z",fill:"#ef4444",opacity:"0.7"}),r.jsx("rect",{x:"125",y:"150",width:"12",height:"30",rx:"4",fill:"#ef4444",opacity:"0.6",transform:"rotate(15, 131, 165)"})]}),d.accessory==="sunglasses"&&r.jsxs("g",{children:[r.jsx("rect",{x:"70",y:"95",width:"24",height:"16",rx:"4",fill:"#1a1a1a",stroke:"#333",strokeWidth:"1"}),r.jsx("rect",{x:"106",y:"95",width:"24",height:"16",rx:"4",fill:"#1a1a1a",stroke:"#333",strokeWidth:"1"}),r.jsx("line",{x1:"94",y1:"103",x2:"106",y2:"103",stroke:"#333",strokeWidth:"1.5"})]}),d.accessory==="torch"&&r.jsxs("g",{transform:"translate(38, 175) rotate(-30)",children:[r.jsx("rect",{x:"-3",y:"0",width:"6",height:"25",rx:"2",fill:"#666"}),r.jsx("circle",{cx:"0",cy:"-3",r:"5",fill:"#ffd700",opacity:"0.8",children:r.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"1.5s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"0",cy:"-3",r:"12",fill:"#ffd700",opacity:"0.15",children:r.jsx("animate",{attributeName:"r",values:"10;15;10",dur:"2s",repeatCount:"indefinite"})})]}),d.accessory==="shield"&&r.jsxs("g",{transform:"translate(42, 170)",children:[r.jsx("path",{d:"M 0,-10 L 12,-5 L 12,10 Q 6,18 0,20 Q -6,18 -12,10 L -12,-5 Z",fill:i,opacity:"0.7",stroke:i,strokeWidth:"1"}),r.jsx("text",{x:"0",y:"8",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"!"})]}),d.accessory==="headphones"&&r.jsxs("g",{children:[r.jsx("path",{d:"M 58,90 Q 58,60 100,55 Q 142,60 142,90",fill:"none",stroke:"#444",strokeWidth:"5",strokeLinecap:"round"}),r.jsx("rect",{x:"48",y:"85",width:"14",height:"20",rx:"5",fill:"#333",stroke:i,strokeWidth:"1",strokeOpacity:"0.5"}),r.jsx("rect",{x:"138",y:"85",width:"14",height:"20",rx:"5",fill:"#333",stroke:i,strokeWidth:"1",strokeOpacity:"0.5"})]})]}),r.jsx("style",{children:`
          @keyframes mascotBob {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
          }
        `})]}),e.characterName&&r.jsx("div",{className:"mt-2 text-sm tracking-widest uppercase opacity-50",style:{color:i,fontFamily:"Antonio, sans-serif"},children:e.characterName})]})}const Tx="/video";function _x({playlist:e,showControls:t=!1,onComplete:n,onInterrupt:s}){const[a,l]=x.useState(0),[i,c]=x.useState(!0),[o,d]=x.useState(0),[m,p]=x.useState(!1),[u,v]=x.useState(!1),b=x.useRef(null),E=x.useRef(null),M=x.useRef(Date.now()),y=e.items[a],h=e.items.length,f=x.useCallback(()=>{a>=h-1?e.loop?(p(!0),setTimeout(()=>{l(0),d(0),M.current=Date.now(),p(!1)},500)):(c(!1),n==null||n()):(p(!0),setTimeout(()=>{l(g=>g+1),d(0),M.current=Date.now(),p(!1)},500))},[a,h,e.loop,n]),w=x.useCallback(()=>{a>0&&(p(!0),setTimeout(()=>{l(g=>g-1),d(0),M.current=Date.now(),p(!1)},500))},[a]);x.useEffect(()=>{if(!i||!y||y.contentType==="video")return;const g=y.duration*1e3;M.current=Date.now();const T=()=>{const N=Date.now()-M.current,F=Math.min(N/g*100,100);d(F),N>=g?f():E.current=requestAnimationFrame(T)};return E.current=requestAnimationFrame(T),()=>{E.current&&cancelAnimationFrame(E.current)}},[a,i,y,f]);const _=x.useCallback(()=>{f()},[f]),L=x.useCallback(()=>{if(b.current){const g=b.current.currentTime/b.current.duration*100;d(g)}},[]);if(x.useEffect(()=>{b.current&&(i?b.current.play().catch(()=>{}):b.current.pause())},[i,a]),x.useEffect(()=>{b.current&&(b.current.muted=u)},[u]),!y)return r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-dark-900 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),r.jsx("p",{children:"Empty playlist"})]})});const j=()=>e.transition==="none"?"":e.transition==="fade"?m?"opacity-0":"opacity-100":e.transition==="slide"?m?"-translate-x-full":"translate-x-0":"";return r.jsxs("div",{className:"w-full h-full relative overflow-hidden bg-dark-900",children:[r.jsx("div",{className:`w-full h-full transition-all duration-500 ${j()}`,children:r.jsx(Px,{item:y,videoRef:b,onVideoEnded:_,onVideoTimeUpdate:L,isPlaying:i,isMuted:u})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-dark-800/50",children:r.jsx("div",{className:"h-full bg-accent transition-all duration-100",style:{width:`${o}%`}})}),h>1&&r.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2",children:e.items.map((g,T)=>r.jsx("button",{onClick:()=>{p(!0),setTimeout(()=>{l(T),d(0),M.current=Date.now(),p(!1)},300)},className:`h-2 rounded-full transition-all ${T===a?"bg-accent w-8":"bg-white/30 w-2 hover:bg-white/50"}`},T))}),t&&r.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[r.jsxs("div",{className:"bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:[a+1," / ",h,"  ",y.name]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2",children:[r.jsx("button",{onClick:w,disabled:a===0,className:"p-1 hover:bg-dark-600 rounded disabled:opacity-30",children:r.jsx(q0,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>c(!i),className:"p-2 bg-accent text-dark-900 rounded-full hover:bg-accent-dim",children:i?r.jsx(B0,{className:"w-4 h-4"}):r.jsx(tt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:f,className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(zh,{className:"w-4 h-4"})}),r.jsx("div",{className:"w-px h-4 bg-dark-600 mx-1"}),r.jsx("button",{onClick:()=>v(!u),className:"p-1 hover:bg-dark-600 rounded",children:u?r.jsx(Hh,{className:"w-4 h-4"}):r.jsx(Vh,{className:"w-4 h-4"})}),r.jsx("div",{className:`p-1 rounded ${e.loop?"text-accent":"text-gray-500"}`,children:r.jsx(H0,{className:"w-4 h-4"})})]})]})]})}function Px({item:e,videoRef:t,onVideoEnded:n,onVideoTimeUpdate:s,isPlaying:a,isMuted:l}){var i;switch(e.contentType){case"video":const c=e.url||`${Tx}/${e.contentId}.mp4`;return r.jsx("video",{ref:t,src:c,className:"w-full h-full object-contain bg-black",autoPlay:a,muted:l,onEnded:n,onTimeUpdate:s,playsInline:!0});case"template":case"url":const o=e.url||((i=e.config)==null?void 0:i.url)||"";return r.jsx("iframe",{src:o,className:"w-full h-full border-0",title:e.name,allow:"autoplay"});case"widget":return r.jsx(Lx,{widget:e.widget||"",config:e.config||{}});default:return r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xl",children:"Unknown content type"}),r.jsx("p",{className:"text-sm mt-2",children:e.contentType})]})})}}function Lx({widget:e,config:t}){switch(e){case"clock":return r.jsx(La,{config:t});case"weather":return r.jsx(Ia,{config:t});case"camera":return r.jsx(Aa,{config:t});case"camera-grid":return r.jsx(Oa,{config:t});case"stats":return r.jsx(Ra,{config:t});case"occupancy":return r.jsx(Ma,{config:t});case"iframe":return r.jsx(Da,{config:t});case"layout":return r.jsx(Fa,{config:t});case"operations-dashboard":return r.jsx(Oo,{config:t});default:return r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-xl",children:["Unknown widget: ",e]}),r.jsx("pre",{className:"text-sm mt-2",children:JSON.stringify(t,null,2)})]})})}}function Ax({screens:e}){var l;const[t,n]=x.useState(null);x.useEffect(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(console.error);const i=setInterval(()=>{fetch("/api/dashboard/stats").then(c=>c.json()).then(c=>{c.success&&n(c.data)}).catch(()=>{})},1e4);return()=>clearInterval(i)},[]);const s=e.filter(i=>i.connected).length,a=e.length-s;return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"lcars-bar h-2 w-32"}),r.jsx("h1",{className:"text-2xl font-bold tracking-widest text-accent",children:"SYSTEM STATUS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent/30 to-transparent"}),r.jsx("span",{className:"text-xs text-gray-500 tracking-wider",children:new Date().toLocaleTimeString("en-GB")})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx(gn,{icon:We,label:"TOTAL SCREENS",value:(t==null?void 0:t.screens.total)??e.length,color:"accent"}),r.jsx(gn,{icon:Wn,label:"ONLINE",value:s,color:"green"}),r.jsx(gn,{icon:$0,label:"OFFLINE",value:a,color:"red"}),r.jsx(gn,{icon:oa,label:"PLAYLISTS",value:(t==null?void 0:t.playlists.total)??0,color:"amber"}),r.jsx(gn,{icon:vt,label:"LOCATIONS",value:(t==null?void 0:t.locations.total)??0,color:"teal"}),r.jsx(gn,{icon:So,label:"SCHEDULES",value:(t==null?void 0:t.schedules.active)??0,color:"pink"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4 text-accent"}),"SCREEN STATUS"]}),r.jsx("div",{className:"space-y-2",children:e.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No screens registered"}):e.map(i=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${i.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:i.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[i.id,"  ",i.location_name||"No location"]})]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:i.connected?"ONLINE":"OFFLINE"}),i.connected&&i.currentMode&&r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:i.currentMode.toUpperCase()}),i.last_seen&&r.jsx("span",{className:"text-xs text-gray-600",children:Ox(i.last_seen)})]},i.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(vt,{className:"w-4 h-4 text-lcars-teal"}),"LOCATIONS"]}),r.jsx("div",{className:"space-y-3",children:((l=t==null?void 0:t.screensByLocation)==null?void 0:l.map((i,c)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:i.location}),r.jsx("span",{className:"text-sm text-accent font-bold",children:i.count})]},c)))||r.jsx("p",{className:"text-gray-500 text-xs",children:"Loading..."})})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Ta,{className:"w-4 h-4 text-lcars-purple"}),"CONTENT LIBRARY"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Widgets"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.widgets)??18})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Templates"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.content.templates)??5})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Playlists"}),r.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.playlists.total)??0})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(Wn,{className:"w-4 h-4 text-accent"}),"QUICK ACTIONS"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(wl,{label:"Reload All Screens",color:"accent",onClick:()=>fetch("/api/reload-all",{method:"POST"})}),r.jsx(wl,{label:"Clear All Screens",color:"red",onClick:()=>fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all"})})}),r.jsx(wl,{label:"Push Test Alert",color:"amber",onClick:()=>fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:"all",message:"System test",level:"info",duration:5e3})})})]})]})]})]})]})}function gn({icon:e,label:t,value:n,color:s}){const a={accent:"bg-accent/10 text-accent border-accent/20",green:"bg-green-500/10 text-green-400 border-green-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",teal:"bg-teal-500/10 text-teal-400 border-teal-500/20",pink:"bg-pink-500/10 text-pink-400 border-pink-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20"};return r.jsxs("div",{className:`rounded-xl border p-4 ${a[s]||a.accent}`,children:[r.jsx(e,{className:"w-5 h-5 mb-2 opacity-70"}),r.jsx("div",{className:"text-3xl font-bold",children:n}),r.jsx("div",{className:"text-xs tracking-wider opacity-60 mt-1",children:t})]})}function wl({label:e,color:t,onClick:n}){const s={accent:"hover:bg-accent/20 hover:text-accent hover:border-accent/40",red:"hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/40",amber:"hover:bg-amber-500/20 hover:text-amber-400 hover:border-amber-500/40"};return r.jsx("button",{onClick:n,className:`w-full text-left text-sm px-3 py-2 rounded-lg border border-dark-600 text-gray-400 transition ${s[t]}`,children:e})}function Ox(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}function Ix({screens:e,onRefresh:t}){const[n,s]=x.useState("all"),[a,l]=x.useState(""),[i,c]=x.useState(""),[o,d]=x.useState(null),[m,p]=x.useState({name:"",location_id:"",group_id:""}),[u,v]=x.useState([]),[b,E]=x.useState(""),[M,y]=x.useState(""),[h,f]=x.useState(new Set),[w,_]=x.useState("list");x.useEffect(()=>{fetch("/api/locations").then(C=>C.json()).then(C=>{C.success&&v(C.data)}).catch(()=>{})},[]);const L=e.filter(C=>!(b&&C.location_id!==b||M==="online"&&!C.connected||M==="offline"&&C.connected)),j=e.filter(C=>C.connected).length,g=async()=>{a&&(await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,type:"url",content:{url:a}})}),l(""))},T=async()=>{i&&(await fetch("/api/push/alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n,message:i,level:"info",duration:1e4})}),c(""))},N=async()=>{const C=h.size>0?Array.from(h):[n];for(const A of C)await fetch("/api/reload-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:A})})},F=async()=>{await fetch("/api/push/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:n})})},V=async C=>{confirm(`Delete screen "${C}"?`)&&(await fetch(`/api/screens/${C}`,{method:"DELETE"}),t())},H=C=>{d(C.id),p({name:C.name,location_id:C.location_id||"",group_id:C.group_id})},S=async()=>{o&&(await fetch(`/api/screens/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),d(null),t())},k=async(C,A)=>{await fetch(`/api/screens/${C}/mode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:A})})},D=C=>{f(A=>{const z=new Set(A);return z.has(C)?z.delete(C):z.add(C),z})};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"lcars-bar h-2 w-24"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-blue",children:"SCREEN CONTROL"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-500/30 to-transparent"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[j," online / ",e.length," total"]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"xl:col-span-3 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(P0,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:b,onChange:C=>E(C.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[r.jsx("option",{value:"",children:"All Locations"}),u.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]}),r.jsxs("select",{value:M,onChange:C=>y(C.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm text-gray-300",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[h.size>0&&r.jsxs("span",{className:"text-xs text-accent px-2 py-1 bg-accent/10 rounded-lg",children:[h.size," selected"]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400",children:r.jsx(qt,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[L.map(C=>r.jsx("div",{className:`glass glass-hover rounded-xl transition-all ${h.has(C.id)?"ring-1 ring-accent/50 bg-accent/5":""} ${n===C.id?"ring-1 ring-blue-500/50":""}`,children:r.jsxs("div",{className:"flex items-center gap-4 p-4",children:[r.jsx("input",{type:"checkbox",checked:h.has(C.id),onChange:()=>D(C.id),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent focus:ring-accent"}),r.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${C.connected?"bg-green-500 animate-pulse":"bg-gray-600"}`}),r.jsx("div",{className:"flex-1 min-w-0",children:o===C.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:m.name,onChange:A=>p(z=>({...z,name:A.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm w-48",autoFocus:!0}),r.jsxs("select",{value:m.location_id,onChange:A=>p(z=>({...z,location_id:A.target.value})),className:"bg-dark-700 border border-dark-500 rounded px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"No Location"}),u.map(A=>r.jsx("option",{value:A.id,children:A.name},A.id))]}),r.jsx("button",{onClick:S,className:"p-1 text-green-400 hover:bg-green-500/20 rounded",children:r.jsx(Kr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>d(null),className:"p-1 text-gray-400 hover:bg-dark-600 rounded",children:r.jsx(Ni,{className:"w-4 h-4"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:C.name}),C.currentMode&&C.connected&&r.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${C.currentMode==="interactive"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:C.currentMode.toUpperCase()})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[r.jsx("span",{children:C.id}),C.location_name&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(vt,{className:"w-3 h-3"}),r.jsx("span",{children:C.location_name})]}),C.last_seen&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:Mx(C.last_seen)})]})]})]})}),r.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${C.connected?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:C.connected?"ONLINE":"OFFLINE"}),r.jsxs("div",{className:"flex items-center gap-1",children:[C.connected&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>k(C.id,"signage"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-blue-400 transition",title:"Signage Mode",children:r.jsx(ji,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>k(C.id,"interactive"),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-purple-400 transition",title:"Interactive Mode",children:r.jsx(G0,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>s(C.id),className:`p-1.5 rounded transition ${n===C.id?"bg-accent/20 text-accent":"hover:bg-dark-600 text-gray-500 hover:text-accent"}`,title:"Set as push target",children:r.jsx(Zc,{className:"w-3.5 h-3.5"})})]}),r.jsx("button",{onClick:()=>H(C),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:r.jsx(Vn,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>V(C.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:r.jsx(Gt,{className:"w-3.5 h-3.5"})})]})]})},C.id)),L.length===0&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(We,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No screens match filters"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Zc,{className:"w-4 h-4 text-accent"}),"PUSH CONTENT"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),r.jsx("option",{value:"office",children:"Office Group"}),r.jsx("option",{value:"kiosk",children:"Kiosk Group"}),e.map(C=>r.jsxs("option",{value:C.id,children:[C.name," ",C.connected?"":""]},C.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"URL to push...",value:a,onChange:C=>l(C.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:C=>C.key==="Enter"&&g()}),r.jsx("button",{onClick:g,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg font-medium text-sm hover:bg-accent-dim transition",children:"Push"})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"PUSH ALERT"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Alert message...",value:i,onChange:C=>c(C.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",onKeyDown:C=>C.key==="Enter"&&T()}),r.jsx("button",{onClick:T,className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium text-sm hover:bg-amber-700 transition",children:"Alert"})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"ACTIONS"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-accent/40 transition",children:[r.jsx(qt,{className:"w-4 h-4"})," Reload Screens"]}),r.jsxs("button",{onClick:F,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 hover:text-white hover:border-red-500/40 transition",children:[r.jsx(Ni,{className:"w-4 h-4"})," Clear Screens"]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"QUICK PUSH"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Clock",widget:"clock",config:{}},{label:"Weather",widget:"weather",config:{location:"Ayr, Scotland"}},{label:"Occupancy",widget:"occupancy",config:{siteName:"Kyle Rise",capacity:50}},{label:"Test Card",widget:"testcard",config:{}},{label:"Ops Dashboard",widget:"operations-dashboard",config:{}},{label:"Team Feed",widget:"team-activity",config:{}}].map(C=>r.jsx("button",{onClick:()=>Rx(n,C.widget,C.config),className:"text-xs px-2 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:C.label},C.widget))})]}),r.jsxs("div",{className:"glass rounded-xl p-5",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3",children:"LINKS"}),r.jsxs("div",{className:"space-y-1.5 text-sm",children:[r.jsx("a",{href:"?screen=test",className:"block text-accent hover:underline",children:" Open test display"}),r.jsx("a",{href:"/api/health",target:"_blank",className:"block text-gray-400 hover:text-white",children:" API Health"}),r.jsx("a",{href:"/api/screens",target:"_blank",className:"block text-gray-400 hover:text-white",children:" Screens API"})]})]})]})]})]})}async function Rx(e,t,n){await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:e,widget:t,config:n})})}function Mx(e){const t=Date.now()-e;return t<6e4?"just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`}const Dx=["fade","slide","none"];function Fx({screens:e}){const[t,n]=x.useState([]),[s,a]=x.useState([]),[l,i]=x.useState(null),[c,o]=x.useState(!1),[d,m]=x.useState({name:"",description:"",transition:"fade",loop:!0}),[p,u]=x.useState([]),[v,b]=x.useState(!1),[E,M]=x.useState("all"),y=x.useCallback(async()=>{const k=await(await fetch("/api/playlists")).json();k.success&&n(k.data)},[]),h=x.useCallback(async()=>{const k=await(await fetch("/api/content/widgets")).json();k.success&&a(k.data)},[]);x.useEffect(()=>{y(),h()},[y,h]);const f=t.find(S=>S.id===l),w=()=>{b(!0),o(!0),i(null),m({name:"",description:"",transition:"fade",loop:!0}),u([])},_=S=>{i(S.id),o(!0),b(!1),m({name:S.name,description:S.description,transition:S.transition,loop:S.loop}),u([...S.items])},L=()=>{o(!1),b(!1)},j=async()=>{const S={name:d.name,description:d.description,items:p,transition:d.transition,loop:d.loop};v?await fetch("/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}):l&&await fetch(`/api/playlists/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),o(!1),b(!1),y()},g=async S=>{confirm("Delete this playlist?")&&(await fetch(`/api/playlists/${S}`,{method:"DELETE"}),l===S&&i(null),y())},T=async S=>{await fetch(`/api/playlists/${S}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:E})})},N=(S,k)=>{var A,z;const C={id:`item-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,contentType:S,widget:k||void 0,config:k?((A=s.find(B=>B.id===k))==null?void 0:A.defaultConfig)||{}:{},duration:30,name:k?((z=s.find(B=>B.id===k))==null?void 0:z.name)||k:"URL Item",url:S==="url"?"":void 0};u(B=>[...B,C])},F=S=>{u(k=>k.filter((D,C)=>C!==S))},V=(S,k)=>{if(k==="up"&&S===0||k==="down"&&S===p.length-1)return;const D=[...p],C=k==="up"?S-1:S+1;[D[S],D[C]]=[D[C],D[S]],u(D)},H=(S,k)=>{u(D=>D.map((C,A)=>A===S?{...C,...k}:C))};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-amber-500 to-amber-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-amber",children:"PLAYLISTS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-amber-500/30 to-transparent"}),r.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Hn,{className:"w-4 h-4"})," New Playlist"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[t.length===0?r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(Ta,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No playlists yet"}),r.jsx("button",{onClick:w,className:"mt-3 text-accent text-sm hover:underline",children:"Create one "})]}):t.map(S=>r.jsx("div",{onClick:()=>{i(S.id),o(!1),b(!1)},className:`glass glass-hover rounded-xl p-4 cursor-pointer transition-all ${l===S.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:S.name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[S.items.length," items  ",S.transition,"  ",S.loop?"loop":"once"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:k=>{k.stopPropagation(),T(S.id)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-green-400 transition",title:"Push",children:r.jsx(tt,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:k=>{k.stopPropagation(),_(S)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",title:"Edit",children:r.jsx(Vn,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:k=>{k.stopPropagation(),g(S.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",title:"Delete",children:r.jsx(Gt,{className:"w-3.5 h-3.5"})})]})]})},S.id)),r.jsxs("div",{className:"glass rounded-xl p-4 mt-4",children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"PUSH TARGET"}),r.jsxs("select",{value:E,onChange:S=>M(S.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),e.map(S=>r.jsxs("option",{value:S.id,children:[S.name," ",S.connected?"":""]},S.id))]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:c?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:v?"New Playlist":"Edit Playlist"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:L,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white transition",children:"Cancel"}),r.jsxs("button",{onClick:j,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),r.jsx("input",{value:d.name,onChange:S=>m(k=>({...k,name:S.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Playlist name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TRANSITION"}),r.jsx("select",{value:d.transition,onChange:S=>m(k=>({...k,transition:S.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:Dx.map(S=>r.jsx("option",{value:S,children:S},S))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"DESCRIPTION"}),r.jsx("input",{value:d.description,onChange:S=>m(k=>({...k,description:S.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Optional description..."})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.loop,onChange:S=>m(k=>({...k,loop:S.target.checked})),className:"w-4 h-4 rounded border-dark-500 bg-dark-700 text-accent"}),"Loop playlist"]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-400 tracking-wider",children:["ITEMS (",p.length,")"]}),p.map((S,k)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg group",children:[r.jsx(O0,{className:"w-4 h-4 text-gray-600 cursor-grab"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("input",{value:S.name,onChange:D=>H(k,{name:D.target.value}),className:"bg-transparent text-sm font-medium w-full outline-none",placeholder:"Item name"}),S.contentType==="url"&&r.jsx("input",{value:S.url||"",onChange:D=>H(k,{url:D.target.value}),className:"bg-dark-600 mt-1 text-xs px-2 py-1 rounded w-full outline-none",placeholder:"https://..."}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.contentType," ",S.widget?` ${S.widget}`:""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3 text-gray-500"}),r.jsx("input",{type:"number",value:S.duration,onChange:D=>H(k,{duration:Number(D.target.value)}),className:"w-14 bg-dark-600 text-center text-xs px-1 py-1 rounded",min:5,max:600}),r.jsx("span",{className:"text-xs text-gray-500",children:"s"})]}),r.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{onClick:()=>V(k,"up"),className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(To,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>V(k,"down"),className:"p-1 hover:bg-dark-600 rounded",children:r.jsx(Ea,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>F(k),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400",children:r.jsx(Gt,{className:"w-3 h-3"})})]})]},S.id))]}),r.jsxs("div",{className:"border-t border-dark-600 pt-4",children:[r.jsx("h4",{className:"text-xs text-gray-500 tracking-wider mb-2",children:"ADD WIDGET"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.map(S=>r.jsx("button",{onClick:()=>N("widget",S.id),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:S.name},S.id)),r.jsx("button",{onClick:()=>N("url"),className:"text-xs px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-blue-500/30 transition",children:"+ URL"})]})]})]}):f?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:f.name}),r.jsx("p",{className:"text-sm text-gray-500",children:f.description||"No description"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>T(f.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition flex items-center gap-2",children:[r.jsx(tt,{className:"w-4 h-4"})," Push"]}),r.jsxs("button",{onClick:()=>_(f),className:"px-4 py-2 bg-dark-600 border border-dark-500 text-white rounded-lg text-sm hover:bg-dark-500 transition flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4"})," Edit"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-6",children:[r.jsxs("span",{children:[f.items.length," items"]}),r.jsxs("span",{children:["Transition: ",f.transition]}),r.jsx("span",{children:f.loop?"Looping":"Play once"}),r.jsxs("span",{children:["Total: ",f.items.reduce((S,k)=>S+k.duration,0),"s"]})]}),r.jsx("div",{className:"space-y-2",children:f.items.map((S,k)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("span",{className:"text-xs text-gray-600 w-6 text-center",children:k+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:S.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[S.contentType," ",S.widget?` ${S.widget}`:""]})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.duration,"s"]})]},S.id))})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(_o,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a playlist to view details"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})})]})]})}const zx={clock:Wt,cloud:an,camera:Co,grid:_o,parking:Po,"bar-chart":w0,activity:Vr,users:Bh,shield:ht,bot:N0},$x={"welcome-display":{emoji:"",gradient:"from-orange-900/40 to-dark-900",preview:"Welcome screen with clock, weather, rotating slides"},"parking-rates":{emoji:"",gradient:"from-blue-900/40 to-dark-900",preview:"Tariff board with rates and payment methods"},"site-info":{emoji:"",gradient:"from-green-900/40 to-dark-900",preview:"Site details, features, capacity"},"announcement-board":{emoji:"",gradient:"from-amber-900/40 to-dark-900",preview:"Rotating notices with priority levels"},"announcement-rotator":{emoji:"",gradient:"from-purple-900/40 to-dark-900",preview:"Auto-rotating announcements"},"multi-zone":{emoji:"",gradient:"from-cyan-900/40 to-dark-900",preview:"Split layout: main + sidebar + ticker"},"schedule-display":{emoji:"",gradient:"from-indigo-900/40 to-dark-900",preview:"Time-based schedule with peak/off-peak"},alert:{emoji:"",gradient:"from-red-900/40 to-dark-900",preview:"Emergency/alert overlay"},metrics:{emoji:"",gradient:"from-teal-900/40 to-dark-900",preview:"Live metrics dashboard"},announcement:{emoji:"",gradient:"from-yellow-900/40 to-dark-900",preview:"Single announcement display"},"daily-digest":{emoji:"",gradient:"from-slate-900/40 to-dark-900",preview:"Daily summary digest"},"task-complete":{emoji:"",gradient:"from-emerald-900/40 to-dark-900",preview:"Task completion notification"}},Bx={"welcome-display":{siteName:"KYLE RISE",subtitle:"Welcome to Parkwise",weatherLocation:"Ayr",showClock:!0,showWeather:!0,brandColor:"#FF9900",notices:[" 24/7 Parking"," Contactless"," Accessible"],slides:[{icon:"",title:"Welcome",message:"KYLE RISE CAR PARK"}]},"parking-rates":{siteName:"Kyle Rise Car Park",currency:"",brandColor:"#FF9900",rates:[{duration:"Up to 1 hour",price:1.5},{duration:"Up to 2 hours",price:2.5},{duration:"Up to 4 hours",price:4},{duration:"All day",price:8}],paymentMethods:["Cash","Card","Contactless","RingGo"],operatingHours:"24/7"},"site-info":{siteName:"Kyle Rise Car Park",address:"Kyle Street, Ayr KA7 1RZ",operator:"Parkwise",capacity:120,type:"Multi-Storey",brandColor:"#FF9900",features:["CCTV","24/7 Access","EV Charging","Disabled Bays","Contactless Payment"]},"announcement-board":{title:"PARKWISE NOTICES",brandColor:"#FF9900",announcements:[{title:"Level 3 Maintenance",message:"Closed for cleaning Saturday 6am-10am",priority:"warning"},{title:"New EV Chargers",message:"Fast chargers on Level 1",priority:"info"}]}};function Ux(){const[e,t]=x.useState([]),[n,s]=x.useState([]),[a,l]=x.useState([]),[i,c]=x.useState("widgets"),[o,d]=x.useState("all"),[m,p]=x.useState([]),[u,v]=x.useState(null),[b,E]=x.useState(null),[M,y]=x.useState(!0),h=x.useRef(null);x.useEffect(()=>{fetch("/api/content/widgets").then(g=>g.json()).then(g=>{g.success&&t(g.data)}).catch(()=>{}),fetch("/api/content/templates").then(g=>g.json()).then(g=>{g.success&&s(g.data)}).catch(()=>{}),fetch("/api/content/videos").then(g=>g.json()).then(g=>{g.success&&l(g.data)}).catch(()=>{}),fetch("/api/screens").then(g=>g.json()).then(g=>{const T=g.data||g;Array.isArray(T)&&p(T.map(N=>({id:N.id,name:N.name})))}).catch(()=>{})},[]);const f=async(g,T)=>{await fetch("/api/push/widget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,widget:g,config:T})})},w=async(g,T)=>{const N=T||Bx[g]||{};await fetch("/api/display",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,template:g,data:N})})},_=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"media",content:{url:`/video/${g}`,type:"video",loop:!0}})})},L=async g=>{await fetch("/api/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:o,type:"url",content:{url:g}})})},j={};return a.forEach(g=>{j[g.category]||(j[g.category]=[]),j[g.category].push(g)}),r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-purple-500 to-purple-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-purple",children:"CONTENT LIBRARY"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-500/30 to-transparent"})]}),r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[r.jsx("div",{className:"flex items-center gap-1 bg-dark-800 rounded-lg p-1",children:["widgets","templates","videos"].map(g=>r.jsx("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-md text-sm font-medium tracking-wider transition ${i===g?"bg-accent text-dark-900":"text-gray-400 hover:text-white"}`,children:g.toUpperCase()},g))}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Push to:"}),r.jsxs("select",{value:o,onChange:g=>d(g.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-1.5 text-sm",children:[r.jsx("option",{value:"all",children:"All Screens"}),m.map(g=>r.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),i==="widgets"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(g=>{const T=zx[g.icon]||Wn;return r.jsxs("div",{className:"glass glass-hover rounded-xl p-5 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center",children:r.jsx(T,{className:"w-5 h-5 text-accent"})}),r.jsx("button",{onClick:()=>f(g.id,g.defaultConfig),className:"opacity-0 group-hover:opacity-100 p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:r.jsx(tt,{className:"w-4 h-4"})})]}),r.jsx("h4",{className:"font-medium text-sm",children:g.name}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]},g.id)})}),i==="templates"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Wn,{className:"w-4 h-4 text-accent"}),"DISPLAY TEMPLATES"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>g.type==="react-template").map(g=>{const T=$x[g.id]||{emoji:"",gradient:"from-gray-900/40 to-dark-900"};return r.jsxs("div",{className:"glass glass-hover rounded-xl overflow-hidden group",children:[r.jsxs("div",{className:`h-32 bg-gradient-to-br ${T.gradient} flex items-center justify-center relative cursor-pointer`,onClick:()=>v({type:"template",id:g.id}),children:[r.jsx("span",{className:"text-5xl",children:T.emoji}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center gap-2",children:[r.jsx(ia,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white text-sm font-medium",children:"Preview"})]})]}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:g.name}),T.preview&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T.preview}),r.jsx("p",{className:"text-[10px] text-gray-600 mt-1.5 tracking-wider",children:g.category.toUpperCase()})]}),r.jsx("button",{onClick:()=>w(g.id,g.defaultData),className:"p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push to screens",children:r.jsx(tt,{className:"w-4 h-4"})})]})})]},g.id)})})]}),n.filter(g=>!g.type||g.type!=="react-template").length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Ta,{className:"w-4 h-4 text-lcars-purple"}),"HTML TEMPLATES"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(g=>!g.type||g.type!=="react-template").map(g=>r.jsxs("div",{className:"glass glass-hover rounded-xl overflow-hidden group",children:[g.path?r.jsxs("div",{className:"h-28 relative overflow-hidden cursor-pointer",onClick:()=>v({type:"template",id:g.id,url:g.path}),children:[r.jsx("iframe",{src:g.path,className:"w-[200%] h-[200%] origin-top-left scale-50 pointer-events-none border-0",title:g.name}),r.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition flex items-center justify-center",children:r.jsx(ia,{className:"w-5 h-5 text-white"})})]}):r.jsx("div",{className:"h-28 bg-gradient-to-br from-purple-900/30 to-dark-900 flex items-center justify-center",children:r.jsx(_o,{className:"w-8 h-8 text-gray-600"})}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:g.name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Category: ",g.category]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>g.path&&L(g.path),className:"p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition",title:"Push",children:r.jsx(tt,{className:"w-3.5 h-3.5"})}),g.path&&r.jsx("a",{href:g.path,target:"_blank",className:"p-2 bg-dark-600 text-gray-400 rounded-lg hover:bg-dark-500 transition",title:"Open",children:r.jsx(_0,{className:"w-3.5 h-3.5"})})]})]})})]},g.id))})]})]}),i==="videos"&&r.jsx("div",{className:"space-y-6",children:Object.keys(j).length===0?r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(Xc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No videos found"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Videos should be at /Volumes/Parkwise/Skynet/video/"})]}):Object.entries(j).map(([g,T])=>r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(L0,{className:"w-4 h-4"}),g.toUpperCase(),r.jsxs("span",{className:"text-xs text-gray-600",children:["(",T.length,")"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map(N=>r.jsxs("div",{className:"glass glass-hover rounded-xl overflow-hidden group",children:[r.jsx("div",{className:"h-32 bg-dark-800 relative cursor-pointer flex items-center justify-center",onClick:()=>E(`/video/${N.filename}`),children:b===`/video/${N.filename}`?r.jsx("video",{ref:h,src:`/video/${N.filename}`,className:"w-full h-full object-cover",autoPlay:!0,muted:M,loop:!0}):r.jsxs(r.Fragment,{children:[r.jsx(Xc,{className:"w-10 h-10 text-gray-600"}),r.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition flex items-center justify-center",children:r.jsx(tt,{className:"w-8 h-8 text-white"})})]})}),r.jsxs("div",{className:"p-3 flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:N.filename}),r.jsxs("div",{className:"text-xs text-gray-500",children:[(N.size/1024/1024).toFixed(1)," MB"]})]}),r.jsx("button",{onClick:()=>_(N.filename),className:"p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition flex-shrink-0",title:"Push to screens",children:r.jsx(tt,{className:"w-3.5 h-3.5"})})]})]},N.filename))})]},g))}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-8",onClick:()=>v(null),children:r.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-dark-900 rounded-2xl overflow-hidden shadow-2xl",onClick:g=>g.stopPropagation(),children:[r.jsx("button",{onClick:()=>v(null),className:"absolute top-4 right-4 z-10 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition",children:r.jsx(Ni,{className:"w-5 h-5"})}),r.jsxs("button",{onClick:()=>{u.url?L(u.url):w(u.id),v(null)},className:"absolute top-4 left-4 z-10 px-4 py-2 bg-accent rounded-lg text-dark-900 font-medium text-sm hover:bg-accent/80 transition flex items-center gap-2",children:[r.jsx(tt,{className:"w-4 h-4"})," Push to ",o]}),u.url?r.jsx("iframe",{src:u.url,className:"w-full h-full border-0",title:"Preview"}):r.jsx("iframe",{src:`/?screen=preview-${Date.now()}&display=true&location=parkwise-office`,className:"w-full h-full border-0",title:"Template Preview"})]})})]})}function Vx({screens:e,onRefresh:t}){const[n,s]=x.useState([]),[a,l]=x.useState(null),[i,c]=x.useState(!1),[o,d]=x.useState(!1),[m,p]=x.useState({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"}),[u,v]=x.useState(""),b=x.useCallback(async()=>{const N=await(await fetch("/api/locations")).json();N.success&&s(N.data)},[]);x.useEffect(()=>{b()},[b]);const E=n.find(T=>T.id===a),M=()=>{d(!0),c(!0),l(null),p({name:"",address:"",latitude:"",longitude:"",timezone:"Europe/London"})},y=T=>{var N,F;l(T.id),c(!0),d(!1),p({name:T.name,address:T.address||"",latitude:((N=T.latitude)==null?void 0:N.toString())||"",longitude:((F=T.longitude)==null?void 0:F.toString())||"",timezone:T.timezone})},h=()=>{c(!1),d(!1)},f=async()=>{const T={name:m.name,address:m.address||null,latitude:m.latitude?parseFloat(m.latitude):null,longitude:m.longitude?parseFloat(m.longitude):null,timezone:m.timezone};o?await fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}):a&&await fetch(`/api/locations/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),c(!1),d(!1),b()},w=async T=>{confirm("Delete this location? Screens will be unassigned.")&&(await fetch(`/api/locations/${T}`,{method:"DELETE"}),a===T&&l(null),b(),t())},_=async()=>{!u||!a||(await fetch(`/api/locations/${a}/screens`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenIds:[u]})}),v(""),t(),b())},L=async(T,N,F)=>{await fetch(`/api/locations/${T}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"widget",content:{widget:N,config:F}})})},j=T=>e.filter(N=>N.location_id===T),g=e.filter(T=>!T.location_id);return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-teal-500 to-teal-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-teal",children:"LOCATIONS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-teal-500/30 to-transparent"}),r.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Hn,{className:"w-4 h-4"})," Add Location"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[n.map(T=>r.jsx("div",{onClick:()=>{l(T.id),c(!1),d(!1)},className:`glass glass-hover rounded-xl p-5 cursor-pointer transition-all ${a===T.id?"ring-1 ring-accent/50 bg-accent/5":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vt,{className:"w-4 h-4 text-lcars-teal"}),r.jsx("h4",{className:"font-medium text-sm",children:T.name})]}),T.address&&r.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:T.address}),r.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-6 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(We,{className:"w-3 h-3"})," ",T.screen_count," screens"]}),r.jsxs("span",{className:"text-green-400",children:[T.online_count," online"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:N=>{N.stopPropagation(),y(T)},className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:r.jsx(Vn,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:N=>{N.stopPropagation(),w(T.id)},className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:r.jsx(Gt,{className:"w-3.5 h-3.5"})})]})]})},T.id)),n.length===0&&r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(vt,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No locations yet"})]})]}),r.jsx("div",{className:"lg:col-span-2",children:i?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:o?"New Location":"Edit Location"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:h,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),r.jsxs("button",{onClick:f,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"NAME"}),r.jsx("input",{value:m.name,onChange:T=>p(N=>({...N,name:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Location name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"ADDRESS"}),r.jsx("input",{value:m.address,onChange:T=>p(N=>({...N,address:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"Street address..."})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LATITUDE"}),r.jsx("input",{value:m.latitude,onChange:T=>p(N=>({...N,latitude:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"55.46"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"LONGITUDE"}),r.jsx("input",{value:m.longitude,onChange:T=>p(N=>({...N,longitude:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"-4.63"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TIMEZONE"}),r.jsx("input",{value:m.timezone,onChange:T=>p(N=>({...N,timezone:T.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]})]})]}):E?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(vt,{className:"w-5 h-5 text-lcars-teal"}),E.name]}),E.address&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.address})]}),r.jsx("button",{onClick:()=>y(E),className:"px-3 py-1.5 bg-dark-600 border border-dark-500 rounded-lg text-sm hover:bg-dark-500 transition",children:"Edit"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Coordinates"}),r.jsx("div",{className:"text-white mt-1",children:E.latitude&&E.longitude?`${E.latitude.toFixed(4)}, ${E.longitude.toFixed(4)}`:"Not set"})]}),r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Timezone"}),r.jsx("div",{className:"text-white mt-1",children:E.timezone})]}),r.jsxs("div",{className:"bg-dark-700/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Screens"}),r.jsxs("div",{className:"text-white mt-1",children:[E.screen_count," total, ",E.online_count," online"]})]})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"SCREENS AT THIS LOCATION"}),r.jsxs("div",{className:"space-y-2",children:[j(E.id).map(T=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-700/50 rounded-lg",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${T.connected?"bg-green-500":"bg-gray-600"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:T.name}),r.jsx("div",{className:"text-xs text-gray-500",children:T.id})]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.connected?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"}`,children:T.connected?"ONLINE":"OFFLINE"})]},T.id)),j(E.id).length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"No screens assigned"})]}),g.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-dark-600",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:u,onChange:T=>v(T.target.value),className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Assign a screen..."}),g.map(T=>r.jsxs("option",{value:T.id,children:[T.name," (",T.id,")"]},T.id))]}),r.jsx("button",{onClick:_,disabled:!u,className:"px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:"Assign"})]})})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h4",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"PUSH TO ALL SCREENS"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>L(E.id,"clock",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Clock"}),r.jsx("button",{onClick:()=>L(E.id,"weather",{location:"Ayr, Scotland"}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Weather"}),r.jsx("button",{onClick:()=>L(E.id,"occupancy",{siteName:E.name,capacity:50}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Occupancy"}),r.jsx("button",{onClick:()=>L(E.id,"testcard",{}),className:"text-xs px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-accent/30 transition",children:"Test Card"})]})]})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(A0,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a location to view details"})]})})]})]})}const Hx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wx=["S","M","T","W","T","F","S"];function qx(){const[e,t]=x.useState([]),[n,s]=x.useState([]),[a,l]=x.useState(!1),[i,c]=x.useState(!1),[o,d]=x.useState(null),[m,p]=x.useState({playlistId:"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0}),u=x.useCallback(async()=>{const g=await(await fetch("/api/schedules")).json();g.success&&t(g.data)},[]),v=x.useCallback(async()=>{const g=await(await fetch("/api/playlists")).json();g.success&&s(g.data)},[]);x.useEffect(()=>{u(),v()},[u,v]);const b=()=>{var j;c(!0),l(!0),d(null),p({playlistId:((j=n[0])==null?void 0:j.id)||"",screenTarget:"all",startTime:"09:00",endTime:"17:00",days:[1,2,3,4,5],priority:0})},E=j=>{d(j.id),l(!0),c(!1),p({playlistId:j.playlistId,screenTarget:j.screenTarget,startTime:j.startTime,endTime:j.endTime,days:j.days,priority:j.priority})},M=()=>{l(!1),c(!1),d(null)},y=async()=>{i?await fetch("/api/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}):o&&await fetch(`/api/schedules/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),M(),u()},h=async j=>{confirm("Delete this schedule?")&&(await fetch(`/api/schedules/${j}`,{method:"DELETE"}),u())},f=async j=>{await fetch(`/api/schedules/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:!j.enabled})}),u()},w=j=>{p(g=>({...g,days:g.days.includes(j)?g.days.filter(T=>T!==j):[...g.days,j].sort()}))},_=j=>{var g;return((g=n.find(T=>T.id===j))==null?void 0:g.name)||j},L=j=>{const g=new Date,T=g.getDay(),N=g.toTimeString().slice(0,5);return j.enabled&&j.days.includes(T)&&N>=j.startTime&&N<=j.endTime};return r.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-pink-500 to-pink-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-lcars-pink",children:"SCHEDULES"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-pink-500/30 to-transparent"}),r.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition",children:[r.jsx(Hn,{className:"w-4 h-4"})," New Schedule"]})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4",children:"TODAY'S TIMELINE"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"flex items-end gap-0 mb-2",children:Array.from({length:24},(j,g)=>r.jsx("div",{className:"flex-1 text-center",children:r.jsx("span",{className:"text-[10px] text-gray-600",children:g.toString().padStart(2,"0")})},g))}),r.jsxs("div",{className:"relative h-12 bg-dark-700/50 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-accent z-10",style:{left:`${(new Date().getHours()*60+new Date().getMinutes())/1440*100}%`}}),e.filter(j=>j.enabled&&j.days.includes(new Date().getDay())).map(j=>{const[g,T]=j.startTime.split(":").map(Number),[N,F]=j.endTime.split(":").map(Number),V=(g*60+T)/1440*100,S=(N*60+F)/1440*100-V;return r.jsx("div",{className:`absolute top-1 bottom-1 rounded ${L(j)?"bg-accent/40":"bg-accent/20"}`,style:{left:`${V}%`,width:`${S}%`},title:`${_(j.playlistId)}: ${j.startTime} - ${j.endTime}`,children:r.jsx("span",{className:"text-[10px] text-white/70 px-1 truncate block mt-0.5",children:_(j.playlistId)})},j.id)})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400",children:["ALL SCHEDULES (",e.length,")"]}),e.length===0?r.jsxs("div",{className:"glass rounded-xl p-8 text-center text-gray-500",children:[r.jsx(So,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No schedules configured"})]}):e.map(j=>r.jsx("div",{className:`glass glass-hover rounded-xl p-4 transition-all ${L(j)?"ring-1 ring-green-500/30":""} ${j.enabled?"":"opacity-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L(j)&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),r.jsx("h4",{className:"text-sm font-medium",children:_(j.playlistId)})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3"}),j.startTime," - ",j.endTime]}),r.jsxs("span",{children:[" ",j.screenTarget]}),r.jsxs("span",{children:["P",j.priority]})]}),r.jsx("div",{className:"flex gap-1 mt-2",children:Wx.map((g,T)=>r.jsx("span",{className:`w-5 h-5 rounded text-[10px] flex items-center justify-center ${j.days.includes(T)?"bg-accent/20 text-accent":"bg-dark-700 text-gray-600"}`,children:g},T))})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[r.jsx("button",{onClick:()=>f(j),className:`p-1.5 rounded transition ${j.enabled?"text-green-400 hover:bg-green-500/20":"text-gray-500 hover:bg-dark-600"}`,title:j.enabled?"Disable":"Enable",children:r.jsx(U0,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>E(j),className:"p-1.5 rounded hover:bg-dark-600 text-gray-500 hover:text-white transition",children:r.jsx(Vn,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>h(j.id),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition",children:r.jsx(Gt,{className:"w-3.5 h-3.5"})})]})]})},j.id))]}),a?r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:i?"New Schedule":"Edit Schedule"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:M,className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"Cancel"}),r.jsxs("button",{onClick:y,className:"px-4 py-1.5 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition flex items-center gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"})," Save"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PLAYLIST"}),r.jsxs("select",{value:m.playlistId,onChange:j=>p(g=>({...g,playlistId:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Select playlist..."}),n.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"TARGET"}),r.jsx("input",{value:m.screenTarget,onChange:j=>p(g=>({...g,screenTarget:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",placeholder:"all, screen id, or group id"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"START TIME"}),r.jsx("input",{type:"time",value:m.startTime,onChange:j=>p(g=>({...g,startTime:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"END TIME"}),r.jsx("input",{type:"time",value:m.endTime,onChange:j=>p(g=>({...g,endTime:j.target.value})),className:"w-full bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-2",children:"DAYS"}),r.jsx("div",{className:"flex gap-2",children:Hx.map((j,g)=>r.jsx("button",{onClick:()=>w(g),className:`w-10 h-10 rounded-lg text-sm font-medium transition ${m.days.includes(g)?"bg-accent/20 text-accent border border-accent/40":"bg-dark-700 text-gray-500 border border-dark-600 hover:border-gray-500"}`,children:j},g))}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:()=>p(j=>({...j,days:[1,2,3,4,5]})),className:"text-xs text-accent hover:underline",children:"Weekdays"}),r.jsx("button",{onClick:()=>p(j=>({...j,days:[0,6]})),className:"text-xs text-accent hover:underline",children:"Weekends"}),r.jsx("button",{onClick:()=>p(j=>({...j,days:[0,1,2,3,4,5,6]})),className:"text-xs text-accent hover:underline",children:"Every day"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider block mb-1",children:"PRIORITY"}),r.jsx("input",{type:"number",value:m.priority,onChange:j=>p(g=>({...g,priority:Number(j.target.value)})),className:"w-32 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm",min:0,max:100}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Higher priority overrides lower"})]})]})]}):r.jsxs("div",{className:"glass rounded-xl p-12 text-center text-gray-500",children:[r.jsx(Wt,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Select a schedule to edit"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"or create a new one"})]})]})]})}const or={mirror:{label:"MIRROR",desc:"All screens show identical content in lockstep",icon:E0,color:"text-green-400",bg:"bg-green-500/10",border:"border-green-500/30"},complementary:{label:"COMPLEMENTARY",desc:"Each screen shows a different item from the playlist",icon:I0,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},span:{label:"SPAN",desc:"Video wall  content spans across all screens",icon:We,color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"}};function Gx({screens:e,onRefresh:t}){const[n,s]=x.useState([]),[a,l]=x.useState([]),[i,c]=x.useState(!0),[o,d]=x.useState(null),[m,p]=x.useState(!1),[u,v]=x.useState(""),[b,E]=x.useState("mirror"),[M,y]=x.useState(null),h=x.useCallback(async()=>{try{const D=await(await fetch("/api/sync-groups")).json();D.success&&s(D.data)}catch(k){console.error("Failed to fetch sync groups:",k)}c(!1)},[]),f=x.useCallback(async()=>{try{const D=await(await fetch("/api/playlists")).json();D.success&&l(D.data)}catch{}},[]);x.useEffect(()=>{h(),f()},[h,f]);const w=async()=>{if(u.trim())try{(await(await fetch("/api/sync-groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u.trim(),mode:b})})).json()).success&&(p(!1),v(""),h())}catch(k){console.error(k)}},_=async k=>{if(confirm("Delete this sync group? Screens will be unassigned."))try{await fetch(`/api/sync-groups/${k}`,{method:"DELETE"}),h()}catch(D){console.error(D)}},L=async(k,D)=>{try{await fetch(`/api/sync-groups/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),h()}catch(C){console.error(C)}},j=async(k,D)=>{try{await fetch(`/api/sync-groups/${k}/screens`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenIds:D})}),h(),t()}catch(C){console.error(C)}},g=async(k,D)=>{try{await fetch(`/api/sync-groups/${k}/screens/${D}`,{method:"DELETE"}),h(),t()}catch(C){console.error(C)}},T=async(k,D)=>{try{await fetch(`/api/sync-groups/${k}/play`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlist_id:D})}),h()}catch(C){console.error(C)}},N=async k=>{try{await fetch(`/api/sync-groups/${k}/stop`,{method:"POST"}),h()}catch(D){console.error(D)}},F=async(k,D)=>{try{await fetch(`/api/sync-groups/${k}/seek`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemIndex:D})}),h()}catch(C){console.error(C)}},V=async k=>{try{await fetch(`/api/sync-groups/${k}/identify`,{method:"POST"})}catch(D){console.error(D)}},H=async k=>{try{await fetch(`/api/sync-groups/${k}/screenshot`,{method:"POST"})}catch(D){console.error(D)}},S=e.filter(k=>!n.some(D=>D.screens.some(C=>C.id===k.id)));return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(qt,{className:"w-6 h-6 text-accent animate-spin"})}):r.jsxs("div",{className:"space-y-6 max-w-5xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold tracking-wider text-white flex items-center gap-3",children:[r.jsx(wi,{className:"w-5 h-5 text-accent"}),"SYNC GROUPS"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Group screens for synchronised playback across multiple displays"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:h,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:r.jsx(qt,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition",children:[r.jsx(Hn,{className:"w-4 h-4"})," NEW GROUP"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(or).map(([k,D])=>{const C=D.icon;return r.jsxs("div",{className:`${D.bg} border ${D.border} rounded-xl p-4`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(C,{className:`w-4 h-4 ${D.color}`}),r.jsx("span",{className:`text-sm font-bold tracking-wider ${D.color}`,children:D.label})]}),r.jsx("p",{className:"text-xs text-gray-400",children:D.desc})]},k)})}),m&&r.jsxs("div",{className:"bg-dark-700 border border-dark-500 rounded-xl p-6",children:[r.jsx("h3",{className:"text-sm font-bold tracking-wider text-accent mb-4",children:"CREATE SYNC GROUP"}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"GROUP NAME"}),r.jsx("input",{value:u,onChange:k=>v(k.target.value),placeholder:"e.g., Pavilion Screens",className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white placeholder-gray-600 focus:border-accent focus:outline-none",onKeyDown:k=>k.key==="Enter"&&w(),autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"SYNC MODE"}),r.jsx("div",{className:"flex gap-3",children:Object.entries(or).map(([k,D])=>{const C=D.icon;return r.jsxs("button",{onClick:()=>E(k),className:`flex-1 flex items-center gap-2 px-4 py-3 rounded-lg border transition ${b===k?`${D.bg} ${D.border} ${D.color}`:"bg-dark-800 border-dark-600 text-gray-500 hover:border-dark-400"}`,children:[r.jsx(C,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold tracking-wider",children:D.label})]},k)})})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white text-sm transition",children:"Cancel"}),r.jsx("button",{onClick:w,disabled:!u.trim(),className:"px-6 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition disabled:opacity-30",children:"CREATE"})]})]})]}),n.length===0&&!m?r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-12 text-center",children:[r.jsx(wi,{className:"w-10 h-10 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-2",children:"No sync groups yet"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create a sync group to coordinate playback across multiple screens"})]}):r.jsx("div",{className:"space-y-4",children:n.map(k=>{var J;const D=o===k.id,C=or[k.mode]||or.mirror,A=C.icon,z=k.screens.filter(P=>P.connected).length,B=(J=k.state)==null?void 0:J.playing;return r.jsxs("div",{className:"bg-dark-700/80 border border-dark-500 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 cursor-pointer hover:bg-dark-600/50 transition",onClick:()=>d(D?null:k.id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl ${C.bg} border ${C.border} flex items-center justify-center`,children:r.jsx(A,{className:`w-5 h-5 ${C.color}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-white font-bold tracking-wider",children:k.name}),r.jsx("span",{className:`text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full ${C.bg} ${C.color} border ${C.border}`,children:C.label}),B&&r.jsx("span",{className:"text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full bg-green-500/10 text-green-400 border border-green-500/30 animate-pulse",children:" PLAYING"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.screen_count," screen",k.screen_count!==1?"s":"","  ",z," online",k.playlist_name&&`  Playlist: ${k.playlist_name}`]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!B&&k.playlist_id&&r.jsx("button",{onClick:P=>{P.stopPropagation(),T(k.id)},className:"p-2 rounded-lg bg-green-500/10 text-green-400 hover:bg-green-500/20 transition",title:"Start sync playback",children:r.jsx(tt,{className:"w-4 h-4"})}),B&&r.jsx("button",{onClick:P=>{P.stopPropagation(),N(k.id)},className:"p-2 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 transition",title:"Stop playback",children:r.jsx(ed,{className:"w-4 h-4"})}),D?r.jsx(To,{className:"w-5 h-5 text-gray-500"}):r.jsx(Ea,{className:"w-5 h-5 text-gray-500"})]})]}),D&&r.jsxs("div",{className:"border-t border-dark-500 p-5 space-y-5",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400",children:"SCREENS IN GROUP"}),r.jsxs("button",{onClick:()=>y(M===k.id?null:k.id),className:"text-xs text-accent hover:underline flex items-center gap-1",children:[r.jsx(Hn,{className:"w-3 h-3"})," Add Screens"]})]}),k.screens.length===0?r.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-lg p-6 text-center",children:[r.jsx(We,{className:"w-6 h-6 text-gray-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No screens assigned yet"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:k.screens.map((P,W)=>r.jsxs("div",{className:"flex items-center justify-between bg-dark-800 border border-dark-600 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(We,{className:"w-5 h-5 text-gray-400"}),r.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2 h-2 rounded-full ${P.connected?"bg-green-500":"bg-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:P.name||P.id}),r.jsxs("div",{className:"text-[10px] text-gray-600",children:[P.platform||"browser","  ",P.resolution||"?","  #",W+1]})]})]}),r.jsx("button",{onClick:()=>g(k.id,P.id),className:"p-1.5 text-gray-600 hover:text-red-400 transition",title:"Remove from group",children:r.jsx(Gt,{className:"w-3.5 h-3.5"})})]},P.id))}),M===k.id&&S.length>0&&r.jsxs("div",{className:"mt-3 bg-dark-800/50 border border-accent/20 rounded-lg p-4",children:[r.jsx("h5",{className:"text-xs text-accent tracking-wider mb-3",children:"AVAILABLE SCREENS"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(P=>r.jsxs("button",{onClick:()=>j(k.id,[P.id]),className:"flex items-center gap-2 px-3 py-2 bg-dark-700 border border-dark-500 rounded-lg hover:border-accent/40 transition text-sm",children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P.connected?"bg-green-500":"bg-gray-600"}`}),r.jsx("span",{className:"text-gray-300",children:P.name||P.id}),r.jsx(v0,{className:"w-3 h-3 text-gray-500"})]},P.id))})]}),M===k.id&&S.length===0&&r.jsx("div",{className:"mt-3 text-xs text-gray-600 text-center py-3",children:"All screens are already assigned to sync groups"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"PLAYLIST"}),r.jsxs("select",{value:k.playlist_id||"",onChange:P=>L(k.id,{playlist_id:P.target.value||null}),className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-4 py-2.5 text-white focus:border-accent focus:outline-none appearance-none",children:[r.jsx("option",{value:"",children:" No playlist assigned "}),a.map(P=>{var W;return r.jsxs("option",{value:P.id,children:[P.name," (",((W=P.items)==null?void 0:W.length)||0," items)"]},P.id)})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"CONTROLS"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[B?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>N(k.id),className:"flex items-center gap-2 px-4 py-2.5 bg-red-500/10 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/20 transition text-sm font-medium tracking-wider",children:[r.jsx(ed,{className:"w-4 h-4"})," STOP"]}),r.jsxs("button",{onClick:()=>{var W;const P=(((W=k.state)==null?void 0:W.itemIndex)??0)+1;F(k.id,P)},className:"flex items-center gap-2 px-4 py-2.5 bg-blue-500/10 text-blue-400 border border-blue-500/30 rounded-lg hover:bg-blue-500/20 transition text-sm font-medium tracking-wider",children:[r.jsx(zh,{className:"w-4 h-4"})," NEXT"]})]}):r.jsxs("button",{onClick:()=>T(k.id),disabled:!k.playlist_id,className:"flex items-center gap-2 px-4 py-2.5 bg-green-500/10 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-500/20 transition text-sm font-medium tracking-wider disabled:opacity-30",children:[r.jsx(tt,{className:"w-4 h-4"})," PLAY"]}),r.jsxs("button",{onClick:()=>V(k.id),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500/10 text-amber-400 border border-amber-500/30 rounded-lg hover:bg-amber-500/20 transition text-sm font-medium tracking-wider",title:"Flash screen IDs on all group screens",children:[r.jsx(ia,{className:"w-4 h-4"})," IDENTIFY"]}),r.jsxs("button",{onClick:()=>H(k.id),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-500/10 text-purple-400 border border-purple-500/30 rounded-lg hover:bg-purple-500/20 transition text-sm font-medium tracking-wider",title:"Request screenshots from all group screens",children:[r.jsx(Co,{className:"w-4 h-4"})," SCREENSHOT"]})]}),B&&k.state&&r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Currently on item #",(k.state.itemIndex||0)+1,"  Started ",new Date(k.state.startedAt).toLocaleTimeString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3",children:"SYNC MODE"}),r.jsx("div",{className:"flex gap-3",children:Object.entries(or).map(([P,W])=>{const X=W.icon;return r.jsxs("button",{onClick:()=>L(k.id,{mode:P}),className:`flex-1 flex items-center gap-2 px-4 py-3 rounded-lg border transition ${k.mode===P?`${W.bg} ${W.border} ${W.color}`:"bg-dark-800 border-dark-600 text-gray-500 hover:border-dark-400"}`,children:[r.jsx(X,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold tracking-wider",children:W.label})]},P)})})]}),r.jsx("div",{className:"pt-3 border-t border-dark-600",children:r.jsxs("button",{onClick:()=>_(k.id),className:"flex items-center gap-2 text-xs text-red-500/60 hover:text-red-400 transition",children:[r.jsx(Gt,{className:"w-3.5 h-3.5"})," Delete sync group"]})})]})]},k.id)})}),r.jsx("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V0,{className:"w-5 h-5 text-accent"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold tracking-wider text-white",children:"PLAYER APPS"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Download and configure player apps for your display screens"})]})]}),r.jsxs("a",{href:"/player",target:"_blank",className:"flex items-center gap-2 px-4 py-2 bg-accent/10 text-accent border border-accent/30 rounded-lg hover:bg-accent/20 transition text-sm font-medium tracking-wider",children:[r.jsx(We,{className:"w-4 h-4"})," PLAYER SETUP"]})]})})]})}const cd={basic:{color:"text-gray-400",bg:"bg-gray-500/10",border:"border-gray-500/30"},pro:{color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},enterprise:{color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/30"}},Qx=["#F97316","#EF4444","#EC4899","#A855F7","#6366F1","#3B82F6","#14B8A6","#22C55E","#EAB308","#F59E0B"];function Yx(){const{clients:e,refreshClients:t,setActiveClientId:n}=Yh(),[s,a]=x.useState(!1),[l,i]=x.useState(null),[c,o]=x.useState({}),[d,m]=x.useState(null),[p,u]=x.useState(""),[v,b]=x.useState(""),[E,M]=x.useState(""),[y,h]=x.useState("basic"),[f,w]=x.useState("#F97316"),_=x.useCallback(async N=>{try{const V=await(await fetch(`/api/clients/${N}/stats`)).json();V.success&&o(H=>({...H,[N]:V.data}))}catch{}},[]);x.useEffect(()=>{e.forEach(N=>_(N.id))},[e,_]);const L=async()=>{if(p.trim())try{(await(await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.trim(),contact_name:v||void 0,contact_email:E||void 0,plan:y,branding:{primaryColor:f}})})).json()).success&&(a(!1),u(""),b(""),M(""),h("basic"),w("#F97316"),t())}catch(N){console.error(N)}},j=async(N,F)=>{try{await fetch(`/api/clients/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),t()}catch(V){console.error(V)}},g=async(N,F)=>{try{await fetch(`/api/clients/${N}/branding`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),t()}catch(V){console.error(V)}},T=async N=>{if(N!=="parkwise"&&confirm("Deactivate this client? Their screens and content will be hidden."))try{await fetch(`/api/clients/${N}`,{method:"DELETE"}),t()}catch(F){console.error(F)}};return r.jsxs("div",{className:"space-y-6 max-w-5xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold tracking-wider text-white flex items-center gap-3",children:[r.jsx(Hr,{className:"w-5 h-5 text-accent"}),"PLATFORM CLIENTS"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage client tenants  each with isolated screens, content, and branding"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:r.jsx(qt,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition",children:[r.jsx(Hn,{className:"w-4 h-4"})," NEW CLIENT"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",style:{fontFamily:"Antonio, sans-serif"},children:e.length}),r.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest mt-1",children:"CLIENTS"})]}),r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-lcars-blue",style:{fontFamily:"Antonio, sans-serif"},children:Object.values(c).reduce((N,F)=>N+F.screens,0)}),r.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest mt-1",children:"TOTAL SCREENS"})]}),r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-lcars-teal",style:{fontFamily:"Antonio, sans-serif"},children:Object.values(c).reduce((N,F)=>N+F.locations,0)}),r.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest mt-1",children:"TOTAL LOCATIONS"})]}),r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-lcars-amber",style:{fontFamily:"Antonio, sans-serif"},children:Object.values(c).reduce((N,F)=>N+F.playlists,0)}),r.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest mt-1",children:"TOTAL PLAYLISTS"})]})]}),s&&r.jsxs("div",{className:"bg-dark-700 border border-dark-500 rounded-xl p-6",children:[r.jsx("h3",{className:"text-sm font-bold tracking-wider text-accent mb-4",children:"CREATE NEW CLIENT"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"CLIENT NAME *"}),r.jsx("input",{value:p,onChange:N=>u(N.target.value),placeholder:"e.g., NCP, Saba, Q-Park",className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white placeholder-gray-600 focus:border-accent focus:outline-none",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"PLAN"}),r.jsxs("select",{value:y,onChange:N=>h(N.target.value),className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white focus:border-accent focus:outline-none appearance-none",children:[r.jsx("option",{value:"basic",children:"Basic"}),r.jsx("option",{value:"pro",children:"Pro"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"CONTACT NAME"}),r.jsx("input",{value:v,onChange:N=>b(N.target.value),placeholder:"Primary contact",className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white placeholder-gray-600 focus:border-accent focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-1 block",children:"CONTACT EMAIL"}),r.jsx("input",{value:E,onChange:N=>M(N.target.value),placeholder:"email@client.com",className:"w-full bg-dark-800 border border-dark-500 rounded-lg px-4 py-2.5 text-white placeholder-gray-600 focus:border-accent focus:outline-none"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs text-gray-500 tracking-wider mb-2 block",children:"BRAND COLOR"}),r.jsxs("div",{className:"flex items-center gap-2",children:[Qx.map(N=>r.jsx("button",{onClick:()=>w(N),className:`w-8 h-8 rounded-lg border-2 transition-all ${f===N?"border-white scale-110":"border-transparent"}`,style:{background:N}},N)),r.jsx("input",{type:"color",value:f,onChange:N=>w(N.target.value),className:"w-8 h-8 rounded-lg cursor-pointer bg-transparent"})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-400 hover:text-white text-sm transition",children:"Cancel"}),r.jsx("button",{onClick:L,disabled:!p.trim(),className:"px-6 py-2 bg-accent hover:bg-accent-dark text-dark-900 rounded-lg font-medium text-sm tracking-wider transition disabled:opacity-30",children:"CREATE CLIENT"})]})]}),r.jsx("div",{className:"space-y-4",children:e.map(N=>{var k,D;const F=l===N.id,V=c[N.id],H=cd[N.plan]||cd.basic,S=((k=N.branding)==null?void 0:k.primaryColor)||"#F97316";return r.jsxs("div",{className:"bg-dark-700/80 border border-dark-500 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 cursor-pointer hover:bg-dark-600/50 transition",onClick:()=>i(F?null:N.id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-lg font-bold",style:{background:`${S}20`,color:S,border:`2px solid ${S}40`},children:N.logo_url?r.jsx("img",{src:N.logo_url,className:"w-8 h-8 object-contain",alt:""}):N.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-white font-bold tracking-wider text-lg",children:N.name}),r.jsx("span",{className:`text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full ${H.bg} ${H.color} border ${H.border}`,children:N.plan.toUpperCase()}),!N.active&&r.jsx("span",{className:"text-[10px] font-bold tracking-widest px-2 py-0.5 rounded-full bg-red-500/10 text-red-400 border border-red-500/30",children:"INACTIVE"})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[V&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(We,{className:"w-3 h-3"})," ",V.screens]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(vt,{className:"w-3 h-3"})," ",V.locations]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(oa,{className:"w-3 h-3"})," ",V.playlists]})]}),N.contact_email&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(D0,{className:"w-3 h-3"})," ",N.contact_email]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:C=>{C.stopPropagation(),n(N.id)},className:"p-2 rounded-lg bg-accent/10 text-accent hover:bg-accent/20 transition",title:"Switch to this client",children:r.jsx(ia,{className:"w-4 h-4"})}),F?r.jsx(To,{className:"w-5 h-5 text-gray-500"}):r.jsx(Ea,{className:"w-5 h-5 text-gray-500"})]})]}),F&&r.jsxs("div",{className:"border-t border-dark-500 p-5 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"text-xs font-bold tracking-widest text-gray-400 flex items-center gap-2",children:[r.jsx(Dh,{className:"w-3.5 h-3.5"})," BRANDING"]}),r.jsxs("button",{onClick:()=>m(d===N.id?null:N.id),className:"text-xs text-accent hover:underline flex items-center gap-1",children:[r.jsx(Vn,{className:"w-3 h-3"})," ",d===N.id?"Done":"Edit"]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex gap-2",children:["primaryColor","secondaryColor","accentColor"].map(C=>{var A;return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg border border-dark-500 mb-1",style:{background:((A=N.branding)==null?void 0:A[C])||"#333"}}),r.jsx("span",{className:"text-[9px] text-gray-600 tracking-wider",children:C.replace("Color","").toUpperCase()})]},C)})}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Font: ",r.jsx("span",{className:"text-gray-300",children:((D=N.branding)==null?void 0:D.fontFamily)||"Antonio"})]})]}),d===N.id&&r.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 bg-dark-800/50 border border-dark-600 rounded-lg p-4",children:[[{key:"primaryColor",label:"Primary"},{key:"secondaryColor",label:"Secondary"},{key:"accentColor",label:"Accent"}].map(({key:C,label:A})=>{var z,B;return r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:A.toUpperCase()}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:((z=N.branding)==null?void 0:z[C])||"#F97316",onChange:J=>g(N.id,{[C]:J.target.value}),className:"w-8 h-8 rounded cursor-pointer bg-transparent"}),r.jsx("span",{className:"text-xs text-gray-400 font-mono",children:((B=N.branding)==null?void 0:B[C])||"#F97316"})]})]},C)}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:"LOGO URL"}),r.jsx("input",{value:N.logo_url||"",onChange:C=>j(N.id,{logo_url:C.target.value||null}),placeholder:"https://...",className:"w-full bg-dark-900 border border-dark-500 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-600 focus:border-accent focus:outline-none"})]})]})]}),V&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-bold tracking-widest text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Wn,{className:"w-3.5 h-3.5"})," RESOURCES"]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[{label:"Screens",value:V.screens,icon:We},{label:"Locations",value:V.locations,icon:vt},{label:"Playlists",value:V.playlists,icon:oa},{label:"Schedules",value:V.schedules,icon:null},{label:"Notices",value:V.announcements,icon:null},{label:"Sync Groups",value:V.syncGroups,icon:null}].map(C=>r.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-lg font-bold text-white",style:{fontFamily:"Antonio, sans-serif"},children:C.value}),r.jsx("div",{className:"text-[9px] text-gray-500 tracking-widest mt-0.5",children:C.label.toUpperCase()})]},C.label))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:"CONTACT NAME"}),r.jsx("input",{value:N.contact_name||"",onChange:C=>j(N.id,{contact_name:C.target.value}),className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:"CONTACT EMAIL"}),r.jsx("input",{value:N.contact_email||"",onChange:C=>j(N.id,{contact_email:C.target.value}),className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:"CUSTOM DOMAIN"}),r.jsx("input",{value:N.domain||"",onChange:C=>j(N.id,{domain:C.target.value}),placeholder:"signage.client.com",className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-600 focus:border-accent focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-gray-500 tracking-wider mb-1 block",children:"PLAN"}),r.jsxs("select",{value:N.plan,onChange:C=>j(N.id,{plan:C.target.value}),className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-3 py-2 text-sm text-white focus:border-accent focus:outline-none appearance-none",children:[r.jsx("option",{value:"basic",children:"Basic"}),r.jsx("option",{value:"pro",children:"Pro"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]})]})]}),N.id!=="parkwise"&&r.jsx("div",{className:"pt-3 border-t border-dark-600",children:r.jsxs("button",{onClick:()=>T(N.id),className:"flex items-center gap-2 text-xs text-red-500/60 hover:text-red-400 transition",children:[r.jsx(Gt,{className:"w-3.5 h-3.5"})," Deactivate client"]})})]})]},N.id)})}),e.length===0&&r.jsxs("div",{className:"bg-dark-700/50 border border-dark-500 rounded-xl p-12 text-center",children:[r.jsx(Hr,{className:"w-10 h-10 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-2",children:"No clients yet"})]})]})}function Kx(){const[e,t]=x.useState({}),[n,s]=x.useState(!1),[a,l]=x.useState(!1);x.useEffect(()=>{fetch("/api/settings").then(o=>o.json()).then(o=>{o.success&&t(o.data)}).catch(console.error)},[]);const i=(o,d)=>{t(m=>({...m,[o]:d})),l(!1)},c=async()=>{s(!0);try{await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})}),l(!0),setTimeout(()=>l(!1),3e3)}catch(o){console.error("Failed to save:",o)}s(!1)};return r.jsxs("div",{className:"space-y-6 animate-fadeIn max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2 w-24 bg-gradient-to-r from-gray-500 to-gray-400 rounded-r-full"}),r.jsx("h1",{className:"text-xl font-bold tracking-widest text-gray-300",children:"SETTINGS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-500/30 to-transparent"}),r.jsx("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-accent text-dark-900 rounded-lg text-sm font-medium hover:bg-accent-dim transition disabled:opacity-50",children:a?" Saved":n?"Saving...":r.jsxs(r.Fragment,{children:[r.jsx(Kr,{className:"w-4 h-4"})," Save All"]})})]}),r.jsxs(vs,{icon:Dh,title:"BRANDING",color:"text-accent",children:[r.jsx(Et,{label:"Company Name",description:"Displayed on signage screens",children:r.jsx("input",{value:e["global.companyName"]||"",onChange:o=>i("global.companyName",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-64"})}),r.jsx(Et,{label:"Brand Color",description:"Primary accent color (hex)",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"color",value:e["global.brandColor"]||"#F97316",onChange:o=>i("global.brandColor",o.target.value),className:"w-10 h-10 rounded cursor-pointer bg-dark-700 border border-dark-600"}),r.jsx("input",{value:e["global.brandColor"]||"#F97316",onChange:o=>i("global.brandColor",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28"})]})})]}),r.jsxs(vs,{icon:Wt,title:"TRANSITIONS",color:"text-lcars-blue",children:[r.jsx(Et,{label:"Default Transition",description:"Used when playlist doesn't specify",children:r.jsxs("select",{value:e["global.transition"]||"fade",onChange:o=>i("global.transition",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-40",children:[r.jsx("option",{value:"fade",children:"Fade"}),r.jsx("option",{value:"slide",children:"Slide"}),r.jsx("option",{value:"none",children:"None"})]})}),r.jsx(Et,{label:"Transition Duration",description:"Milliseconds",children:r.jsx("input",{type:"number",value:e["global.transitionDuration"]||"500",onChange:o=>i("global.transitionDuration",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:0,max:3e3,step:100})}),r.jsx(Et,{label:"Default Loop",description:"Loop playlists by default",children:r.jsx("button",{onClick:()=>i("global.defaultPlaylistLoop",e["global.defaultPlaylistLoop"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["global.defaultPlaylistLoop"]==="true"?"bg-accent":"bg-dark-600"}`,children:r.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["global.defaultPlaylistLoop"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),r.jsxs(vs,{icon:j0,title:"ALERTS",color:"text-lcars-amber",children:[r.jsx(Et,{label:"Auto-Expire Duration",description:"Alert auto-dismiss time (ms)",children:r.jsx("input",{type:"number",value:e["alerts.autoExpire"]||"30000",onChange:o=>i("alerts.autoExpire",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:5e3,max:3e5,step:5e3})}),r.jsx(Et,{label:"Sound Enabled",description:"Play sound on alert push",children:r.jsx("button",{onClick:()=>i("alerts.soundEnabled",e["alerts.soundEnabled"]==="true"?"false":"true"),className:`relative w-12 h-7 rounded-full transition-colors ${e["alerts.soundEnabled"]==="true"?"bg-accent":"bg-dark-600"}`,children:r.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${e["alerts.soundEnabled"]==="true"?"translate-x-6":"translate-x-1"}`})})})]}),r.jsx(vs,{icon:We,title:"MONITORING",color:"text-lcars-teal",children:r.jsx(Et,{label:"Offline Alert Threshold",description:"Minutes before alerting on offline screen",children:r.jsx("input",{type:"number",value:e["screens.offlineAlertMinutes"]||"10",onChange:o=>i("screens.offlineAlertMinutes",o.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-sm w-28",min:1,max:60})})}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:"text-sm font-semibold tracking-wider text-gray-400 mb-4 flex items-center gap-2",children:[r.jsx(_a,{className:"w-4 h-4"}),"SYSTEM"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Server"}),r.jsx("span",{className:"text-white",children:"http://localhost:3400"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Database"}),r.jsx("span",{className:"text-white",children:"SQLite (signage.db)"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Process Manager"}),r.jsx("span",{className:"text-white",children:"PM2 (skynet-signage)"})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Video Storage"}),r.jsx("span",{className:"text-white",children:"/Volumes/Parkwise/Skynet/video/"})]})]})]})]})}function vs({icon:e,title:t,color:n,children:s}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("h3",{className:`text-sm font-semibold tracking-wider mb-4 flex items-center gap-2 ${n}`,children:[r.jsx(e,{className:"w-4 h-4"}),t]}),r.jsx("div",{className:"space-y-4",children:s})]})}function Et({label:e,description:t,children:n}){return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white",children:e}),r.jsx("div",{className:"text-xs text-gray-500",children:t})]}),n]})}const Qh=x.createContext({clients:[],activeClient:null,setActiveClientId:()=>{},refreshClients:()=>{}}),Yh=()=>x.useContext(Qh),ws=[{id:"dashboard",label:"DASHBOARD",icon:R0,color:"text-accent"},{id:"screens",label:"SCREENS",icon:We,color:"text-lcars-blue"},{id:"playlists",label:"PLAYLISTS",icon:oa,color:"text-lcars-amber"},{id:"content",label:"CONTENT",icon:Ta,color:"text-lcars-purple"},{id:"locations",label:"LOCATIONS",icon:vt,color:"text-lcars-teal"},{id:"sync",label:"SYNC GROUPS",icon:wi,color:"text-lcars-pink"},{id:"schedules",label:"SCHEDULES",icon:So,color:"text-gray-400"},{id:"clients",label:"CLIENTS",icon:Hr,color:"text-accent",platformOnly:!0},{id:"settings",label:"SETTINGS",icon:W0,color:"text-gray-400"}];function Jx(){const{clients:e,activeClient:t,setActiveClientId:n}=Yh(),[s,a]=x.useState(!1);return e.length<=1?t?r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-accent/10 border border-accent/20",children:[r.jsx(Hr,{className:"w-3.5 h-3.5 text-accent"}),r.jsx("span",{className:"text-xs font-bold tracking-wider text-accent",children:t.name.toUpperCase()})]}):null:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-accent/10 border border-accent/20 hover:bg-accent/20 transition",children:[r.jsx(Hr,{className:"w-3.5 h-3.5 text-accent"}),r.jsx("span",{className:"text-xs font-bold tracking-wider text-accent",children:(t==null?void 0:t.name.toUpperCase())||"SELECT CLIENT"}),r.jsx(Ea,{className:`w-3.5 h-3.5 text-accent/60 transition-transform ${s?"rotate-180":""}`})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),r.jsxs("div",{className:"absolute top-full right-0 mt-1 w-64 bg-dark-700 border border-dark-500 rounded-xl shadow-2xl z-50 overflow-hidden",children:[r.jsx("div",{className:"px-3 py-2 border-b border-dark-600",children:r.jsx("span",{className:"text-[10px] text-gray-500 tracking-widest",children:"SWITCH CLIENT"})}),e.map(l=>{var i,c,o;return r.jsxs("button",{onClick:()=>{n(l.id),a(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-dark-600 transition ${l.id===(t==null?void 0:t.id)?"bg-accent/10 border-l-2 border-accent":""}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold",style:{background:`${((i=l.branding)==null?void 0:i.primaryColor)||"#F97316"}20`,color:((c=l.branding)==null?void 0:c.primaryColor)||"#F97316",border:`1px solid ${((o=l.branding)==null?void 0:o.primaryColor)||"#F97316"}40`},children:l.name.charAt(0)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm text-white font-medium truncate",children:l.name}),r.jsxs("div",{className:"text-[10px] text-gray-500",children:[l.screen_count||0," screens  ",l.location_count||0," locations  ",l.plan]})]}),l.id===(t==null?void 0:t.id)&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-accent"})]},l.id)})]})]})]})}function Xx(){var f;const[e,t]=x.useState("dashboard"),[n,s]=x.useState(!1),[a,l]=x.useState(null),[i,c]=x.useState(!1),[o,d]=x.useState([]),[m,p]=x.useState([]),[u,v]=x.useState("parkwise"),b=m.find(w=>w.id===u)||null,E=x.useCallback(async()=>{try{const _=await(await fetch("/api/clients")).json();_.success&&(p(_.data),_.data.length>0&&!_.data.find(L=>L.id===u)&&v(_.data[0].id))}catch(w){console.error("Failed to fetch clients:",w)}},[u]),M=x.useCallback(async()=>{try{const _=await(await fetch(`/api/screens?client_id=${u}`)).json();_.success&&d(_.data)}catch(w){console.error("Failed to fetch screens:",w)}},[u]);x.useEffect(()=>{E()},[]),x.useEffect(()=>{M()},[u,M]),x.useEffect(()=>{const w=Sr(window.location.origin,{transports:["websocket","polling"]});return w.on("connect",()=>c(!0)),w.on("disconnect",()=>c(!1)),w.on("screens:update",()=>M()),w.on("screens:mode-update",({screenId:_,mode:L})=>{d(j=>j.map(g=>g.id===_?{...g,currentMode:L}:g))}),l(w),()=>{w.disconnect()}},[M]),x.useEffect(()=>{const w=window.location.hash.replace("#","");ws.find(L=>L.id===w)&&t(w);const _=()=>{const L=window.location.hash.replace("#","");ws.find(j=>j.id===L)&&t(L)};return window.addEventListener("hashchange",_),()=>window.removeEventListener("hashchange",_)},[]);const y=w=>{t(w),window.location.hash=w},h=o.filter(w=>w.connected).length;return r.jsx(Qh.Provider,{value:{clients:m,activeClient:b,setActiveClientId:v,refreshClients:E},children:r.jsxs("div",{className:"h-screen flex overflow-hidden bg-dark-900",children:[r.jsxs("aside",{className:`flex-shrink-0 flex flex-col border-r border-dark-600 bg-dark-800 transition-all duration-300 ${n?"w-16":"w-56"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-dark-600 h-16",children:[r.jsx("div",{className:"w-8 h-8 bg-accent/20 border border-accent rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(_a,{className:"w-4 h-4 text-accent"})}),!n&&r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("h1",{className:"text-sm font-bold tracking-wider text-accent",children:"SKYNET"}),r.jsx("p",{className:"text-[10px] text-gray-500 tracking-widest",children:"SIGNAGE PLATFORM"})]})]}),r.jsx("nav",{className:"flex-1 py-2 space-y-1 px-2 overflow-y-auto",children:ws.map(w=>{const _=w.icon,L=e===w.id;return r.jsxs("button",{onClick:()=>y(w.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${L?"bg-accent/15 text-accent border-l-2 border-accent":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:n?w.label:void 0,children:[r.jsx(_,{className:`w-4.5 h-4.5 flex-shrink-0 ${L?"text-accent":w.color}`}),!n&&r.jsx("span",{className:"tracking-wider",children:w.label})]},w.id)})}),r.jsxs("div",{className:"p-3 border-t border-dark-600 space-y-2",children:[!n&&r.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-lg text-xs ${i?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[i?r.jsx(Ao,{className:"w-3.5 h-3.5"}):r.jsx(Lo,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:i?"Connected":"Disconnected"}),r.jsxs("span",{className:"ml-auto text-gray-500",children:[h,"/",o.length]})]}),r.jsx("button",{onClick:()=>s(!n),className:"w-full flex items-center justify-center p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-dark-700 transition",children:n?r.jsx(S0,{className:"w-4 h-4"}):r.jsx(b0,{className:"w-4 h-4"})})]})]}),r.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between h-16 px-6 border-b border-dark-600 bg-dark-800/50",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:"text-lg font-semibold tracking-wider",children:(f=ws.find(w=>w.id===e))==null?void 0:f.label})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Jx,{}),r.jsx("button",{onClick:M,className:"p-2 hover:bg-dark-600 rounded-lg transition text-gray-400 hover:text-white",children:r.jsx(qt,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),h," screens online"]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e==="dashboard"&&r.jsx(Ax,{screens:o}),e==="screens"&&r.jsx(Ix,{screens:o,onRefresh:M}),e==="playlists"&&r.jsx(Fx,{screens:o}),e==="content"&&r.jsx(Ux,{}),e==="locations"&&r.jsx(Vx,{screens:o,onRefresh:M}),e==="sync"&&r.jsx(Gx,{screens:o,onRefresh:M}),e==="schedules"&&r.jsx(qx,{}),e==="clients"&&r.jsx(Yx,{}),e==="settings"&&r.jsx(Kx,{})]})]})]})})}function Zt(e,t,n){return e+(t-e)*n}function cr(e,t=0,n=100){return Math.max(t,Math.min(n,e))}function Zx(e){const t=document.documentElement.style;t.setProperty("--mood-energy",String(e.energy)),t.setProperty("--mood-warmth",String(e.warmth)),t.setProperty("--mood-urgency",String(e.urgency)),t.setProperty("--mood-density",String(e.density)),t.setProperty("--mood-tempo",String(e.tempo)),t.setProperty("--mood-brightness",String(e.brightness)),t.setProperty("--mood-formality",String(e.formality));const n=Zt(210,30,e.warmth),s=cr(Zt(30,80,e.energy),0,100),a=cr(Zt(8,45,e.brightness),0,100);t.setProperty("--mood-hue",String(Math.round(n))),t.setProperty("--mood-saturation",`${Math.round(s)}%`),t.setProperty("--mood-lightness",`${Math.round(a)}%`),t.setProperty("--mood-bg",`hsl(${Math.round(n)}, ${Math.round(s)}%, ${Math.round(a)}%)`);const l=n+30,i=cr(s+10,0,100),c=cr(a+20,0,100);t.setProperty("--mood-accent",`hsl(${Math.round(l)}, ${Math.round(i)}%, ${Math.round(c)}%)`);const o=a>50?10:95;if(t.setProperty("--mood-text",`hsl(${Math.round(n)}, 10%, ${o}%)`),e.urgency>.3){const u=cr(Zt(0,.3,(e.urgency-.3)/.7),0,1);t.setProperty("--mood-urgency-overlay",`rgba(255, 40, 40, ${u.toFixed(3)})`)}else t.setProperty("--mood-urgency-overlay","rgba(255, 40, 40, 0)");const d=Zt(8,1,e.tempo);t.setProperty("--mood-anim-speed",`${d.toFixed(2)}s`);const m=Zt(4,.5,e.tempo);t.setProperty("--mood-pulse-rate",`${m.toFixed(2)}s`);const p=Zt(2,.8,e.density);t.setProperty("--mood-spacing-scale",String(p.toFixed(2)))}const qn=new URLSearchParams(window.location.search),eg=qn.has("screen")||qn.has("display"),dr=qn.get("screen")||qn.get("id")||`screen-${Math.random().toString(36).slice(2,8)}`,dd={mode:"hybrid",interactiveUrl:"",idleTimeout:60,touchToInteract:!0};function tg({widget:e,config:t}){switch(e){case"clock":return r.jsx(La,{config:t});case"weather":return r.jsx(Ia,{config:t});case"camera":return r.jsx(Aa,{config:t});case"camera-grid":return r.jsx(Oa,{config:t});case"stats":return r.jsx(Ra,{config:t});case"occupancy":return r.jsx(Ma,{config:t});case"iframe":return r.jsx(Da,{config:t});case"layout":return r.jsx(Fa,{config:t});case"playlist":return r.jsx(rx,{config:t});case"alert":return r.jsx(qh,{config:t});case"operations-dashboard":return r.jsx(Oo,{config:t});case"team-activity":return r.jsx(Wh,{config:t});case"sports":case"football":case"rangers":case"celtic":return r.jsx(cx,{config:{team:e==="celtic"?"celtic":e==="rangers"?"rangers":t.team,...t}});case"testcard":case"test-card":return r.jsx(ix,{config:t});case"youngs-menu":case"youngs":return r.jsx(dx,{config:t});case"youngs-kiosk":case"kiosk":return r.jsx(hx,{config:t});case"template":return r.jsx(jx,{config:t});case"security-alert":return r.jsx(kx,{config:t});case"revenue":case"pos-revenue":return r.jsx(bx,{config:t});case"mascot":case"buddy":case"character":return r.jsx(Ex,{config:t});default:return r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl mb-2",children:["Unknown widget: ",e]}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(t,null,2)})]})})}}function ng(){const[e,t]=x.useState(null),[n,s]=x.useState(!1),[a,l]=x.useState(null),[i,c]=x.useState(null),[o,d]=x.useState(null),[m,p]=x.useState(!1),[u,v]=x.useState(!0),[b,E]=x.useState(dd),[M,y]=x.useState("signage"),[h,f]=x.useState(!1),w=x.useRef(null),_=x.useRef(null),L=qn.get("location")||void 0,j=Gh(L,e);x.useEffect(()=>{Zx(j)},[j]);const g=x.useCallback(()=>{const S=document.documentElement;S.requestFullscreen?S.requestFullscreen().then(()=>{p(!0),v(!1)}).catch(console.error):S.webkitRequestFullscreen&&(S.webkitRequestFullscreen(),p(!0),v(!1))},[]);x.useEffect(()=>{const S=()=>{p(!!document.fullscreenElement),document.fullscreenElement||v(!0)};return document.addEventListener("fullscreenchange",S),document.addEventListener("webkitfullscreenchange",S),()=>{document.removeEventListener("fullscreenchange",S),document.removeEventListener("webkitfullscreenchange",S)}},[]);const T=x.useCallback(()=>{var S;b.mode!=="signage-only"&&(y("interactive"),f(!1),(S=_.current)==null||S.emit("mode-change",{mode:"interactive"}))},[b.mode]),N=x.useCallback(()=>{f(!0),setTimeout(()=>{var S;y("signage"),f(!1),(S=_.current)==null||S.emit("mode-change",{mode:"signage"})},500)},[]),F=x.useCallback(()=>{w.current&&clearTimeout(w.current),b.idleTimeout>0&&(w.current=setTimeout(()=>{console.log(" Idle timeout  returning to signage"),N()},b.idleTimeout*1e3))},[b.idleTimeout,N]);x.useEffect(()=>{if(M!=="interactive"){w.current&&clearTimeout(w.current);return}F();const S=()=>F();return window.addEventListener("mousemove",S),window.addEventListener("mousedown",S),window.addEventListener("keydown",S),window.addEventListener("touchstart",S),window.addEventListener("touchmove",S),()=>{w.current&&clearTimeout(w.current),window.removeEventListener("mousemove",S),window.removeEventListener("mousedown",S),window.removeEventListener("keydown",S),window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",S)}},[M,F]),x.useEffect(()=>{const S=k=>{var D;(k.data==="user-activity"||((D=k.data)==null?void 0:D.type)==="user-activity")&&F()};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[F]),x.useEffect(()=>{const S=Sr(window.location.origin,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:3e4,randomizationFactor:.5,timeout:2e4});return _.current=S,S.on("connect",()=>{console.log(" Connected to server"),s(!0),S.emit("register",{screenId:dr,name:qn.get("name")||dr,type:"browser"})}),S.on("disconnect",k=>{console.log(" Disconnected:",k),s(!1)}),S.on("reconnect_attempt",k=>{console.log(` Reconnecting... attempt ${k}`)}),S.on("reconnect",()=>{console.log(" Reconnected!")}),S.on("screen-config",k=>{console.log(" Screen config received:",k),E({...dd,...k})}),S.on("set-mode",k=>{console.log(` Admin forced mode: ${k.mode}`),k.mode==="signage"?N():T()}),S.on("content",k=>{console.log(" Content received:",k),k.type==="alert"?(d(k.content),k.duration&&setTimeout(()=>d(null),k.duration)):k.type==="clear"?(l(null),c(null),d(null)):k.type==="reload"?(console.log(" Reload requested"),window.location.reload()):k.type==="playlist"?(console.log(" Playlist received:",k.content),c(k.content),l(null)):(l(k),c(null)),k.type!=="alert"&&k.type!=="reload"&&(y("signage"),f(!1),S.emit("mode-change",{mode:"signage"}))}),t(S),()=>{S.disconnect()}},[]),x.useEffect(()=>{if(!e)return;const S=setInterval(()=>e.emit("heartbeat"),3e4);return()=>clearInterval(S)},[e]);const V=x.useCallback(S=>{u&&!m||S.target.closest("video, button, input, a, iframe, [data-no-interact]")||b.touchToInteract&&b.mode!=="signage-only"&&T()},[b,T,u,m]),H=b.interactiveUrl||`${window.location.protocol}//${window.location.hostname}:5180`;return b.mode==="kiosk"?r.jsx("div",{className:"fixed inset-0 bg-black",children:r.jsx("iframe",{src:H,className:"w-full h-full border-0",title:"Kiosk Interface",allow:"camera;microphone;fullscreen"})}):M==="interactive"?r.jsxs("div",{className:`fixed inset-0 bg-black transition-opacity duration-500 ${h?"opacity-0":"opacity-100"}`,children:[r.jsx("iframe",{src:H,className:"w-full h-full border-0",title:"Interactive Interface",allow:"camera;microphone;fullscreen"}),r.jsxs("div",{className:"fixed bottom-4 right-4 bg-black/50 text-gray-500 text-xs px-3 py-1.5 rounded-full backdrop-blur-sm",children:["Auto-return in ",b.idleTimeout,"s idle"]})]}):r.jsxs("div",{className:"fixed inset-0 transition-colors duration-[3000ms]",style:{background:"var(--mood-bg, #0a0a0f)"},onClick:V,onTouchStart:V,children:[u&&!m&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[100] cursor-pointer",onClick:S=>{S.stopPropagation(),g()},children:r.jsxs("div",{className:"text-center animate-pulse",children:[r.jsx(ji,{className:"w-20 h-20 mx-auto mb-6 text-accent"}),r.jsx("h2",{className:"text-2xl font-light text-white mb-2",children:"Click anywhere to enter fullscreen"}),r.jsx("p",{className:"text-gray-500 text-sm",children:dr})]})}),r.jsxs("div",{className:`fixed top-4 right-4 flex items-center gap-2 text-xs px-3 py-1.5 rounded-full z-40 ${n?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[n?r.jsx(Ao,{className:"w-4 h-4"}):r.jsx(Lo,{className:"w-4 h-4 animate-pulse"}),r.jsx("span",{children:n?dr:"Reconnecting..."})]}),o&&r.jsx("div",{className:`fixed top-0 left-0 right-0 p-6 text-center text-2xl font-bold animate-slideUp z-50 ${o.level==="error"?"bg-red-600":o.level==="warning"?"bg-yellow-600":o.level==="success"?"bg-green-600":"bg-accent-dim"}`,children:o.message}),i?r.jsx(_x,{playlist:i,showControls:!1,onComplete:()=>{console.log(" Playlist complete"),c(null)}}):a?a.type==="url"?r.jsx("iframe",{src:a.content.url,className:"w-full h-full border-0",title:"Display Content"}):a.type==="widget"?r.jsx("div",{className:"w-full h-full",children:r.jsx(tg,{widget:a.content.widget,config:a.content.config||{}})}):a.type==="media"?r.jsx("video",{src:a.content.url,className:"w-full h-full object-contain bg-black",autoPlay:!0,muted:!1,loop:a.content.loop,playsInline:!0}):r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-2xl mb-2",children:"Unknown content type"}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(a,null,2)})]}):r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center animate-fadeIn overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-20 transition-all duration-[5000ms]",style:{background:"radial-gradient(ellipse at 50% 50%, var(--mood-accent, #FF9900) 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full opacity-10 transition-all duration-[5000ms]",style:{background:"radial-gradient(circle, hsl(var(--mood-hue, 210), 60%, 30%) 0%, transparent 70%)",animation:"pulse var(--mood-anim-speed, 4s) ease-in-out infinite"}}),r.jsxs("div",{className:"text-center relative z-10",children:[r.jsx(ji,{className:"w-24 h-24 mx-auto mb-6 opacity-30 transition-colors duration-[3000ms]",style:{color:"var(--mood-accent, #FF9900)"}}),r.jsx("h1",{className:"text-3xl font-light mb-2 transition-colors duration-[3000ms]",style:{color:"var(--mood-text, #888)"},children:"SKYNET Display"}),r.jsx("p",{className:"text-gray-600",children:dr}),r.jsx("p",{className:"text-sm text-gray-700 mt-4",children:"Waiting for content..."})]}),b.touchToInteract&&b.mode==="hybrid"&&r.jsx("p",{className:"text-xs text-gray-800 mt-2",children:"Touch to interact"})]})]})}function rg(){return eg?r.jsx(ng,{}):r.jsx(Xx,{})}jl.createRoot(document.getElementById("root")).render(r.jsx(ff.StrictMode,{children:r.jsx(rg,{})}));export{r as j,x as r,Gh as u};
