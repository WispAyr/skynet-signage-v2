import{r as n,j as e}from"./index-DX89Wz3U.js";const g={normal:{border:"",badge:""},high:{border:"ring-2 ring-amber-500/30",badge:"bg-amber-500/20 text-amber-400"},urgent:{border:"ring-2 ring-red-500/30",badge:"bg-red-500/20 text-red-400"}};function A({data:r}){const[o,b]=n.useState(0),[j,p]=n.useState(0),[y,u]=n.useState(!1),[N,v]=n.useState(new Date);n.useRef(0);const x=n.useRef(0),a=r.brandColor||"#F97316",f=(r.rotateInterval||8)*1e3,m=r.showClock!==!1,w=r.showProgress!==!1,t=r.announcements||[];if(n.useEffect(()=>{if(!m)return;const i=setInterval(()=>v(new Date),1e3);return()=>clearInterval(i)},[m]),n.useEffect(()=>{if(t.length<=1)return;let i=Date.now();const l=()=>{const k=Date.now()-i,h=Math.min(k/f,1);p(h),h>=1&&(u(!0),setTimeout(()=>{b(T=>(T+1)%t.length),u(!1),i=Date.now()},400)),x.current=requestAnimationFrame(l)};return x.current=requestAnimationFrame(l),()=>cancelAnimationFrame(x.current)},[t.length,f]),t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“‹"}),e.jsx("div",{className:"text-xl",children:"No Announcements"})]})});const s=t[o],c=s.priority||"normal",d=s.color||a;return e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",style:{background:"#0a0a0f"},children:[e.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-8 py-5 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-8 rounded-full",style:{background:a}}),e.jsx("h2",{className:"text-2xl font-bold tracking-widest",style:{fontFamily:"Antonio, sans-serif",color:a},children:r.title||"ANNOUNCEMENTS"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[m&&e.jsx("div",{className:"text-2xl font-bold text-white tabular-nums",style:{fontFamily:"Antonio, sans-serif"},children:N.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),e.jsxs("div",{className:"text-sm text-gray-500",children:[o+1," / ",t.length]})]})]}),w&&t.length>1&&e.jsx("div",{className:"flex-shrink-0 h-1 bg-dark-700",children:e.jsx("div",{className:"h-full transition-all duration-100",style:{width:`${j*100}%`,background:`linear-gradient(90deg, ${a}, ${d})`}})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8 md:p-12",children:e.jsxs("div",{className:`max-w-3xl w-full transition-all duration-400 ${y?"opacity-0 translate-y-4":"opacity-100 translate-y-0"} ${g[c].border}`,children:[s.icon&&e.jsx("div",{className:"text-6xl mb-6 text-center",children:s.icon}),c!=="normal"&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("span",{className:`text-xs px-3 py-1 rounded-full tracking-widest font-bold ${g[c].badge}`,children:c.toUpperCase()})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center mb-6 leading-tight",style:{fontFamily:"Antonio, sans-serif"},children:s.title}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 text-center leading-relaxed max-w-2xl mx-auto",children:s.message}),s.footer&&e.jsx("div",{className:"text-center mt-8",children:e.jsx("span",{className:"text-sm px-4 py-2 rounded-full border",style:{color:`${d}cc`,borderColor:`${d}40`,background:`${d}10`},children:s.footer})})]})}),t.length>1&&e.jsx("div",{className:"flex-shrink-0 flex justify-center gap-2 pb-6",children:t.map((i,l)=>e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${l===o?"w-8":"w-2 opacity-30"}`,style:{background:l===o?a:"#6b7280"}},l))})]})}export{A as AnnouncementRotatorTemplate};
