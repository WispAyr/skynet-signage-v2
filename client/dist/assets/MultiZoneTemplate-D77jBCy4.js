import{r,j as t}from"./index-z_oS8ztw.js";function $({data:e}){var f,u,b,g,y,v,j;const[x,k]=r.useState(new Date),[o,C]=r.useState(null),[a,I]=r.useState(0),A=r.useRef(null),i=e.brandColor||"#F97316",S=e.sidebarWidth||"280px",W=e.tickerHeight||"48px",F=e.sidebar!==void 0,h=e.ticker&&e.ticker.messages.length>0;r.useEffect(()=>{const s=setInterval(()=>k(new Date),1e3);return()=>clearInterval(s)},[]),r.useEffect(()=>{var l;if(!((l=e.sidebar)!=null&&l.showWeather))return;const s=e.sidebar.weatherLocation||"Ayr",n=async()=>{var w,p,N;try{const d=(w=(await(await fetch(`https://wttr.in/${encodeURIComponent(s)}?format=j1`)).json()).current_condition)==null?void 0:w[0];d&&C({temp:parseInt(d.temp_C),description:((N=(p=d.weatherDesc)==null?void 0:p[0])==null?void 0:N.value)||""})}catch{}};n();const m=setInterval(n,6e5);return()=>clearInterval(m)},[(f=e.sidebar)==null?void 0:f.showWeather,(u=e.sidebar)==null?void 0:u.weatherLocation]),r.useEffect(()=>{const s=e.mainContent.items;if(!s||s.length<=1)return;const n=(e.mainContent.rotateInterval||15)*1e3,m=setInterval(()=>{I(l=>(l+1)%s.length)},n);return()=>clearInterval(m)},[e.mainContent.items,e.mainContent.rotateInterval]);const L=e.mainContent.items&&e.mainContent.items[a]||e.mainContent,E=()=>{const s=L;switch(s.type||e.mainContent.type){case"image":return t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:t.jsx("img",{src:s.url,className:"max-w-full max-h-full object-contain",alt:""})});case"video":return t.jsx("video",{src:s.url,className:"w-full h-full object-contain bg-black",autoPlay:!0,muted:!0,loop:!0,playsInline:!0});case"html":return t.jsx("div",{className:"w-full h-full p-8 overflow-auto",dangerouslySetInnerHTML:{__html:s.html||""}});case"text":default:return t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-12 text-center",children:[s.title&&t.jsx("h2",{className:"text-5xl font-bold text-white mb-6",style:{fontFamily:"Antonio, sans-serif"},children:s.title}),s.body&&t.jsx("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:s.body})]})}},c=h?e.ticker.messages.join("     •     ")+"     •     ":"";return t.jsxs("div",{className:"flex flex-col h-full overflow-hidden",style:{background:"#0a0a0f"},children:[t.jsxs("div",{className:"flex flex-1 overflow-hidden",style:{minHeight:0},children:[t.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 transition-opacity duration-700",children:E()}),e.mainContent.items&&e.mainContent.items.length>1&&t.jsx("div",{className:"absolute bottom-4 right-4 flex gap-1.5",children:e.mainContent.items.map((s,n)=>t.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${n===a?"w-6":"opacity-40"}`,style:{background:n===a?i:"#6b7280"}},n))})]}),F&&t.jsxs("div",{className:"flex-shrink-0 flex flex-col border-l border-gray-800 bg-dark-800/80",style:{width:S},children:[((b=e.sidebar)==null?void 0:b.showLogo)&&t.jsx("div",{className:"p-6 border-b border-gray-800 flex items-center justify-center",children:e.sidebar.logoUrl?t.jsx("img",{src:e.sidebar.logoUrl,className:"max-h-12 object-contain",alt:"Logo"}):t.jsx("div",{className:"text-xl font-bold tracking-widest",style:{color:i,fontFamily:"Antonio, sans-serif"},children:"PARKWISE"})}),((g=e.sidebar)==null?void 0:g.showClock)!==!1&&t.jsxs("div",{className:"p-6 border-b border-gray-800 text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-white tabular-nums",style:{fontFamily:"Antonio, sans-serif"},children:x.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}),t.jsx("div",{className:"text-xs text-gray-500 mt-2",children:x.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"})})]}),((y=e.sidebar)==null?void 0:y.showWeather)!==!1&&o&&t.jsxs("div",{className:"p-6 border-b border-gray-800 text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-white",style:{fontFamily:"Antonio, sans-serif"},children:[o.temp,"°C"]}),t.jsx("div",{className:"text-sm text-gray-400 mt-1 capitalize",children:o.description})]}),((v=e.sidebar)==null?void 0:v.customItems)&&e.sidebar.customItems.length>0&&t.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:e.sidebar.customItems.map((s,n)=>t.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[t.jsx("div",{className:"text-xs text-gray-500 tracking-wider",children:s.label}),t.jsx("div",{className:"text-lg font-bold text-white mt-0.5",style:{fontFamily:"Antonio, sans-serif"},children:s.value})]},n))})]})]}),h&&t.jsxs("div",{className:"flex-shrink-0 overflow-hidden flex items-center border-t border-gray-800",style:{height:W,background:((j=e.ticker)==null?void 0:j.backgroundColor)||`${i}15`},children:[t.jsxs("div",{ref:A,className:"whitespace-nowrap text-sm font-medium tracking-wider animate-ticker",style:{color:`${i}dd`,fontFamily:"Antonio, sans-serif",animation:`ticker ${Math.max(20,c.length*.15)}s linear infinite`},children:[c,c]}),t.jsx("style",{children:`
            @keyframes ticker {
              0% { transform: translateX(0); }
              100% { transform: translateX(-50%); }
            }
          `})]})]})}export{$ as MultiZoneTemplate};
